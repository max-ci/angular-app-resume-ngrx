"use strict";(self.webpackChunkangular_app_resume=self.webpackChunkangular_app_resume||[]).push([[179],{2011:(ce,K,S)=>{S.d(K,{Dh:()=>ne,GT:()=>X,cc:()=>Ae,hO:()=>be,on:()=>F,pX:()=>W,xv:()=>Q});var l=S(4650),P=S(9260),T=S(263);ce=S.hmd(ce);const ee=["ngOnDestroy"],W=(De,Se,Ne,Pe={})=>new Proxy(De,{get:(Ve,ze)=>Ne.runOutsideAngular(()=>{var Je;if(De[ze])return!(null===(Je=Pe?.spy)||void 0===Je)&&Je.get&&Pe.spy.get(ze,De[ze]),De[ze];if(ee.indexOf(ze)>-1)return()=>{};const fe=Se.toPromise().then(Ee=>{const ke=Ee&&Ee[ze];return"function"==typeof ke?ke.bind(Ee):ke&&ke.then?ke.then(le=>Ne.run(()=>le)):Ne.run(()=>ke)});return new Proxy(()=>{},{get:(Ee,ke)=>fe[ke],apply:(Ee,ke,le)=>fe.then(ue=>{var Ie;const ge=ue&&ue(...le);return!(null===(Ie=Pe?.spy)||void 0===Ie)&&Ie.apply&&Pe.spy.apply(ze,le,ge),ge})})})}),X=(De,Se)=>{Se.forEach(Ne=>{Object.getOwnPropertyNames(Ne.prototype||Ne).forEach(Pe=>{Object.defineProperty(De.prototype,Pe,Object.getOwnPropertyDescriptor(Ne.prototype||Ne,Pe))})})};class se{constructor(Se){return Se}}const ne=new l.OlP("angularfire2.app.options"),Q=new l.OlP("angularfire2.app.name");function F(De,Se,Ne){const Ve="object"==typeof Ne&&Ne||{};Ve.name=Ve.name||"string"==typeof Ne&&Ne||"[DEFAULT]";const Je=P.Z.apps.filter(fe=>fe&&fe.name===Ve.name)[0]||Se.runOutsideAngular(()=>P.Z.initializeApp(De,Ve));try{JSON.stringify(De)!==JSON.stringify(Je.options)&&H("error",`${Je.name} Firebase App already initialized with different options${ce.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new se(Je)}const H=(De,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[De](...Se)},q={provide:se,useFactory:F,deps:[ne,l.R0b,[new l.FiY,Q]]};let be=(()=>{class De{constructor(Ne){P.Z.registerVersion("angularfire",T.q4.full,"core"),P.Z.registerVersion("angularfire",T.q4.full,"app-compat"),P.Z.registerVersion("angular",l.q4F.full,Ne.toString())}static initializeApp(Ne,Pe){return{ngModule:De,providers:[{provide:ne,useValue:Ne},{provide:Q,useValue:Pe}]}}}return De.\u0275fac=function(Ne){return new(Ne||De)(l.LFG(l.Lbi))},De.\u0275mod=l.oAB({type:De}),De.\u0275inj=l.cJS({providers:[q]}),De})();function Ae(De,Se,Ne,Pe,Ve){const[,ze,Je]=globalThis.\u0275AngularfireInstanceCache.find(fe=>fe[0]===De)||[];if(ze)return function Ue(De,Se){try{return De.toString()===Se.toString()}catch{return De===Se}}(Ve,Je)||(we("error",`${Se} was already initialized on the ${Ne} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Ve,was:Je})),ze;{const fe=Pe();return globalThis.\u0275AngularfireInstanceCache.push([De,fe,Ve]),fe}}const tt=!!ce.hot,we=(De,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[De](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(ce,K,S)=>{S.d(K,{q4:()=>M8,iC:()=>Da,HU:()=>kr,vb:()=>A2,JM:()=>C4,u3:()=>qc});var l=S(4650),P=S(259),T=S(5861),ee=S(9681),W=S(2090),X=S(4859),se=S(1877),ne=S(8766);const Q="@firebase/installations",F="0.6.0",q=`w:${F}`,be="FIS_v2",Se=new W.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(M){return M instanceof W.ZR&&M.code.includes("request-failed")}function Pe({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function Ve(M){return{token:M.token,requestStatus:2,expiresIn:ue(M.expiresIn),creationTime:Date.now()}}function ze(M,D){return Je.apply(this,arguments)}function Je(){return(Je=(0,T.Z)(function*(M,D){const G=(yield D.json()).error;return Se.create("request-failed",{requestName:M,serverCode:G.code,serverMessage:G.message,serverStatus:G.status})})).apply(this,arguments)}function fe({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function Ee(M,{refreshToken:D}){const R=fe(M);return R.append("Authorization",function Ie(M){return`${be} ${M}`}(D)),R}function ke(M){return le.apply(this,arguments)}function le(){return(le=(0,T.Z)(function*(M){const D=yield M();return D.status>=500&&D.status<600?M():D})).apply(this,arguments)}function ue(M){return Number(M.replace("s","000"))}function ge(M,D){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,T.Z)(function*({appConfig:M,heartbeatServiceProvider:D},{fid:R}){const G=Pe(M),he=fe(M),ve=D.getImmediate({optional:!0});if(ve){const _t=yield ve.getHeartbeatsHeader();_t&&he.append("x-firebase-client",_t)}const ct={method:"POST",headers:he,body:JSON.stringify({fid:R,authVersion:be,appId:M.appId,sdkVersion:q})},bt=yield ke(()=>fetch(G,ct));if(bt.ok){const _t=yield bt.json();return{fid:_t.fid||R,registrationStatus:2,refreshToken:_t.refreshToken,authToken:Ve(_t.authToken)}}throw yield ze("Create Installation",bt)})).apply(this,arguments)}function Xe(M){return new Promise(D=>{setTimeout(D,M)})}const on=/^[cdef][\w-]{21}$/;function Tt(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const R=function jt(M){return function Ct(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return on.test(R)?R:""}catch{return""}}function Et(M){return`${M.appName}!${M.appId}`}const an=new Map;function Gn(M,D){const R=Et(M);ci(R,D),function fr(M,D){const R=function xn(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=M=>{ci(M.data.key,M.data.fid)}),Wn}();R&&R.postMessage({key:M,fid:D}),function Ii(){0===an.size&&Wn&&(Wn.close(),Wn=null)}()}(R,D)}function ci(M,D){const R=an.get(M);if(R)for(const G of R)G(D)}let Wn=null;const qn="firebase-installations-store";let Hr=null;function Si(){return Hr||(Hr=(0,ne.X3)("firebase-installations-database",1,{upgrade:(M,D)=>{0===D&&M.createObjectStore(qn)}})),Hr}function hn(M,D){return nr.apply(this,arguments)}function nr(){return(nr=(0,T.Z)(function*(M,D){const R=Et(M),he=(yield Si()).transaction(qn,"readwrite"),ve=he.objectStore(qn),Ze=yield ve.get(R);return yield ve.put(D,R),yield he.done,(!Ze||Ze.fid!==D.fid)&&Gn(M,D.fid),D})).apply(this,arguments)}function pt(M){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,T.Z)(function*(M){const D=Et(M),G=(yield Si()).transaction(qn,"readwrite");yield G.objectStore(qn).delete(D),yield G.done})).apply(this,arguments)}function br(M,D){return kn.apply(this,arguments)}function kn(){return(kn=(0,T.Z)(function*(M,D){const R=Et(M),he=(yield Si()).transaction(qn,"readwrite"),ve=he.objectStore(qn),Ze=yield ve.get(R),ct=D(Ze);return void 0===ct?yield ve.delete(R):yield ve.put(ct,R),yield he.done,ct&&(!Ze||Ze.fid!==ct.fid)&&Gn(M,ct.fid),ct})).apply(this,arguments)}function rr(M){return Er.apply(this,arguments)}function Er(){return(Er=(0,T.Z)(function*(M){let D;const R=yield br(M.appConfig,G=>{const he=Ot(G),ve=wt(M,he);return D=ve.registrationPromise,ve.installationEntry});return""===R.fid?{installationEntry:yield D}:{installationEntry:R,registrationPromise:D}})).apply(this,arguments)}function Ot(M){return ir(M||{fid:Tt(),registrationStatus:0})}function wt(M,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Se.create("app-offline"))};const R={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},G=function Rt(M,D){return pn.apply(this,arguments)}(M,R);return{installationEntry:R,registrationPromise:G}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:ar(M)}:{installationEntry:D}}function pn(){return(pn=(0,T.Z)(function*(M,D){try{const R=yield ge(M,D);return hn(M.appConfig,R)}catch(R){throw Ne(R)&&409===R.customData.serverCode?yield pt(M.appConfig):yield hn(M.appConfig,{fid:D.fid,registrationStatus:0}),R}})).apply(this,arguments)}function ar(M){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,T.Z)(function*(M){let D=yield xr(M.appConfig);for(;1===D.registrationStatus;)yield Xe(100),D=yield xr(M.appConfig);if(0===D.registrationStatus){const{installationEntry:R,registrationPromise:G}=yield rr(M);return G||R}return D})).apply(this,arguments)}function xr(M){return br(M,D=>{if(!D)throw Se.create("installation-not-found");return ir(D)})}function ir(M){return function li(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function Ut(M,D){return xi.apply(this,arguments)}function xi(){return(xi=(0,T.Z)(function*({appConfig:M,heartbeatServiceProvider:D},R){const G=qt(M,R),he=Ee(M,R),ve=D.getImmediate({optional:!0});if(ve){const _t=yield ve.getHeartbeatsHeader();_t&&he.append("x-firebase-client",_t)}const ct={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:q,appId:M.appId}})},bt=yield ke(()=>fetch(G,ct));if(bt.ok)return Ve(yield bt.json());throw yield ze("Generate Auth Token",bt)})).apply(this,arguments)}function qt(M,{fid:D}){return`${Pe(M)}/${D}/authTokens:generate`}function Tr(M){return Un.apply(this,arguments)}function Un(){return(Un=(0,T.Z)(function*(M,D=!1){let R;const G=yield br(M.appConfig,ve=>{if(!Xt(ve))throw Se.create("not-registered");const Ze=ve.authToken;if(!D&&J(Ze))return ve;if(1===Ze.requestStatus)return R=nt(M,D),ve;{if(!navigator.onLine)throw Se.create("app-offline");const ct=ae(ve);return R=xt(M,ct),ct}});return R?yield R:G.authToken})).apply(this,arguments)}function nt(M,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,T.Z)(function*(M,D){let R=yield lt(M.appConfig);for(;1===R.authToken.requestStatus;)yield Xe(100),R=yield lt(M.appConfig);const G=R.authToken;return 0===G.requestStatus?Tr(M,D):G})).apply(this,arguments)}function lt(M){return br(M,D=>{if(!Xt(D))throw Se.create("not-registered");return function $(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function xt(M,D){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,T.Z)(function*(M,D){try{const R=yield Ut(M,D),G=Object.assign(Object.assign({},D),{authToken:R});return yield hn(M.appConfig,G),R}catch(R){if(!Ne(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const G=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield hn(M.appConfig,G)}else yield pt(M.appConfig);throw R}})).apply(this,arguments)}function Xt(M){return void 0!==M&&2===M.registrationStatus}function J(M){return 2===M.requestStatus&&!function Y(M){const D=Date.now();return D<M.creationTime||M.creationTime+M.expiresIn<D+36e5}(M)}function ae(M){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:D})}function U(){return(U=(0,T.Z)(function*(M){const D=M,{installationEntry:R,registrationPromise:G}=yield rr(D);return G?G.catch(console.error):Tr(D).catch(console.error),R.fid})).apply(this,arguments)}function $e(){return($e=(0,T.Z)(function*(M,D=!1){const R=M;return yield mt(R),(yield Tr(R,D)).token})).apply(this,arguments)}function mt(M){return at.apply(this,arguments)}function at(){return(at=(0,T.Z)(function*(M){const{registrationPromise:D}=yield rr(M);D&&(yield D)})).apply(this,arguments)}function co(M){return Se.create("missing-app-config-values",{valueName:M})}const _1="installations",Us=M=>{const D=M.getProvider("app").getImmediate(),R=function Bs(M){if(!M||!M.options)throw co("App Configuration");if(!M.name)throw co("App Name");const D=["projectId","apiKey","appId"];for(const R of D)if(!M.options[R])throw co(R);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(D);return{app:D,appConfig:R,heartbeatServiceProvider:(0,ee._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Ho=M=>{const D=M.getProvider("app").getImmediate(),R=(0,ee._getProvider)(D,_1).getImmediate();return{getId:()=>function k(M){return U.apply(this,arguments)}(R),getToken:he=>function Ce(M){return $e.apply(this,arguments)}(R,he)}};(function y1(){(0,ee._registerComponent)(new X.wA(_1,Us,"PUBLIC")),(0,ee._registerComponent)(new X.wA("installations-internal",Ho,"PRIVATE"))})(),(0,ee.registerVersion)(Q,F),(0,ee.registerVersion)(Q,F,"esm2017");const js="@firebase/remote-config",Zn=new W.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class B{constructor(D,R,G,he){this.client=D,this.storage=R,this.storageCache=G,this.logger=he}isCachedDataFresh(D,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const G=Date.now()-R,he=G<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${G}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${he}.`),he}fetch(D){var R=this;return(0,T.Z)(function*(){const[G,he]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(he&&R.isCachedDataFresh(D.cacheMaxAgeMillis,G))return he;D.eTag=he&&he.eTag;const ve=yield R.client.fetch(D),Ze=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ve.status&&Ze.push(R.storage.setLastSuccessfulFetchResponse(ve)),yield Promise.all(Ze),ve})()}}function _e(M=navigator){return M.languages&&M.languages[0]||M.language}class de{constructor(D,R,G,he,ve,Ze){this.firebaseInstallations=D,this.sdkVersion=R,this.namespace=G,this.projectId=he,this.apiKey=ve,this.appId=Ze}fetch(D){var R=this;return(0,T.Z)(function*(){const[G,he]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},bt={sdk_version:R.sdkVersion,app_instance_id:G,app_instance_id_token:he,app_id:R.appId,language_code:_e()},_t={method:"POST",headers:ct,body:JSON.stringify(bt)},nn=fetch(Ze,_t),Vt=new Promise((ei,Ar)=>{D.signal.addEventListener(()=>{const So=new Error("The operation was aborted.");So.name="AbortError",Ar(So)})});let Ir;try{yield Promise.race([nn,Vt]),Ir=yield nn}catch(ei){let Ar="fetch-client-network";throw"AbortError"===ei?.name&&(Ar="fetch-timeout"),Zn.create(Ar,{originalErrorMessage:ei?.message})}let Hn=Ir.status;const Gi=Ir.headers.get("ETag")||void 0;let rs,t1;if(200===Ir.status){let ei;try{ei=yield Ir.json()}catch(Ar){throw Zn.create("fetch-client-parse",{originalErrorMessage:Ar?.message})}rs=ei.entries,t1=ei.state}if("INSTANCE_STATE_UNSPECIFIED"===t1?Hn=500:"NO_CHANGE"===t1?Hn=304:("NO_TEMPLATE"===t1||"EMPTY_CONFIG"===t1)&&(rs={}),304!==Hn&&200!==Hn)throw Zn.create("fetch-status",{httpStatus:Hn});return{status:Hn,eTag:Gi,config:rs}})()}}class ot{constructor(D,R){this.client=D,this.storage=R}fetch(D){var R=this;return(0,T.Z)(function*(){const G=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(D,G)})()}attemptFetch(D,{throttleEndTimeMillis:R,backoffCount:G}){var he=this;return(0,T.Z)(function*(){yield function Me(M,D){return new Promise((R,G)=>{const he=Math.max(D-Date.now(),0),ve=setTimeout(R,he);M.addEventListener(()=>{clearTimeout(ve),G(Zn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,R);try{const ve=yield he.client.fetch(D);return yield he.storage.deleteThrottleMetadata(),ve}catch(ve){if(!function Ge(M){if(!(M instanceof W.ZR&&M.customData))return!1;const D=Number(M.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ve))throw ve;const Ze={throttleEndTimeMillis:Date.now()+(0,W.$s)(G),backoffCount:G+1};return yield he.storage.setThrottleMetadata(Ze),he.attemptFetch(D,Ze)}})()}}class fn{constructor(D,R,G,he,ve){this.app=D,this._client=R,this._storageCache=G,this._storage=he,this._logger=ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yn(M,D){const R=M.target.error||void 0;return Zn.create(D,{originalErrorMessage:R&&R?.message})}const Jt="app_namespace_store";class jr{constructor(D,R,G,he=function Ur(){return new Promise((M,D)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=G=>{D(Yn(G,"storage-open"))},R.onsuccess=G=>{M(G.target.result)},R.onupgradeneeded=G=>{0===G.oldVersion&&G.target.result.createObjectStore(Jt,{keyPath:"compositeKey"})}}catch(R){D(Zn.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=D,this.appName=R,this.namespace=G,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var R=this;return(0,T.Z)(function*(){const G=yield R.openDbPromise;return new Promise((he,ve)=>{const ct=G.transaction([Jt],"readonly").objectStore(Jt),bt=R.createCompositeKey(D);try{const _t=ct.get(bt);_t.onerror=nn=>{ve(Yn(nn,"storage-get"))},_t.onsuccess=nn=>{const Vt=nn.target.result;he(Vt?Vt.value:void 0)}}catch(_t){ve(Zn.create("storage-get",{originalErrorMessage:_t?.message}))}})})()}set(D,R){var G=this;return(0,T.Z)(function*(){const he=yield G.openDbPromise;return new Promise((ve,Ze)=>{const bt=he.transaction([Jt],"readwrite").objectStore(Jt),_t=G.createCompositeKey(D);try{const nn=bt.put({compositeKey:_t,value:R});nn.onerror=Vt=>{Ze(Yn(Vt,"storage-set"))},nn.onsuccess=()=>{ve()}}catch(nn){Ze(Zn.create("storage-set",{originalErrorMessage:nn?.message}))}})})()}delete(D){var R=this;return(0,T.Z)(function*(){const G=yield R.openDbPromise;return new Promise((he,ve)=>{const ct=G.transaction([Jt],"readwrite").objectStore(Jt),bt=R.createCompositeKey(D);try{const _t=ct.delete(bt);_t.onerror=nn=>{ve(Yn(nn,"storage-delete"))},_t.onsuccess=()=>{he()}}catch(_t){ve(Zn.create("storage-delete",{originalErrorMessage:_t?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Is{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,T.Z)(function*(){const R=D.storage.getLastFetchStatus(),G=D.storage.getLastSuccessfulFetchTimestampMillis(),he=D.storage.getActiveConfig(),ve=yield R;ve&&(D.lastFetchStatus=ve);const Ze=yield G;Ze&&(D.lastSuccessfulFetchTimestampMillis=Ze);const ct=yield he;ct&&(D.activeConfig=ct)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function m6(){return sa.apply(this,arguments)}function sa(){return(sa=(0,T.Z)(function*(){if(!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}!function b1(){(0,ee._registerComponent)(new X.wA("remote-config",function M(D,{instanceIdentifier:R}){const G=D.getProvider("app").getImmediate(),he=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zn.create("registration-window");if(!(0,W.hl)())throw Zn.create("indexed-db-unavailable");const{projectId:ve,apiKey:Ze,appId:ct}=G.options;if(!ve)throw Zn.create("registration-project-id");if(!Ze)throw Zn.create("registration-api-key");if(!ct)throw Zn.create("registration-app-id");const bt=new jr(ct,G.name,R=R||"firebase"),_t=new Is(bt),nn=new se.Yd(js);nn.logLevel=se.in.ERROR;const Vt=new de(he,ee.SDK_VERSION,R,ve,Ze,ct),Ir=new ot(Vt,bt),Hn=new B(Ir,bt,_t,nn),Gi=new fn(G,Hn,_t,bt,nn);return function _n(M){const D=(0,W.m9)(M);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Gi),Gi},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(js,"0.4.0"),(0,ee.registerVersion)(js,"0.4.0","esm2017")}();const As="/firebase-messaging-sw.js",Uo="/firebase-cloud-messaging-push-scope",jo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",s4="google.c.a.c_id",o2="google.c.a.c_l",Dc="google.c.a.ts",uo="google.c.a.e";var ho=(()=>{return(M=ho||(ho={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",ho;var M})();function Gs(M){const D=new Uint8Array(M);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ic(M){const R=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(R),he=new Uint8Array(G.length);for(let ve=0;ve<G.length;++ve)he[ve]=G.charCodeAt(ve);return he}const oa="fcm_token_details_db",aa="fcm_token_object_Store";function Ac(M){return E1.apply(this,arguments)}function E1(){return E1=(0,T.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ve=>ve.name).includes(oa))return null;let D=null;return(yield(0,ne.X3)(oa,5,{upgrade:(G=(0,T.Z)(function*(he,ve,Ze,ct){var bt;if(ve<2||!he.objectStoreNames.contains(aa))return;const _t=ct.objectStore(aa),nn=yield _t.index("fcmSenderId").get(M);if(yield _t.clear(),nn)if(2===ve){const Vt=nn;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;D={token:Vt.fcmToken,createTime:null!==(bt=Vt.createTime)&&void 0!==bt?bt:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:Gs(Vt.vapidKey)}}}else if(3===ve){const Vt=nn;D={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Gs(Vt.auth),p256dh:Gs(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Gs(Vt.vapidKey)}}}else if(4===ve){const Vt=nn;D={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Gs(Vt.auth),p256dh:Gs(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Gs(Vt.vapidKey)}}}}),function(ve,Ze,ct,bt){return G.apply(this,arguments)})})).close(),yield(0,ne.Lj)(oa),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),Sc(D)?D:null;var G}),E1.apply(this,arguments)}function Sc(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:D}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const po="firebase-messaging-store";let mo=null;function go(){return mo||(mo=(0,ne.X3)("firebase-messaging-database",1,{upgrade:(M,D)=>{0===D&&M.createObjectStore(po)}})),mo}function ca(M){return w1.apply(this,arguments)}function w1(){return(w1=(0,T.Z)(function*(M){const D=I1(M),G=yield(yield go()).transaction(po).objectStore(po).get(D);if(G)return G;{const he=yield Ac(M.appConfig.senderId);if(he)return yield vo(M,he),he}})).apply(this,arguments)}function vo(M,D){return la.apply(this,arguments)}function la(){return(la=(0,T.Z)(function*(M,D){const R=I1(M),he=(yield go()).transaction(po,"readwrite");return yield he.objectStore(po).put(D,R),yield he.done,D})).apply(this,arguments)}function M1(M){return D1.apply(this,arguments)}function D1(){return(D1=(0,T.Z)(function*(M){const D=I1(M),G=(yield go()).transaction(po,"readwrite");yield G.objectStore(po).delete(D),yield G.done})).apply(this,arguments)}function I1({appConfig:M}){return M.appId}const lr=new W.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ua(M,D){return sr.apply(this,arguments)}function sr(){return(sr=(0,T.Z)(function*(M,D){const R=yield ms(M),G=fa(D),he={method:"POST",headers:R,body:JSON.stringify(G)};let ve;try{ve=yield(yield fetch(ha(M.appConfig),he)).json()}catch(Ze){throw lr.create("token-subscribe-failed",{errorInfo:Ze?.toString()})}if(ve.error)throw lr.create("token-subscribe-failed",{errorInfo:ve.error.message});if(!ve.token)throw lr.create("token-subscribe-no-token");return ve.token})).apply(this,arguments)}function A1(M,D){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,T.Z)(function*(M,D){const R=yield ms(M),G=fa(D.subscriptionOptions),he={method:"PATCH",headers:R,body:JSON.stringify(G)};let ve;try{ve=yield(yield fetch(`${ha(M.appConfig)}/${D.token}`,he)).json()}catch(Ze){throw lr.create("token-update-failed",{errorInfo:Ze?.toString()})}if(ve.error)throw lr.create("token-update-failed",{errorInfo:ve.error.message});if(!ve.token)throw lr.create("token-update-no-token");return ve.token})).apply(this,arguments)}function ui(M,D){return da.apply(this,arguments)}function da(){return(da=(0,T.Z)(function*(M,D){const G={method:"DELETE",headers:yield ms(M)};try{const ve=yield(yield fetch(`${ha(M.appConfig)}/${D}`,G)).json();if(ve.error)throw lr.create("token-unsubscribe-failed",{errorInfo:ve.error.message})}catch(he){throw lr.create("token-unsubscribe-failed",{errorInfo:he?.toString()})}})).apply(this,arguments)}function ha({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function ms(M){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,T.Z)(function*({appConfig:M,installations:D}){const R=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function fa({p256dh:M,auth:D,endpoint:R,vapidKey:G}){const he={web:{endpoint:R,auth:D,p256dh:M}};return G!==jo&&(he.web.applicationPubKey=G),he}const $o=6048e5;function o4(M){return ji.apply(this,arguments)}function ji(){return(ji=(0,T.Z)(function*(M){const D=yield a4(M.swRegistration,M.vapidKey),R={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:D.endpoint,auth:Gs(D.getKey("auth")),p256dh:Gs(D.getKey("p256dh"))},G=yield ca(M.firebaseDependencies);if(G){if(Tc(G.subscriptionOptions,R))return Date.now()>=G.createTime+$o?Gt(M,{token:G.token,createTime:Date.now(),subscriptionOptions:R}):G.token;try{yield ui(M.firebaseDependencies,G.token)}catch(he){console.warn(he)}return xc(M.firebaseDependencies,R)}return xc(M.firebaseDependencies,R)})).apply(this,arguments)}function a2(M){return _o.apply(this,arguments)}function _o(){return(_o=(0,T.Z)(function*(M){const D=yield ca(M.firebaseDependencies);D&&(yield ui(M.firebaseDependencies,D.token),yield M1(M.firebaseDependencies));const R=yield M.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Gt(M,D){return Go.apply(this,arguments)}function Go(){return(Go=(0,T.Z)(function*(M,D){try{const R=yield A1(M.firebaseDependencies,D),G=Object.assign(Object.assign({},D),{token:R,createTime:Date.now()});return yield vo(M.firebaseDependencies,G),R}catch(R){throw yield a2(M),R}})).apply(this,arguments)}function xc(M,D){return S1.apply(this,arguments)}function S1(){return(S1=(0,T.Z)(function*(M,D){const G={token:yield ua(M,D),createTime:Date.now(),subscriptionOptions:D};return yield vo(M,G),G.token})).apply(this,arguments)}function a4(M,D){return pa.apply(this,arguments)}function pa(){return(pa=(0,T.Z)(function*(M,D){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ic(D)})})).apply(this,arguments)}function Tc(M,D){return D.vapidKey===M.vapidKey&&D.endpoint===M.endpoint&&D.auth===M.auth&&D.p256dh===M.p256dh}function Qn(M){const D={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function v6(M,D){if(!D.notification)return;M.notification={};const R=D.notification.title;R&&(M.notification.title=R);const G=D.notification.body;G&&(M.notification.body=G);const he=D.notification.image;he&&(M.notification.image=he);const ve=D.notification.icon;ve&&(M.notification.icon=ve)}(D,M),function We(M,D){D.data&&(M.data=D.data)}(D,M),function un(M,D){var R,G,he,ve,Ze;if(!(D.fcmOptions||null!==(R=D.notification)&&void 0!==R&&R.click_action))return;M.fcmOptions={};const ct=null!==(he=null===(G=D.fcmOptions)||void 0===G?void 0:G.link)&&void 0!==he?he:null===(ve=D.notification)||void 0===ve?void 0:ve.click_action;ct&&(M.fcmOptions.link=ct);const bt=null===(Ze=D.fcmOptions)||void 0===Ze?void 0:Ze.analytics_label;bt&&(M.fcmOptions.analyticsLabel=bt)}(D,M),D}function c4(M){return"object"==typeof M&&!!M&&s4 in M}function Nc(M,D){const R=[];for(let G=0;G<M.length;G++)R.push(M.charAt(G)),G<D.length&&R.push(D.charAt(G));return R.join("")}function ma(M){return lr.create("missing-app-config-values",{valueName:M})}Nc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Nc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wo{constructor(D,R,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function Dr(M){if(!M||!M.options)throw ma("App Configuration Object");if(!M.name)throw ma("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:R}=M;for(const G of D)if(!R[G])throw ma(G);return{appName:M.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:he,installations:R,analyticsProvider:G}}_delete(){return Promise.resolve()}}function gs(M){return qo.apply(this,arguments)}function qo(){return(qo=(0,T.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(As,{scope:Uo}),M.swRegistration.update().catch(()=>{})}catch(D){throw lr.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function ga(M,D){return x1.apply(this,arguments)}function x1(){return(x1=(0,T.Z)(function*(M,D){if(!D&&!M.swRegistration&&(yield gs(M)),D||!M.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw lr.create("invalid-sw-registration");M.swRegistration=D}})).apply(this,arguments)}function _6(M,D){return qs.apply(this,arguments)}function qs(){return(qs=(0,T.Z)(function*(M,D){D?M.vapidKey=D:M.vapidKey||(M.vapidKey=jo)})).apply(this,arguments)}function $i(){return($i=(0,T.Z)(function*(M,D){if(!navigator)throw lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw lr.create("permission-blocked");return yield _6(M,D?.vapidKey),yield ga(M,D?.serviceWorkerRegistration),o4(M)})).apply(this,arguments)}function l4(M,D,R){return es.apply(this,arguments)}function es(){return(es=(0,T.Z)(function*(M,D,R){const G=vs(D);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:R[s4],message_name:R[o2],message_time:R[Dc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vs(M){switch(M){case ho.NOTIFICATION_CLICKED:return"notification_open";case ho.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function va(){return(va=(0,T.Z)(function*(M,D){const R=D.data;if(!R.isFirebaseMessaging)return;M.onMessageHandler&&R.messageType===ho.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Qn(R)):M.onMessageHandler.next(Qn(R)));const G=R.data;c4(G)&&"1"===G[uo]&&(yield l4(M,R.messageType,G))})).apply(this,arguments)}const _a="@firebase/messaging",yo=M=>{const D=new Wo(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function y6(M,D){return va.apply(this,arguments)}(D,R)),D},l2=M=>{const D=M.getProvider("messaging").getImmediate();return{getToken:G=>function ur(M,D){return $i.apply(this,arguments)}(D,G)}};function u2(){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,T.Z)(function*(){try{yield(0,W.eu)()}catch{return!1}return typeof window<"u"&&(0,W.hl)()&&(0,W.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function u4(){(0,ee._registerComponent)(new X.wA("messaging",yo,"PUBLIC")),(0,ee._registerComponent)(new X.wA("messaging-internal",l2,"PRIVATE")),(0,ee.registerVersion)(_a,"0.12.0"),(0,ee.registerVersion)(_a,"0.12.0","esm2017")}();const h2="analytics",Ti="firebase_id",Oc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",h4="https://www.googletagmanager.com/gtag/js",$r=new se.Yd("@firebase/analytics");function f4(M){return Promise.all(M.map(D=>D.catch(R=>R)))}function M6(M,D){const R=document.createElement("script");R.src=`${h4}?l=${M}&id=${D}`,R.async=!0,document.head.appendChild(R)}function Ks(M,D,R,G,he,ve){return _s.apply(this,arguments)}function _s(){return(_s=(0,T.Z)(function*(M,D,R,G,he,ve){const Ze=G[he];try{if(Ze)yield D[Ze];else{const bt=(yield f4(R)).find(_t=>_t.measurementId===he);bt&&(yield D[bt.appId])}}catch(ct){$r.error(ct)}M("config",he,ve)})).apply(this,arguments)}function Co(M,D,R,G,he){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,T.Z)(function*(M,D,R,G,he){try{let ve=[];if(he&&he.send_to){let Ze=he.send_to;Array.isArray(Ze)||(Ze=[Ze]);const ct=yield f4(R);for(const bt of Ze){const _t=ct.find(Vt=>Vt.measurementId===bt),nn=_t&&D[_t.appId];if(!nn){ve=[];break}ve.push(nn)}}0===ve.length&&(ve=Object.values(D)),yield Promise.all(ve),M("event",G,he||{})}catch(ve){$r.error(ve)}})).apply(this,arguments)}function Zo(M){const D=window.document.getElementsByTagName("script");for(const R of Object.values(D))if(R.src&&R.src.includes(h4)&&R.src.includes(M))return R;return null}const di=new W.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),m2=new class p2{constructor(D={},R=1e3){this.throttleMetadata=D,this.intervalMillis=R}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,R){this.throttleMetadata[D]=R}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Ko(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function ba(M){return or.apply(this,arguments)}function or(){return(or=(0,T.Z)(function*(M){var D;const{appId:R,apiKey:G}=M,he={method:"GET",headers:Ko(G)},ve=Oc.replace("{app-id}",R),Ze=yield fetch(ve,he);if(200!==Ze.status&&304!==Ze.status){let ct="";try{const bt=yield Ze.json();null!==(D=bt.error)&&void 0!==D&&D.message&&(ct=bt.error.message)}catch{}throw di.create("config-fetch-failed",{httpStatus:Ze.status,responseMessage:ct})}return Ze.json()})).apply(this,arguments)}function T1(M){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,T.Z)(function*(M,D=m2,R){const{appId:G,apiKey:he,measurementId:ve}=M.options;if(!G)throw di.create("no-app-id");if(!he){if(ve)return{measurementId:ve,appId:G};throw di.create("no-api-key")}const Ze=D.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new N1;return setTimeout((0,T.Z)(function*(){ct.abort()}),void 0!==R?R:6e4),Ea({appId:G,apiKey:he,measurementId:ve},Ze,ct,D)})).apply(this,arguments)}function Ea(M,D,R){return ys.apply(this,arguments)}function ys(){return(ys=(0,T.Z)(function*(M,{throttleEndTimeMillis:D,backoffCount:R},G,he=m2){var ve;const{appId:Ze,measurementId:ct}=M;try{yield Pc(G,D)}catch(bt){if(ct)return $r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${bt?.message}]`),{appId:Ze,measurementId:ct};throw bt}try{const bt=yield ba(M);return he.deleteThrottleMetadata(Ze),bt}catch(bt){const _t=bt;if(!zc(_t)){if(he.deleteThrottleMetadata(Ze),ct)return $r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${_t?.message}]`),{appId:Ze,measurementId:ct};throw bt}const nn=503===Number(null===(ve=_t?.customData)||void 0===ve?void 0:ve.httpStatus)?(0,W.$s)(R,he.intervalMillis,30):(0,W.$s)(R,he.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+nn,backoffCount:R+1};return he.setThrottleMetadata(Ze,Vt),$r.debug(`Calling attemptFetch again in ${nn} millis`),Ea(M,Vt,G,he)}})).apply(this,arguments)}function Pc(M,D){return new Promise((R,G)=>{const he=Math.max(D-Date.now(),0),ve=setTimeout(R,he);M.addEventListener(()=>{clearTimeout(ve),G(di.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function zc(M){if(!(M instanceof W.ZR&&M.customData))return!1;const D=Number(M.customData.httpStatus);return 429===D||500===D||503===D||504===D}class N1{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let g2,Mo;function bo(){return(bo=(0,T.Z)(function*(M,D,R,G,he){if(he&&he.global)M("event",R,G);else{const ve=yield D;M("event",R,Object.assign(Object.assign({},G),{send_to:ve}))}})).apply(this,arguments)}function _2(M){Mo=M}function wa(M){g2=M}function Vc(){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,T.Z)(function*(){if(!(0,W.hl)())return $r.warn(di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,W.eu)()}catch(M){return $r.warn(di.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function y2(){return(y2=(0,T.Z)(function*(M,D,R,G,he,ve,Ze){var ct;const bt=T1(M);bt.then(Hn=>{R[Hn.measurementId]=Hn.appId,M.options.measurementId&&Hn.measurementId!==M.options.measurementId&&$r.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Hn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Hn=>$r.error(Hn)),D.push(bt);const _t=Vc().then(Hn=>{if(Hn)return G.getId()}),[nn,Vt]=yield Promise.all([bt,_t]);Zo(ve)||M6(ve,nn.measurementId),Mo&&(he("consent","default",Mo),_2(void 0)),he("js",new Date);const Ir=null!==(ct=Ze?.config)&&void 0!==ct?ct:{};return Ir.origin="firebase",Ir.update=!0,null!=Vt&&(Ir[Ti]=Vt),he("config",nn.measurementId,Ir),g2&&(he("set",g2),wa(void 0)),nn.measurementId})).apply(this,arguments)}class C2{constructor(D){this.app=D}_delete(){return delete ts[this.app.options.appId],Promise.resolve()}}let ts={},Hc=[];const Qo={};let E2,fi,ns="dataLayer",Ts=!1;function Ma(M,D,R){!function Bc(){const M=[];if((0,W.ru)()&&M.push("This is a browser extension environment."),(0,W.zI)()||M.push("Cookies are not available."),M.length>0){const D=M.map((G,he)=>`(${he+1}) ${G}`).join(" "),R=di.create("invalid-analytics-context",{errorInfo:D});$r.warn(R.message)}}();const G=M.options.appId;if(!G)throw di.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw di.create("no-api-key");$r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ts[G])throw di.create("already-exists",{id:G});if(!Ts){!function f2(M){let D=[];Array.isArray(window[M])?D=window[M]:window[M]=D}(ns);const{wrappedGtag:ve,gtagCore:Ze}=function kc(M,D,R,G,he){let ve=function(...Ze){window[G].push(arguments)};return window[he]&&"function"==typeof window[he]&&(ve=window[he]),window[he]=function Rc(M,D,R,G){function ve(){return(ve=(0,T.Z)(function*(Ze,ct,bt){try{"event"===Ze?yield Co(M,D,R,ct,bt):"config"===Ze?yield Ks(M,D,R,G,ct,bt):"consent"===Ze?M("consent","update",bt):M("set",ct)}catch(_t){$r.error(_t)}})).apply(this,arguments)}return function he(Ze,ct,bt){return ve.apply(this,arguments)}}(ve,M,D,R),{gtagCore:ve,wrappedGtag:window[he]}}(ts,Hc,Qo,ns,"gtag");fi=ve,E2=Ze,Ts=!0}return ts[G]=function m4(M,D,R,G,he,ve,Ze){return y2.apply(this,arguments)}(M,Hc,Qo,D,E2,ns,R),new C2(M)}function w2(){return bs.apply(this,arguments)}function bs(){return(bs=(0,T.Z)(function*(){if((0,W.ru)()||!(0,W.zI)()||!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}const wn="@firebase/analytics";!function D2(){(0,ee._registerComponent)(new X.wA(h2,(D,{options:R})=>Ma(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ee._registerComponent)(new X.wA("analytics-internal",function M(D){try{const R=D.getProvider(h2).getImmediate();return{logEvent:(G,he,ve)=>function Ns(M,D,R,G){M=(0,W.m9)(M),function xs(M,D,R,G,he){return bo.apply(this,arguments)}(fi,ts[M.app.options.appId],D,R,G).catch(he=>$r.error(he))}(R,G,he,ve)}}catch(R){throw di.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ee.registerVersion)(wn,"0.9.0"),(0,ee.registerVersion)(wn,"0.9.0","esm2017")}();var w8=S(233),y4=S(4986),I2=S(9751),Uc=S(8505),S6=S(9468),Do=S(5363);const M8=new l.GfV("7.5.0"),Io="__angularfire_symbol__analyticsIsSupportedValue",Xn="__angularfire_symbol__analyticsIsSupported",O1="__angularfire_symbol__remoteConfigIsSupportedValue",e1="__angularfire_symbol__remoteConfigIsSupported",jc="__angularfire_symbol__messagingIsSupportedValue",Jr="__angularfire_symbol__messagingIsSupported";function C4(M,D,R){if(D){if(1===D.length)return D[0];const ve=D.filter(Ze=>Ze.app===R);if(1===ve.length)return ve[0]}return R.container.getProvider(M).getImmediate({optional:!0})}globalThis[Xn]||(globalThis[Xn]=w2().then(M=>globalThis[Io]=M).catch(()=>globalThis[Io]=!1)),globalThis[Jr]||(globalThis[Jr]=u2().then(M=>globalThis[jc]=M).catch(()=>globalThis[jc]=!1)),globalThis[e1]||(globalThis[e1]=m6().then(M=>globalThis[O1]=M).catch(()=>globalThis[O1]=!1));const A2=(M,D)=>{const R=D?[D]:(0,P.C6)(),G=[];return R.forEach(he=>{he.container.getProvider(M).instances.forEach(Ze=>{G.includes(Ze)||G.push(Ze)})}),G};function R1(){}class An{constructor(D,R=w8.N){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,G){const he=this.zone;return this.delegate.schedule(function(Ze){he.runGuarded(()=>{D.apply(this,[Ze])})},R,G)}}class it{constructor(D){this.zone=D,this.task=null}call(D,R){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",R1,{},R1,R1)),R.pipe((0,Uc.b)({next:G,complete:G,error:G})).subscribe(D).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kr=(()=>{class M{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new An(Zone.current)),this.insideAngular=R.run(()=>new An(Zone.current,y4.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(R){return new(R||M)(l.LFG(l.R0b))},M.\u0275prov=l.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Gr(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function S2(M){return Gr().ngZone.runOutsideAngular(()=>M())}function Vn(M){return Gr().ngZone.run(()=>M())}function Da(M){return Gr(),function b4(M){return function(R){return(R=R.lift(new it(M.ngZone))).pipe((0,S6.R)(M.outsideAngular),(0,Do.Q)(M.insideAngular))}}(Gr())(M)}const x2=(M,D)=>function(){const G=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Vn(()=>M.apply(void 0,G))},qc=(M,D)=>function(){let R;const G=arguments;for(let ve=0;ve<arguments.length;ve++)"function"==typeof G[ve]&&(D&&(R||(R=Vn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",R1,{},R1,R1)))),G[ve]=x2(G[ve],R));const he=S2(()=>M.apply(this,G));if(!D){if(he instanceof I2.y){const ve=Gr();return he.pipe((0,S6.R)(ve.outsideAngular),(0,Do.Q)(ve.insideAngular))}return Vn(()=>he)}return he instanceof I2.y?he.pipe(Da):he instanceof Promise?Vn(()=>new Promise((ve,Ze)=>he.then(ct=>Vn(()=>ve(ct)),ct=>Vn(()=>Ze(ct))))):"function"==typeof he&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),he.apply(this,arguments)}:Vn(()=>he)}},552:(ce,K,S)=>{S.d(K,{$:()=>ha,A:()=>H,B:()=>Ae,G:()=>Ho,H:()=>Pn,J:()=>ot,L:()=>J,M:()=>sa,N:()=>i4,P:()=>M8,Q:()=>s4,R:()=>_4,T:()=>o2,U:()=>jo,V:()=>ho,W:()=>Gs,X:()=>Ac,Y:()=>Xr,Z:()=>ua,_:()=>A1,a:()=>Ys,a0:()=>o4,a1:()=>a2,a2:()=>Gt,a3:()=>xc,a4:()=>a4,a5:()=>Tc,a6:()=>v6,a7:()=>We,a8:()=>c4,a9:()=>Nc,aA:()=>Y,aB:()=>Ir,aC:()=>x2,aD:()=>b4,aE:()=>mr,aI:()=>Ko,aL:()=>uo,aa:()=>gs,ab:()=>ga,ac:()=>_6,af:()=>l4,ag:()=>vs,ah:()=>y6,ak:()=>po,al:()=>ya,an:()=>h4,ao:()=>_s,ap:()=>ke,aq:()=>yt,ar:()=>mt,as:()=>Ne,at:()=>N2,au:()=>k1,av:()=>Tn,aw:()=>Pe,ax:()=>fe,ay:()=>ei,az:()=>ue,b:()=>di,c:()=>$c,d:()=>R1,e:()=>C4,f:()=>D,g:()=>ct,h:()=>he,i:()=>Yo,j:()=>nn,k:()=>Wr,l:()=>M2,m:()=>S8,n:()=>rn,o:()=>ne,r:()=>w8,s:()=>A6,u:()=>S6});var l=S(5861),P=S(2090),T=S(9681),ee=S(1877),W=S(655),X=S(4859);const ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new ee.Yd("@firebase/auth");function Se(y,...m){De.logLevel<=ee.in.ERROR&&De.error(`Auth (${T.SDK_VERSION}): ${y}`,...m)}function Ne(y,...m){throw Je(y,...m)}function Pe(y,...m){return Je(y,...m)}function Ve(y,m,g){const b=Object.assign(Object.assign({},Ue()),{[m]:g});return new P.LL("auth","Firebase",b).create(m,{appName:y.name})}function ze(y,m,g){if(!(m instanceof g))throw g.name!==m.constructor.name&&Ne(y,"argument-error"),Ve(y,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(y,...m){if("string"!=typeof y){const g=m[0],b=[...m.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return tt.create(y,...m)}function fe(y,m,...g){if(!y)throw Je(m,...g)}function Ee(y){const m="INTERNAL ASSERTION FAILED: "+y;throw Se(m),new Error(m)}function ke(y,m){y||Ee(m)}const le=new Map;function ue(y){ke(y instanceof Function,"Expected a class definition");let m=le.get(y);return m?(ke(m instanceof y,"Instance stored in cache mismatched with class"),m):(m=new y,le.set(y,m),m)}function Ye(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Xe(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Tt{constructor(m,g){this.shortDelay=m,this.longDelay=g,ke(g>m,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function on(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xe()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jt(y,m){ke(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return m?`${g}${m.startsWith("/")?m.slice(1):m}`:g}class Et{static initialize(m,g,b){this.fetchImpl=m,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gn=new Tt(3e4,6e4);function Wt(y,m){return y.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:y.tenantId}):m}function Dt(y,m,g,b){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(y,m,g,b,L={}){return fr(y,L,(0,l.Z)(function*(){let z={},pe={};b&&("GET"===m?pe=b:z={body:JSON.stringify(b)});const je=(0,P.xO)(Object.assign({key:y.config.apiKey},pe)).slice(1),ht=yield y._getAdditionalHeaders();return ht["Content-Type"]="application/json",y.languageCode&&(ht["X-Firebase-Locale"]=y.languageCode),Et.fetch()(Ui(y,y.config.apiHost,g,je),Object.assign({method:m,headers:ht,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function fr(y,m,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(y,m,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},an),m);try{const L=new Ai(y),z=yield Promise.race([g(),L.promise]);L.clearNetworkTimeout();const pe=yield z.json();if("needConfirmation"in pe)throw qn(y,"account-exists-with-different-credential",pe);if(z.ok&&!("errorMessage"in pe))return pe;{const je=z.ok?pe.errorMessage:pe.error.message,[ht,Mt]=je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ht)throw qn(y,"credential-already-in-use",pe);if("EMAIL_EXISTS"===ht)throw qn(y,"email-already-in-use",pe);if("USER_DISABLED"===ht)throw qn(y,"user-disabled",pe);const Zt=b[ht]||ht.toLowerCase().replace(/[_\s]+/g,"-");if(Mt)throw Ve(y,Zt,Mt);Ne(y,Zt)}}catch(L){if(L instanceof P.ZR)throw L;Ne(y,"network-request-failed")}})).apply(this,arguments)}function xn(y,m,g,b){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(y,m,g,b,L={}){const z=yield Dt(y,m,g,b,L);return"mfaPendingCredential"in z&&Ne(y,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function Ui(y,m,g,b){const L=`${m}${g}?${b}`;return y.config.emulator?jt(y.config,L):`${y.config.apiScheme}://${L}`}class Ai{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(Pe(this.auth,"network-request-failed")),Gn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(y,m,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const L=Pe(y,m,b);return L.customData._tokenResponse=g,L}function Si(){return(Si=(0,l.Z)(function*(y,m){return Dt(y,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function hn(y,m){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(y,m){return Dt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function pt(y,m){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(y,m){return Dt(y,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function br(y){if(y)try{const m=new Date(Number(y));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Er(){return(Er=(0,l.Z)(function*(y,m=!1){const g=(0,P.m9)(y),b=yield g.getIdToken(m),L=wt(b);fe(L&&L.exp&&L.auth_time&&L.iat,g.auth,"internal-error");const z="object"==typeof L.firebase?L.firebase:void 0,pe=z?.sign_in_provider;return{claims:L,token:b,authTime:br(Ot(L.auth_time)),issuedAtTime:br(Ot(L.iat)),expirationTime:br(Ot(L.exp)),signInProvider:pe||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function Ot(y){return 1e3*Number(y)}function wt(y){const[m,g,b]=y.split(".");if(void 0===m||void 0===g||void 0===b)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,P.tV)(g);return L?JSON.parse(L):(Se("Failed to decode base64 JWT payload"),null)}catch(L){return Se("Caught error parsing JWT payload as JSON",L?.toString()),null}}function pn(y,m){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(y,m,g=!1){if(g)return m;try{return yield m}catch(b){throw b instanceof P.ZR&&Fn(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Fn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class xr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var g;if(m){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const L=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(m=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),b)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&m.schedule(!0))}m.schedule()})()}}class ir{constructor(m,g){this.createdAt=m,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=br(this.lastLoginAt),this.creationTime=br(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function li(y){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(y){var m;const g=y.auth,b=yield y.getIdToken(),L=yield pn(y,pt(g,{idToken:b}));fe(L?.users.length,g,"internal-error");const z=L.users[0];y._notifyReloadListener(z);const pe=null!==(m=z.providerUserInfo)&&void 0!==m&&m.length?Un(z.providerUserInfo):[],je=Tr(y.providerData,pe),Zt=!!y.isAnonymous&&!(y.email&&z.passwordHash||je?.length),Jn={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:je,metadata:new ir(z.createdAt,z.lastLoginAt),isAnonymous:Zt};Object.assign(y,Jn)})).apply(this,arguments)}function qt(){return(qt=(0,l.Z)(function*(y){const m=(0,P.m9)(y);yield li(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Tr(y,m){return[...y.filter(b=>!m.some(L=>L.providerId===b.providerId)),...m]}function Un(y){return y.map(m=>{var{providerId:g}=m,b=(0,W._T)(m,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Be(){return(Be=(0,l.Z)(function*(y,m){const g=yield fr(y,{},(0,l.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:L,apiKey:z}=y.config,pe=Ui(y,L,"/v1/token",`key=${z}`),je=yield y._getAdditionalHeaders();return je["Content-Type"]="application/x-www-form-urlencoded",Et.fetch()(pe,{method:"POST",headers:je,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){fe(m.idToken,"internal-error"),fe(typeof m.idToken<"u","internal-error"),fe(typeof m.refreshToken<"u","internal-error");const g="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Rt(y){const m=wt(y);return fe(m,"internal-error"),fe(typeof m.exp<"u","internal-error"),fe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,g)}getToken(m,g=!1){var b=this;return(0,l.Z)(function*(){return fe(!b.accessToken||b.refreshToken,m,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(m,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,g){var b=this;return(0,l.Z)(function*(){const{accessToken:L,refreshToken:z,expiresIn:pe}=yield function nt(y,m){return Be.apply(this,arguments)}(m,g);b.updateTokensAndExpiration(L,z,Number(pe))})()}updateTokensAndExpiration(m,g,b){this.refreshToken=g||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(m,g){const{refreshToken:b,accessToken:L,expirationTime:z}=g,pe=new lt;return b&&(fe("string"==typeof b,"internal-error",{appName:m}),pe.refreshToken=b),L&&(fe("string"==typeof L,"internal-error",{appName:m}),pe.accessToken=L),z&&(fe("number"==typeof z,"internal-error",{appName:m}),pe.expirationTime=z),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return Ee("not implemented")}}function xt(y,m){fe("string"==typeof y||typeof y>"u","internal-error",{appName:m})}class Lt{constructor(m){var{uid:g,auth:b,stsTokenManager:L}=m,z=(0,W._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new ir(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(m){var g=this;return(0,l.Z)(function*(){const b=yield pn(g,g.stsTokenManager.getToken(g.auth,m));return fe(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(m){return function rr(y){return Er.apply(this,arguments)}(this,m)}reload(){return function xi(y){return qt.apply(this,arguments)}(this)}_assign(m){this!==m&&(fe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(g=>Object.assign({},g)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Lt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,g=!1){var b=this;return(0,l.Z)(function*(){let L=!1;m.idToken&&m.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(m),L=!0),g&&(yield li(b)),yield b.auth._persistUserIfCurrent(b),L&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var m=this;return(0,l.Z)(function*(){const g=yield m.getIdToken();return yield pn(m,function Hr(y,m){return Si.apply(this,arguments)}(m.auth,{idToken:g})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,g){var b,L,z,pe,je,ht,Mt,Zt;const Jn=null!==(b=g.displayName)&&void 0!==b?b:void 0,Wi=null!==(L=g.email)&&void 0!==L?L:void 0,ss=null!==(z=g.phoneNumber)&&void 0!==z?z:void 0,Na=null!==(pe=g.photoURL)&&void 0!==pe?pe:void 0,s1=null!==(je=g.tenantId)&&void 0!==je?je:void 0,O2=null!==(ht=g._redirectEventId)&&void 0!==ht?ht:void 0,I4=null!==(Mt=g.createdAt)&&void 0!==Mt?Mt:void 0,O6=null!==(Zt=g.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:o1,emailVerified:R6,isAnonymous:k6,providerData:A4,stsTokenManager:P6}=g;fe(o1&&P6,m,"internal-error");const x8=lt.fromJSON(this.name,P6);fe("string"==typeof o1,m,"internal-error"),xt(Jn,m.name),xt(Wi,m.name),fe("boolean"==typeof R6,m,"internal-error"),fe("boolean"==typeof k6,m,"internal-error"),xt(ss,m.name),xt(Na,m.name),xt(s1,m.name),xt(O2,m.name),xt(I4,m.name),xt(O6,m.name);const R2=new Lt({uid:o1,auth:m,email:Wi,emailVerified:R6,displayName:Jn,isAnonymous:k6,photoURL:Na,phoneNumber:ss,tenantId:s1,stsTokenManager:x8,createdAt:I4,lastLoginAt:O6});return A4&&Array.isArray(A4)&&(R2.providerData=A4.map(k2=>Object.assign({},k2))),O2&&(R2._redirectEventId=O2),R2}static _fromIdTokenResponse(m,g,b=!1){return(0,l.Z)(function*(){const L=new lt;L.updateFromServerResponse(g);const z=new Lt({uid:g.localId,auth:m,stsTokenManager:L,isAnonymous:b});return yield li(z),z})()}}const J=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,b){var L=this;return(0,l.Z)(function*(){L.storage[g]=b})()}_get(g){var b=this;return(0,l.Z)(function*(){const L=b.storage[g];return void 0===L?null:L})()}_remove(g){var b=this;return(0,l.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function Y(y,m,g){return`firebase:${y}:${m}:${g}`}class ae{constructor(m,g,b){this.persistence=m,this.auth=g,this.userKey=b;const{config:L,name:z}=this.auth;this.fullUserKey=Y(this.userKey,L.apiKey,z),this.fullPersistenceKey=Y("persistence",L.apiKey,z),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const g=yield m.persistence._get(m.fullUserKey);return g?Lt._fromJSON(m.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var g=this;return(0,l.Z)(function*(){if(g.persistence===m)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=m,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,g,b="authUser"){return(0,l.Z)(function*(){if(!g.length)return new ae(ue(J),m,b);const L=(yield Promise.all(g.map(function(){var Mt=(0,l.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return Mt.apply(this,arguments)}}()))).filter(Mt=>Mt);let z=L[0]||ue(J);const pe=Y(b,m.config.apiKey,m.name);let je=null;for(const Mt of g)try{const Zt=yield Mt._get(pe);if(Zt){const Jn=Lt._fromJSON(m,Zt);Mt!==z&&(je=Jn),z=Mt;break}}catch{}const ht=L.filter(Mt=>Mt._shouldAllowMigration);return z._shouldAllowMigration&&ht.length?(z=ht[0],je&&(yield z._set(pe,je.toJSON())),yield Promise.all(g.map(function(){var Mt=(0,l.Z)(function*(Zt){if(Zt!==z)try{yield Zt._remove(pe)}catch{}});return function(Zt){return Mt.apply(this,arguments)}}())),new ae(z,m,b)):new ae(z,m,b)})()}}function $(y){const m=y.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if($e(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(k(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(at(m))return"Blackberry";if(Ht(m))return"Webos";if(U(m))return"Safari";if((m.includes("chrome/")||Ce(m))&&!m.includes("edge/"))return"Chrome";if(mt(m))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function k(y=(0,P.z$)()){return/firefox\//i.test(y)}function U(y=(0,P.z$)()){const m=y.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ce(y=(0,P.z$)()){return/crios\//i.test(y)}function $e(y=(0,P.z$)()){return/iemobile/i.test(y)}function mt(y=(0,P.z$)()){return/android/i.test(y)}function at(y=(0,P.z$)()){return/blackberry/i.test(y)}function Ht(y=(0,P.z$)()){return/webos/i.test(y)}function yt(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Tn(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function Nr(y=(0,P.z$)()){return yt(y)||mt(y)||Ht(y)||at(y)||/windows phone/i.test(y)||$e(y)}function Bs(y,m=[]){let g;switch(y){case"Browser":g=$((0,P.z$)());break;case"Worker":g=`${$((0,P.z$)())}-${y}`;break;default:g=y}const b=m.length?m.join(","):"FirebaseCore-web";return`${g}/JsCore/${T.SDK_VERSION}/${b}`}class co{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,g){const b=z=>new Promise((pe,je)=>{try{pe(m(z))}catch(ht){je(ht)}});b.onAbort=g,this.queue.push(b);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(m){var g=this;return(0,l.Z)(function*(){if(g.auth.currentUser===m)return;const b=[];try{for(const L of g.queue)yield L(m),L.onAbort&&b.push(L.onAbort)}catch(L){b.reverse();for(const z of b)try{z()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class _1{constructor(m,g,b){this.app=m,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Us(this),this.idTokenSubscription=new Us(this),this.beforeStateQueue=new co(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(m,g){var b=this;return g&&(this._popupRedirectResolver=ue(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var L,z;if(!b._deleted&&(b.persistenceManager=yield ae.create(b,m),!b._deleted)){if(null!==(L=b._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(z=b.currentUser)||void 0===z?void 0:z.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const g=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||g){if(m.currentUser&&g&&m.currentUser.uid===g.uid)return m._currentUser._assign(g),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(g,!0)}})()}initializeCurrentUser(m){var g=this;return(0,l.Z)(function*(){var b;const L=yield g.assertedPersistence.getCurrentUser();let z=L,pe=!1;if(m&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const je=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,ht=z?._redirectEventId,Mt=yield g.tryRedirectSignIn(m);(!je||je===ht)&&Mt?.user&&(z=Mt.user,pe=!0)}if(!z)return g.directlySetCurrentUser(null);if(!z._redirectEventId){if(pe)try{yield g.beforeStateQueue.runMiddleware(z)}catch(je){z=L,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(je))}return z?g.reloadAndSetCurrentUserOrClear(z):g.directlySetCurrentUser(null)}return fe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===z._redirectEventId?g.directlySetCurrentUser(z):g.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(m){var g=this;return(0,l.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,m,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(m){var g=this;return(0,l.Z)(function*(){try{yield li(m)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function gn(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var g=this;return(0,l.Z)(function*(){const b=m?(0,P.m9)(m):null;return b&&fe(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(m,g=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return m&&fe(b.tenantId===m.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(m)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(m),b.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(ue(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new P.LL("auth","Firebase",m())}onAuthStateChanged(m,g,b){return this.registerStateListener(this.authStateSubscription,m,g,b)}beforeAuthStateChanged(m,g){return this.beforeStateQueue.pushCallback(m,g)}onIdTokenChanged(m,g,b){return this.registerStateListener(this.idTokenSubscription,m,g,b)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,g){var b=this;return(0,l.Z)(function*(){const L=yield b.getOrInitRedirectPersistenceManager(g);return null===m?L.removeCurrentUser():L.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const b=m&&ue(m)||g._popupRedirectResolver;fe(b,g,"argument-error"),g.redirectPersistenceManager=yield ae.create(g,[ue(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(m){var g=this;return(0,l.Z)(function*(){var b,L;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===m?g._currentUser:(null===(L=g.redirectUser)||void 0===L?void 0:L._redirectEventId)===m?g.redirectUser:null})()}_persistUserIfCurrent(m){var g=this;return(0,l.Z)(function*(){if(m===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,g,b,L){if(this._deleted)return()=>{};const z="function"==typeof g?g:g.next.bind(g),pe=this._isInitialized?Promise.resolve():this._initializationPromise;return fe(pe,this,"internal-error"),pe.then(()=>z(this.currentUser)),"function"==typeof g?m.addObserver(g,b,L):m.addObserver(g)}directlySetCurrentUser(m){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==m&&g._currentUser._stopProactiveRefresh(),m&&g.isProactiveRefreshEnabled&&m._startProactiveRefresh(),g.currentUser=m,m?yield g.assertedPersistence.setCurrentUser(m):yield g.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Bs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var g;const b={"X-Client-Version":m.clientVersion};m.app.options.appId&&(b["X-Firebase-gmpid"]=m.app.options.appId);const L=yield null===(g=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return L&&(b["X-Firebase-Client"]=L),b})()}}function mr(y){return(0,P.m9)(y)}class Us{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ho(y,m,g){const b=mr(y);fe(b._canInitEmulator,b,"emulator-config-failed"),fe(/^https?:\/\//.test(m),b,"invalid-emulator-scheme");const L=!!g?.disableWarnings,z=y1(m),{host:pe,port:je}=function js(y){const m=y1(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(m.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(b);if(L){const z=L[1];return{host:z,port:Ms(b.substr(z.length+1))}}{const[z,pe]=b.split(":");return{host:z,port:Ms(pe)}}}(m);b.config.emulator={url:`${z}//${pe}${null===je?"":`:${je}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:pe,port:je,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function dn(){function y(){const m=document.createElement("p"),g=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function y1(y){const m=y.indexOf(":");return m<0?"":y.substr(0,m+1)}function Ms(y){if(!y)return null;const m=Number(y);return isNaN(m)?null:m}class Pn{constructor(m,g){this.providerId=m,this.signInMethod=g}toJSON(){return Ee("not implemented")}_getIdTokenResponse(m){return Ee("not implemented")}_linkToIdToken(m,g){return Ee("not implemented")}_getReauthenticationResolver(m){return Ee("not implemented")}}function wr(y,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(y,m){return Dt(y,"POST","/v1/accounts:resetPassword",Wt(y,m))})).apply(this,arguments)}function gr(y,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(y,m){return Dt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ft(y,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(y,m){return Dt(y,"POST","/v1/accounts:update",Wt(y,m))})).apply(this,arguments)}function Or(){return(Or=(0,l.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:signInWithPassword",Wt(y,m))})).apply(this,arguments)}function Br(y,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(y,m){return Dt(y,"POST","/v1/accounts:sendOobCode",Wt(y,m))})).apply(this,arguments)}function fs(y,m){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(y,m){return Br(y,m)})).apply(this,arguments)}function C1(y,m){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(y,m){return Br(y,m)})).apply(this,arguments)}function $t(y,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(y,m){return Br(y,m)})).apply(this,arguments)}function $s(y,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(y,m){return Br(y,m)})).apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,m))})).apply(this,arguments)}function B(){return(B=(0,l.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,m))})).apply(this,arguments)}class _e extends Pn{constructor(m,g,b,L=null){super("password",b),this._email=m,this._password=g,this._tenantId=L}static _fromEmailAndPassword(m,g){return new _e(m,g,"password")}static _fromEmailAndCode(m,g,b=null){return new _e(m,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(m){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function zn(y,m){return Or.apply(this,arguments)}(m,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function ps(y,m){return cr.apply(this,arguments)}(m,{email:g._email,oobCode:g._password});default:Ne(m,"internal-error")}})()}_linkToIdToken(m,g){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return gr(m,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function lo(y,m){return B.apply(this,arguments)}(m,{idToken:g,email:b._email,oobCode:b._password});default:Ne(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function de(y,m){return Me.apply(this,arguments)}function Me(){return(Me=(0,l.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:signInWithIdp",Wt(y,m))})).apply(this,arguments)}class ot extends Pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const g=new ot(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(g.idToken=m.idToken),m.accessToken&&(g.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(g.nonce=m.nonce),m.pendingToken&&(g.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(g.accessToken=m.oauthToken,g.secret=m.oauthTokenSecret):Ne("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:L}=g,z=(0,W._T)(g,["providerId","signInMethod"]);if(!b||!L)return null;const pe=new ot(b,L);return pe.idToken=z.idToken||void 0,pe.accessToken=z.accessToken||void 0,pe.secret=z.secret,pe.nonce=z.nonce,pe.pendingToken=z.pendingToken||null,pe}_getIdTokenResponse(m){return de(m,this.buildRequest())}_linkToIdToken(m,g){const b=this.buildRequest();return b.idToken=g,de(m,b)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,de(m,g)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),m.postBody=(0,P.xO)(g)}return m}}function tn(y,m){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(y,m){return Dt(y,"POST","/v1/accounts:sendVerificationCode",Wt(y,m))})).apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,m))})).apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(y,m){const g=yield xn(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,m));if(g.temporaryProof)throw qn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Mc={USER_NOT_FOUND:"user-not-found"};function jr(){return(jr=(0,l.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Mc)})).apply(this,arguments)}class Is extends Pn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,g){return new Is({verificationId:m,verificationCode:g})}static _fromTokenResponse(m,g){return new Is({phoneNumber:m,temporaryProof:g})}_getIdTokenResponse(m){return function fn(y,m){return Yn.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,g){return function Jt(y,m){return En.apply(this,arguments)}(m,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Ur(y,m){return jr.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:g,verificationId:b,verificationCode:L}=this.params;return m&&g?{temporaryProof:m,phoneNumber:g}:{sessionInfo:b,code:L}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:g,verificationCode:b,phoneNumber:L,temporaryProof:z}=m;return b||g||L||z?new Is({verificationId:g,verificationCode:b,phoneNumber:L,temporaryProof:z}):null}}class Rr{constructor(m){var g,b,L,z,pe,je;const ht=(0,P.zd)((0,P.pd)(m)),Mt=null!==(g=ht.apiKey)&&void 0!==g?g:null,Zt=null!==(b=ht.oobCode)&&void 0!==b?b:null,Jn=function b1(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=ht.mode)&&void 0!==L?L:null);fe(Mt&&Zt&&Jn,"argument-error"),this.apiKey=Mt,this.operation=Jn,this.code=Zt,this.continueUrl=null!==(z=ht.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(pe=ht.languageCode)&&void 0!==pe?pe:null,this.tenantId=null!==(je=ht.tenantId)&&void 0!==je?je:null}static parseLink(m){const g=function s2(y){const m=(0,P.zd)((0,P.pd)(y)).link,g=m?(0,P.zd)((0,P.pd)(m)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||g||m||y}(m);try{return new Rr(g)}catch{return null}}}let sa=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return _e._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const L=Rr.parseLink(b);return fe(L,"argument-error"),_e._fromEmailAndCode(g,L.code,L.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class As{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Uo extends As{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class jo extends Uo{static credentialFromJSON(m){const g="string"==typeof m?JSON.parse(m):m;return fe("providerId"in g&&"signInMethod"in g,"argument-error"),ot._fromParams(g)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return fe(m.idToken||m.accessToken,"argument-error"),ot._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return jo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return jo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:L,pendingToken:z,nonce:pe,providerId:je}=m;if(!b&&!L&&!g&&!z||!je)return null;try{return new jo(je)._credential({idToken:g,accessToken:b,nonce:pe,pendingToken:z})}catch{return null}}}let i4=(()=>{class y extends Uo{constructor(){super("facebook.com")}static credential(g){return ot._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),s4=(()=>{class y extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return ot._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:L}=g;if(!b&&!L)return null;try{return y.credential(b,L)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),o2=(()=>{class y extends Uo{constructor(){super("github.com")}static credential(g){return ot._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class uo extends Pn{constructor(m,g){super(m,m),this.pendingToken=g}_getIdTokenResponse(m){return de(m,this.buildRequest())}_linkToIdToken(m,g){const b=this.buildRequest();return b.idToken=g,de(m,b)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,de(m,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:L,pendingToken:z}=g;return b&&L&&z&&b===L?new uo(b,z):null}static _create(m,g){return new uo(m,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ho extends As{constructor(m){fe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ho.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ho.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const g=uo.fromJSON(m);return fe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:g,providerId:b}=m;if(!g||!b)return null;try{return uo._create(b,g)}catch{return null}}}let Gs=(()=>{class y extends Uo{constructor(){super("twitter.com")}static credential(g,b){return ot._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:L}=g;if(!b||!L)return null;try{return y.credential(b,L)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ic(y,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:signUp",Wt(y,m))})).apply(this,arguments)}class Ji{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,g,b,L=!1){return(0,l.Z)(function*(){const z=yield Lt._fromIdTokenResponse(m,b,L),pe=aa(b);return new Ji({user:z,providerId:pe,_tokenResponse:b,operationType:g})})()}static _forOperation(m,g,b){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(b,!0);const L=aa(b);return new Ji({user:m,providerId:L,_tokenResponse:b,operationType:g})})()}}function aa(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ac(y){return E1.apply(this,arguments)}function E1(){return(E1=(0,l.Z)(function*(y){var m;const g=mr(y);if(yield g._initializationPromise,null!==(m=g.currentUser)&&void 0!==m&&m.isAnonymous)return new Ji({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Ic(g,{returnSecureToken:!0}),L=yield Ji._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(L.user),L})).apply(this,arguments)}class Sc extends P.ZR{constructor(m,g,b,L){var z;super(g.code,g.message),this.operationType=b,this.user=L,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:m.name,tenantId:null!==(z=m.tenantId)&&void 0!==z?z:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(m,g,b,L){return new Sc(m,g,b,L)}}function g6(y,m,g,b){return("reauthenticate"===m?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Sc._fromErrorAndOperation(y,z,m,b):z})}function fo(y){return new Set(y.map(({providerId:m})=>m).filter(m=>!!m))}function po(y,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(y,m){const g=(0,P.m9)(y);yield w1(!0,g,m);const{providerUserInfo:b}=yield hn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[m]}),L=fo(b||[]);return g.providerData=g.providerData.filter(z=>L.has(z.providerId)),L.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function go(y,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(y,m,g=!1){const b=yield pn(y,m._linkToIdToken(y.auth,yield y.getIdToken()),g);return Ji._forOperation(y,"link",b)})).apply(this,arguments)}function w1(y,m,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(y,m,g){yield li(m);const L=!1===y?"provider-already-linked":"no-such-provider";fe(fo(m.providerData).has(g)===y,m.auth,L)})).apply(this,arguments)}function la(y,m){return M1.apply(this,arguments)}function M1(){return(M1=(0,l.Z)(function*(y,m,g=!1){const{auth:b}=y,L="reauthenticate";try{const z=yield pn(y,g6(b,L,m,y),g);fe(z.idToken,b,"internal-error");const pe=wt(z.idToken);fe(pe,b,"internal-error");const{sub:je}=pe;return fe(y.uid===je,b,"user-mismatch"),Ji._forOperation(y,L,z)}catch(z){throw"auth/user-not-found"===z?.code&&Ne(b,"user-mismatch"),z}})).apply(this,arguments)}function D1(y,m){return I1.apply(this,arguments)}function I1(){return(I1=(0,l.Z)(function*(y,m,g=!1){const b="signIn",L=yield g6(y,b,m),z=yield Ji._fromIdTokenResponse(y,b,L);return g||(yield y._updateCurrentUser(z.user)),z})).apply(this,arguments)}function Xr(y,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(y,m){return D1(mr(y),m)})).apply(this,arguments)}function ua(y,m){return sr.apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(y,m){const g=(0,P.m9)(y);return yield w1(!1,g,m.providerId),go(g,m)})).apply(this,arguments)}function A1(y,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(y,m){return la((0,P.m9)(y),m)})).apply(this,arguments)}function ui(y,m){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(y,m){return xn(y,"POST","/v1/accounts:signInWithCustomToken",Wt(y,m))})).apply(this,arguments)}function ha(y,m){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(y,m){const g=mr(y),b=yield ui(g,{token:m,returnSecureToken:!0}),L=yield Ji._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(L.user),L})).apply(this,arguments)}class Mr{constructor(m,g){this.factorId=m,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(m,g){return"phoneInfo"in g?fa._fromServerResponse(m,g):Ne(m,"internal-error")}}class fa extends Mr{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,g){return new fa(g)}}function $o(y,m,g){var b;fe((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),fe(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),m.continueUrl=g.url,m.dynamicLinkDomain=g.dynamicLinkDomain,m.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(fe(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),m.iOSBundleId=g.iOS.bundleId),g.android&&(fe(g.android.packageName.length>0,y,"missing-android-pkg-name"),m.androidInstallApp=g.android.installApp,m.androidMinimumVersionCode=g.android.minimumVersion,m.androidPackageName=g.android.packageName)}function o4(y,m,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,l.Z)(function*(y,m,g){const b=(0,P.m9)(y),L={requestType:"PASSWORD_RESET",email:m};g&&$o(b,L,g),yield C1(b,L)})).apply(this,arguments)}function a2(y,m,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(y,m,g){yield wr((0,P.m9)(y),{oobCode:m,newPassword:g})})).apply(this,arguments)}function Gt(y,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(y,m){yield ft((0,P.m9)(y),{oobCode:m})})).apply(this,arguments)}function xc(y,m){return S1.apply(this,arguments)}function S1(){return(S1=(0,l.Z)(function*(y,m){const g=(0,P.m9)(y),b=yield wr(g,{oobCode:m}),L=b.requestType;switch(fe(L,g,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(b.mfaInfo,g,"internal-error");default:fe(b.email,g,"internal-error")}let z=null;return b.mfaInfo&&(z=Mr._fromServerResponse(mr(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:z},operation:L}})).apply(this,arguments)}function a4(y,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(y,m){const{data:g}=yield xc((0,P.m9)(y),m);return g.email})).apply(this,arguments)}function Tc(y,m,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(y,m,g){const b=mr(y),L=yield Ic(b,{returnSecureToken:!0,email:m,password:g}),z=yield Ji._fromIdTokenResponse(b,"signIn",L);return yield b._updateCurrentUser(z.user),z})).apply(this,arguments)}function v6(y,m,g){return Xr((0,P.m9)(y),sa.credential(m,g))}function We(y,m,g){return un.apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(y,m,g){const b=(0,P.m9)(y),L={requestType:"EMAIL_SIGNIN",email:m};fe(g.handleCodeInApp,b,"argument-error"),g&&$o(b,L,g),yield $t(b,L)})).apply(this,arguments)}function c4(y,m){return"EMAIL_SIGNIN"===Rr.parseLink(m)?.operation}function Nc(y,m,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(y,m,g){const b=(0,P.m9)(y),L=sa.credentialWithLink(m,g||Ye());return fe(L._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Xr(b,L)})).apply(this,arguments)}function ma(y,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(y,m){return Dt(y,"POST","/v1/accounts:createAuthUri",Wt(y,m))})).apply(this,arguments)}function gs(y,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(y,m){const b={identifier:m,continueUri:Xe()?Ye():"http://localhost"},{signinMethods:L}=yield ma((0,P.m9)(y),b);return L||[]})).apply(this,arguments)}function ga(y,m){return x1.apply(this,arguments)}function x1(){return(x1=(0,l.Z)(function*(y,m){const g=(0,P.m9)(y),L={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};m&&$o(g.auth,L,m);const{email:z}=yield fs(g.auth,L);z!==y.email&&(yield y.reload())})).apply(this,arguments)}function _6(y,m,g){return qs.apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(y,m,g){const b=(0,P.m9)(y),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:m};g&&$o(b.auth,z,g);const{email:pe}=yield $s(b.auth,z);pe!==y.email&&(yield y.reload())})).apply(this,arguments)}function ur(y,m){return $i.apply(this,arguments)}function $i(){return($i=(0,l.Z)(function*(y,m){return Dt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function l4(y,m){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(y,{displayName:m,photoURL:g}){if(void 0===m&&void 0===g)return;const b=(0,P.m9)(y),z={idToken:yield b.getIdToken(),displayName:m,photoUrl:g,returnSecureToken:!0},pe=yield pn(b,ur(b.auth,z));b.displayName=pe.displayName||null,b.photoURL=pe.photoUrl||null;const je=b.providerData.find(({providerId:ht})=>"password"===ht);je&&(je.displayName=b.displayName,je.photoURL=b.photoURL),yield b._updateTokensIfNecessary(pe)})).apply(this,arguments)}function vs(y,m){return va((0,P.m9)(y),m,null)}function y6(y,m){return va((0,P.m9)(y),null,m)}function va(y,m,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(y,m,g){const{auth:b}=y,z={idToken:yield y.getIdToken(),returnSecureToken:!0};m&&(z.email=m),g&&(z.password=g);const pe=yield pn(y,gr(b,z));yield y._updateTokensIfNecessary(pe,!0)})).apply(this,arguments)}class yo{constructor(m,g,b={}){this.isNewUser=m,this.providerId=g,this.profile=b}}class l2 extends yo{constructor(m,g,b,L){super(m,g,b),this.username=L}}class u4 extends yo{constructor(m,g){super(m,"facebook.com",g)}}class u2 extends l2{constructor(m,g){super(m,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Lc extends yo{constructor(m,g){super(m,"google.com",g)}}class d4 extends l2{constructor(m,g,b){super(m,"twitter.com",g,b)}}function ya(y){const{user:m,_tokenResponse:g}=y;return m.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function c2(y){var m,g;if(!y)return null;const{providerId:b}=y,L=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},z=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const pe=null===(g=null===(m=wt(y.idToken))||void 0===m?void 0:m.firebase)||void 0===g?void 0:g.sign_in_provider;if(pe)return new yo(z,"anonymous"!==pe&&"custom"!==pe?pe:null)}if(!b)return null;switch(b){case"facebook.com":return new u4(z,L);case"github.com":return new u2(z,L);case"google.com":return new Lc(z,L);case"twitter.com":return new d4(z,L,y.screenName||null);case"custom":case"anonymous":return new yo(z,null);default:return new yo(z,b,L)}}(g)}class Dn{constructor(m,g,b){this.type=m,this.credential=g,this.auth=b}static _fromIdtoken(m,g){return new Dn("enroll",m,g)}static _fromMfaPendingCredential(m){return new Dn("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var g,b;if(m?.multiFactorSession){if(null!==(g=m.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Dn._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(b=m.multiFactorSession)&&void 0!==b&&b.idToken)return Dn._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Oc{constructor(m,g,b){this.session=m,this.hints=g,this.signInResolver=b}static _fromError(m,g){const b=mr(m),L=g.customData._serverResponse,z=(L.mfaInfo||[]).map(je=>Mr._fromServerResponse(b,je));fe(L.mfaPendingCredential,b,"internal-error");const pe=Dn._fromMfaPendingCredential(L.mfaPendingCredential);return new Oc(pe,z,function(){var je=(0,l.Z)(function*(ht){const Mt=yield ht._process(b,pe);delete L.mfaInfo,delete L.mfaPendingCredential;const Zt=Object.assign(Object.assign({},L),{idToken:Mt.idToken,refreshToken:Mt.refreshToken});switch(g.operationType){case"signIn":const Jn=yield Ji._fromIdTokenResponse(b,g.operationType,Zt);return yield b._updateCurrentUser(Jn.user),Jn;case"reauthenticate":return fe(g.user,b,"internal-error"),Ji._forOperation(g.user,g.operationType,Zt);default:Ne(b,"internal-error")}});return function(ht){return je.apply(this,arguments)}}())}resolveSignIn(m){var g=this;return(0,l.Z)(function*(){return g.signInResolver(m)})()}}function h4(y,m){var g;const b=(0,P.m9)(y),L=m;return fe(m.customData.operationType,b,"argument-error"),fe(null===(g=L.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Oc._fromError(b,L)}function $r(y,m){return Dt(y,"POST","/v2/accounts/mfaEnrollment:start",Wt(y,m))}class f2{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Mr._fromServerResponse(m.auth,b)))})}static _fromUser(m){return new f2(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Dn._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,g){var b=this;return(0,l.Z)(function*(){const L=m,z=yield b.getSession(),pe=yield pn(b.user,L._process(b.user.auth,z,g));return yield b.user._updateTokensIfNecessary(pe),b.user.reload()})()}unenroll(m){var g=this;return(0,l.Z)(function*(){const b="string"==typeof m?m:m.uid,L=yield g.user.getIdToken(),z=yield pn(g.user,function M6(y,m){return Dt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(y,m))}(g.user.auth,{idToken:L,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:pe})=>pe!==b),yield g.user._updateTokensIfNecessary(z);try{yield g.user.reload()}catch(pe){if("auth/user-token-expired"!==pe?.code)throw pe}})()}}const Ks=new WeakMap;function _s(y){const m=(0,P.m9)(y);return Ks.has(m)||Ks.set(m,f2._fromUser(m)),Ks.get(m)}const Co="__sak";class Ss{constructor(m,g){this.storageRetriever=m,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Co,"1"),this.storage.removeItem(Co),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,g){return this.storage.setItem(m,JSON.stringify(g)),Promise.resolve()}_get(m){const g=this.storage.getItem(m);return Promise.resolve(g?JSON.parse(g):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const di=(()=>{class y extends Ss{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rc(){const y=(0,P.z$)();return U(y)||yt(y)}()&&function v1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Nr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const L=this.storage.getItem(b),z=this.localCache[b];L!==z&&g(b,z,L)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((je,ht,Mt)=>{this.notifyListeners(je,Mt)});const L=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const je=this.storage.getItem(L);if(g.newValue!==je)null!==g.newValue?this.storage.setItem(L,g.newValue):this.storage.removeItem(L);else if(this.localCache[L]===g.newValue&&!b)return}const z=()=>{const je=this.storage.getItem(L);!b&&this.localCache[L]===je||this.notifyListeners(L,je)},pe=this.storage.getItem(L);!function zt(){return(0,P.w1)()&&10===document.documentMode}()||pe===g.newValue||g.newValue===g.oldValue?z():setTimeout(z,10)}notifyListeners(g,b){this.localCache[g]=b;const L=this.listeners[g];if(L)for(const z of Array.from(L))z(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var L=()=>super._set,z=this;return(0,l.Z)(function*(){yield L().call(z,g,b),z.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,L=this;return(0,l.Z)(function*(){const z=yield b().call(L,g);return L.localCache[g]=JSON.stringify(z),z})()}_remove(g){var b=()=>super._remove,L=this;return(0,l.Z)(function*(){yield b().call(L,g),delete L.localCache[g]})()}}return y.type="LOCAL",y})(),Ys=(()=>{class y extends Ss{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let m2=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(z=>z.isListeningto(g));if(b)return b;const L=new y(g);return this.receivers.push(L),L}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,l.Z)(function*(){const L=g,{eventId:z,eventType:pe,data:je}=L.data,ht=b.handlersMap[pe];if(!ht?.size)return;L.ports[0].postMessage({status:"ack",eventId:z,eventType:pe});const Mt=Array.from(ht).map(function(){var Jn=(0,l.Z)(function*(Wi){return Wi(L.origin,je)});return function(Wi){return Jn.apply(this,arguments)}}()),Zt=yield function p2(y){return Promise.all(y.map(function(){var m=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return m.apply(this,arguments)}}()))}(Mt);L.ports[0].postMessage({status:"done",eventId:z,eventType:pe,response:Zt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ko(y="",m=10){let g="";for(let b=0;b<m;b++)g+=Math.floor(10*Math.random());return y+g}class ba{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,g,b=50){var L=this;return(0,l.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let pe,je;return new Promise((ht,Mt)=>{const Zt=Ko("",20);z.port1.start();const Jn=setTimeout(()=>{Mt(new Error("unsupported_event"))},b);je={messageChannel:z,onMessage(Wi){const ss=Wi;if(ss.data.eventId===Zt)switch(ss.data.status){case"ack":clearTimeout(Jn),pe=setTimeout(()=>{Mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),ht(ss.data.response);break;default:clearTimeout(Jn),clearTimeout(pe),Mt(new Error("invalid_response"))}}},L.handlers.add(je),z.port1.addEventListener("message",je.onMessage),L.target.postMessage({eventType:m,eventId:Zt,data:g},[z.port2])}).finally(()=>{je&&L.removeMessageHandler(je)})})()}}function or(){return window}function Qs(){return typeof or().WorkerGlobalScope<"u"&&"function"==typeof or().importScripts}function ys(){return(ys=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const N1="firebaseLocalStorageDb",xs="firebaseLocalStorage",bo="fbase_key";class Cs{constructor(m){this.request=m}toPromise(){return new Promise((m,g)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Eo(y,m){return y.transaction([xs],m?"readwrite":"readonly").objectStore(xs)}function wo(){const y=indexedDB.open(N1,1);return new Promise((m,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(xs,{keyPath:bo})}catch(L){g(L)}}),y.addEventListener("success",(0,l.Z)(function*(){const b=y.result;b.objectStoreNames.contains(xs)?m(b):(b.close(),yield function Fc(){const y=indexedDB.deleteDatabase(N1);return new Cs(y).toPromise()}(),m(yield wo()))}))})}function v2(y,m,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(y,m,g){const b=Eo(y,!0).put({[bo]:m,value:g});return new Cs(b).toPromise()})).apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(y,m){const g=Eo(y,!1).get(m),b=yield new Cs(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Mo(y,m){const g=Eo(y,!0).delete(m);return new Cs(g).toPromise()}const Yo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield wo()),g.db})()}_withRetries(g){var b=this;return(0,l.Z)(function*(){let L=0;for(;;)try{const z=yield b._openDb();return yield g(z)}catch(z){if(L++>3)throw z;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return Qs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=m2._getInstance(function zc(){return Qs()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(L,z){return{keyProcessed:(yield g._poll()).includes(z.key)}});return function(L,z){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(L,z){return["keyChanged"]});return function(L,z){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var b,L;if(g.activeServiceWorker=yield function Ea(){return ys.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ba(g.activeServiceWorker);const z=yield g.sender._send("ping",{},800);z&&null!==(b=z[0])&&void 0!==b&&b.fulfilled&&null!==(L=z[0])&&void 0!==L&&L.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Pc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield wo();return yield v2(g,Co,"1"),yield Mo(g,Co),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var L=this;return(0,l.Z)(function*(){return L._withPendingWrite((0,l.Z)(function*(){return yield L._withRetries(z=>v2(z,g,b)),L.localCache[g]=b,L.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,l.Z)(function*(){const L=yield b._withRetries(z=>function p4(y,m){return Xs.apply(this,arguments)}(z,g));return b.localCache[g]=L,L})()}_remove(g){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(L=>Mo(L,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const b=yield g._withRetries(pe=>{const je=Eo(pe,!1).getAll();return new Cs(je).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const L=[],z=new Set;for(const{fbase_key:pe,value:je}of b)z.add(pe),JSON.stringify(g.localCache[pe])!==JSON.stringify(je)&&(g.notifyListeners(pe,je),L.push(pe));for(const pe of Object.keys(g.localCache))g.localCache[pe]&&!z.has(pe)&&(g.notifyListeners(pe,null),L.push(pe));return L})()}notifyListeners(g,b){this.localCache[g]=b;const L=this.listeners[g];if(L)for(const z of Array.from(L))z(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function m4(y,m){return Dt(y,"POST","/v2/accounts/mfaSignIn:start",Wt(y,m))}function ts(){return(ts=(0,l.Z)(function*(y){return(yield Dt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qo(y){return new Promise((m,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=m,b.onerror=L=>{const z=Pe("internal-error");z.customData=L,g(z)},b.type="text/javascript",b.charset="UTF-8",function Hc(){var y,m;return null!==(m=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==m?m:document}().appendChild(b)})}function ns(y){return`__${y}${Math.floor(1e6*Math.random())}`}const fi=1e12;class Ts{constructor(m){this.auth=m,this.counter=fi,this._widgets=new Map}render(m,g){const b=this.counter;return this._widgets.set(b,new g4(m,this.auth.name,g||{})),this.counter++,b}reset(m){var g;const b=m||fi;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(m){var g;return(null===(g=this._widgets.get(m||fi))||void 0===g?void 0:g.getResponse())||""}execute(m){var g=this;return(0,l.Z)(function*(){var b;return null===(b=g._widgets.get(m||fi))||void 0===b||b.execute(),""})()}}class g4{constructor(m,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof m?document.getElementById(m):m;fe(L,"argument-error",{appName:g}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bc(y){const m=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)m.push(g.charAt(Math.floor(Math.random()*g.length)));return m.join("")}(50);const{callback:m,"expired-callback":g}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ma=ns("rcb"),D6=new Tt(3e4,6e4);class w2{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=or().grecaptcha)||void 0===m||!m.render)}load(m,g=""){return fe(function bs(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),m,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(or().grecaptcha):new Promise((b,L)=>{const z=or().setTimeout(()=>{L(Pe(m,"network-request-failed"))},D6.get());or()[Ma]=()=>{or().clearTimeout(z),delete or()[Ma];const je=or().grecaptcha;if(!je)return void L(Pe(m,"internal-error"));const ht=je.render;je.render=(Mt,Zt)=>{const Jn=ht(Mt,Zt);return this.counter++,Jn},this.hostLanguage=g,b(je)},Qo(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Ma,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(z),L(Pe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var g;return!(null===(g=or().grecaptcha)||void 0===g||!g.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class L1{load(m){return(0,l.Z)(function*(){return new Ts(m)})()}clearedOneInstance(){}}const Xo="recaptcha",I6={theme:"light",type:"image"};class _4{constructor(m,g=Object.assign({},I6),b){this.parameters=g,this.type=Xo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mr(b),this.isInvisible="invisible"===this.parameters.size,fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof m?document.getElementById(m):m;fe(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new L1:new w2,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const g=yield m.render(),b=m.getAssertedRecaptcha();return b.getResponse(g)||new Promise(z=>{const pe=je=>{je&&(m.tokenChangeListeners.delete(pe),z(je))};m.tokenChangeListeners.add(pe),m.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof m)m(g);else if("string"==typeof m){const b=or()[m];"function"==typeof b&&b(g)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let g=m.container;if(!m.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}m.widgetId=m.getAssertedRecaptcha().render(g,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){fe(Xe()&&!Qs(),m.auth,"internal-error"),yield function Jo(){let y=null;return new Promise(m=>{"complete"!==document.readyState?(y=()=>m(),window.addEventListener("load",y)):m()}).catch(m=>{throw y&&window.removeEventListener("load",y),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const g=yield function C2(y){return ts.apply(this,arguments)}(m.auth);fe(g,m.auth,"internal-error"),m.parameters.sitekey=g})()}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ns{constructor(m,g){this.verificationId=m,this.onConfirmation=g}confirm(m){const g=Is._fromVerification(this.verificationId,m);return this.onConfirmation(g)}}function A6(y,m,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(y,m,g){const b=mr(y),L=yield I2(b,m,(0,P.m9)(g));return new Ns(L,z=>Xr(b,z))})).apply(this,arguments)}function M2(y,m,g){return D2.apply(this,arguments)}function D2(){return(D2=(0,l.Z)(function*(y,m,g){const b=(0,P.m9)(y);yield w1(!1,b,"phone");const L=yield I2(b.auth,m,(0,P.m9)(g));return new Ns(L,z=>ua(b,z))})).apply(this,arguments)}function w8(y,m,g){return y4.apply(this,arguments)}function y4(){return(y4=(0,l.Z)(function*(y,m,g){const b=(0,P.m9)(y),L=yield I2(b.auth,m,(0,P.m9)(g));return new Ns(L,z=>A1(b,z))})).apply(this,arguments)}function I2(y,m,g){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(y,m,g){var b;const L=yield g.verify();try{let z;if(fe("string"==typeof L,y,"argument-error"),fe(g.type===Xo,y,"argument-error"),z="string"==typeof m?{phoneNumber:m}:m,"session"in z){const pe=z.session;if("phoneNumber"in z)return fe("enroll"===pe.type,y,"internal-error"),(yield $r(y,{idToken:pe.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{fe("signin"===pe.type,y,"internal-error");const je=(null===(b=z.multiFactorHint)||void 0===b?void 0:b.uid)||z.multiFactorUid;return fe(je,y,"missing-multi-factor-info"),(yield m4(y,{mfaPendingCredential:pe.credential,mfaEnrollmentId:je,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pe}=yield tn(y,{phoneNumber:z.phoneNumber,recaptchaToken:L});return pe}}finally{g._reset()}})).apply(this,arguments)}function S6(y,m){return Do.apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(y,m){yield go((0,P.m9)(y),m)})).apply(this,arguments)}let M8=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=mr(g)}verifyPhoneNumber(g,b){return I2(this.auth,g,(0,P.m9)(b))}static credential(g,b){return Is._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:L}=g;return b&&L?Is._fromTokenResponse(b,L):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Io(y,m){return m?ue(m):(fe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Xn extends Pn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return de(m,this._buildIdpRequest())}_linkToIdToken(m,g){return de(m,this._buildIdpRequest(g))}_getReauthenticationResolver(m){return de(m,this._buildIdpRequest())}_buildIdpRequest(m){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(g.idToken=m),g}}function O1(y){return D1(y.auth,new Xn(y),y.bypassAuthState)}function e1(y){const{auth:m,user:g}=y;return fe(g,m,"internal-error"),la(g,new Xn(y),y.bypassAuthState)}function jc(y){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.Z)(function*(y){const{auth:m,user:g}=y;return fe(g,m,"internal-error"),go(g,new Xn(y),y.bypassAuthState)})).apply(this,arguments)}class Ls{constructor(m,g,b,L,z=!1){this.auth=m,this.resolver=b,this.user=L,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var m=this;return new Promise(function(){var g=(0,l.Z)(function*(b,L){m.pendingPromise={resolve:b,reject:L};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(z){m.reject(z)}});return function(b,L){return g.apply(this,arguments)}}())}onAuthEvent(m){var g=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:L,postBody:z,tenantId:pe,error:je,type:ht}=m;if(je)return void g.reject(je);const Mt={auth:g.auth,requestUri:b,sessionId:L,tenantId:pe||void 0,postBody:z||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ht)(Mt))}catch(Zt){g.reject(Zt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return O1;case"linkViaPopup":case"linkViaRedirect":return jc;case"reauthViaPopup":case"reauthViaRedirect":return e1;default:Ne(this.auth,"internal-error")}}resolve(m){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const x6=new Tt(2e3,1e4);function $c(y,m,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(y,m,g){const b=mr(y);ze(y,m,As);const L=Io(b,g);return new it(b,"signInViaPopup",m,L).executeNotNull()})).apply(this,arguments)}function C4(y,m,g){return A2.apply(this,arguments)}function A2(){return(A2=(0,l.Z)(function*(y,m,g){const b=(0,P.m9)(y);ze(b.auth,m,As);const L=Io(b.auth,g);return new it(b.auth,"reauthViaPopup",m,L,b).executeNotNull()})).apply(this,arguments)}function R1(y,m,g){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(y,m,g){const b=(0,P.m9)(y);ze(b.auth,m,As);const L=Io(b.auth,g);return new it(b.auth,"linkViaPopup",m,L,b).executeNotNull()})).apply(this,arguments)}let it=(()=>{class y extends Ls{constructor(g,b,L,z,pe){super(g,b,z,pe),this.provider=L,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const b=yield g.execute();return fe(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,l.Z)(function*(){ke(1===g.filter.length,"Popup operations only handle one event");const b=Ko();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(L=>{g.reject(L)}),g.resolver._isIframeWebStorageSupported(g.auth,L=>{L||g.reject(Pe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,L;this.pollId=null!==(L=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,x6.get())};g()}}return y.currentPopupAction=null,y})();const Gr=new Map;class S2 extends Ls{constructor(m,g,b=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var m=()=>super.execute,g=this;return(0,l.Z)(function*(){let b=Gr.get(g.auth._key());if(!b){try{const z=(yield function Vn(y,m){return Gc.apply(this,arguments)}(g.resolver,g.auth))?yield m().call(g):null;b=()=>Promise.resolve(z)}catch(L){b=()=>Promise.reject(L)}Gr.set(g.auth._key(),b)}return g.bypassAuthState||Gr.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(m){var g=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return g().call(b,m);if("unknown"!==m.type){if(m.eventId){const L=yield b.auth._redirectUserForId(m.eventId);if(L)return b.user=L,g().call(b,m);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Gc(){return(Gc=(0,l.Z)(function*(y,m){const g=M(m),b=qc(y);if(!(yield b._isAvailable()))return!1;const L="true"===(yield b._get(g));return yield b._remove(g),L})).apply(this,arguments)}function Wc(y,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(y,m){return qc(y)._set(M(m),"true")})).apply(this,arguments)}function b4(){Gr.clear()}function x2(y,m){Gr.set(y._key(),m)}function qc(y){return ue(y._redirectPersistence)}function M(y){return Y("pendingRedirect",y.config.apiKey,y.name)}function D(y,m,g){return function R(y,m,g){return G.apply(this,arguments)}(y,m,g)}function G(){return(G=(0,l.Z)(function*(y,m,g){const b=mr(y);ze(y,m,As);const L=Io(b,g);return yield Wc(L,b),L._openRedirect(b,m,"signInViaRedirect")})).apply(this,arguments)}function he(y,m,g){return function ve(y,m,g){return Ze.apply(this,arguments)}(y,m,g)}function Ze(){return(Ze=(0,l.Z)(function*(y,m,g){const b=(0,P.m9)(y);ze(b.auth,m,As);const L=Io(b.auth,g);yield Wc(L,b.auth);const z=yield Gi(b);return L._openRedirect(b.auth,m,"reauthViaRedirect",z)})).apply(this,arguments)}function ct(y,m,g){return function bt(y,m,g){return _t.apply(this,arguments)}(y,m,g)}function _t(){return(_t=(0,l.Z)(function*(y,m,g){const b=(0,P.m9)(y);ze(b.auth,m,As);const L=Io(b.auth,g);yield w1(!1,b,m.providerId),yield Wc(L,b.auth);const z=yield Gi(b);return L._openRedirect(b.auth,m,"linkViaRedirect",z)})).apply(this,arguments)}function nn(y,m){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(y,m){return yield mr(y)._initializationPromise,Ir(y,m,!1)})).apply(this,arguments)}function Ir(y,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(y,m,g=!1){const b=mr(y),L=Io(b,m),pe=yield new S2(b,L,g).execute();return pe&&!g&&(delete pe.user._redirectEventId,yield b._persistUserIfCurrent(pe.user),yield b._setRedirectUser(null,m)),pe})).apply(this,arguments)}function Gi(y){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(y){const m=Ko(`${y.uid}:::`);return y._redirectEventId=m,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),m})).apply(this,arguments)}class ei{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(m,b)&&(g=!0,this.sendToConsumer(m,b),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function is(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return So(y);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=m,g=!0)),g}sendToConsumer(m,g){var b;if(m.error&&!So(m)){const L=(null===(b=m.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(Pe(this.auth,L))}else g.onAuthEvent(m)}isEventForConsumer(m,g){const b=null===g.eventId||!!m.eventId&&m.eventId===g.eventId;return g.filter.includes(m.type)&&b}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ar(m))}saveEventToCache(m){this.cachedEventUids.add(Ar(m)),this.lastProcessedEventTime=Date.now()}}function Ar(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(m=>m).join("-")}function So({type:y,error:m}){return"unknown"===y&&"auth/no-auth-event"===m?.code}function k1(y){return ti.apply(this,arguments)}function ti(){return(ti=(0,l.Z)(function*(y,m={}){return Dt(y,"GET","/v1/projects",m)})).apply(this,arguments)}const Ia=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E4=/^https?/;function vn(){return(vn=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:m}=yield k1(y);for(const g of m)try{if(pi(g))return}catch{}Ne(y,"unauthorized-domain")})).apply(this,arguments)}function pi(y){const m=Ye(),{protocol:g,hostname:b}=new URL(m);if(y.startsWith("chrome-extension://")){const pe=new URL(y);return""===pe.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===g&&pe.hostname===b}if(!E4.test(g))return!1;if(Ia.test(y))return b===y;const L=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(b)}const n1=new Tt(3e4,6e4);function Ni(){const y=or().___jsl;if(y?.H)for(const m of Object.keys(y.H))if(y.H[m].r=y.H[m].r||[],y.H[m].L=y.H[m].L||[],y.H[m].r=[...y.H[m].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let P1=null;function Zc(y){return P1=P1||function ni(y){return new Promise((m,g)=>{var b,L,z;function pe(){Ni(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Ni(),g(Pe(y,"network-request-failed"))},timeout:n1.get()})}if(null!==(L=null===(b=or().gapi)||void 0===b?void 0:b.iframes)&&void 0!==L&&L.Iframe)m(gapi.iframes.getContext());else{if(null===(z=or().gapi)||void 0===z||!z.load){const je=ns("iframefcb");return or()[je]=()=>{gapi.load?pe():g(Pe(y,"network-request-failed"))},Qo(`https://apis.google.com/js/api.js?onload=${je}`).catch(ht=>g(ht))}pe()}}).catch(m=>{throw P1=null,m})}(y),P1}const N5=new Tt(5e3,15e3),ri={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kc(y){const m=y.config;fe(m.authDomain,y,"auth-domain-config-required");const g=m.emulator?jt(m,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:m.apiKey,appName:y.name,v:T.SDK_VERSION},L=mi.get(y.config.apiHost);L&&(b.eid=L);const z=y._getFrameworks();return z.length&&(b.fw=z.join(",")),`${g}?${(0,P.xO)(b).slice(1)}`}function w4(){return w4=(0,l.Z)(function*(y){const m=yield Zc(y),g=or().gapi;return fe(g,y,"internal-error"),m.open({where:document.body,url:Kc(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ri,dontclear:!0},b=>new Promise(function(){var L=(0,l.Z)(function*(z,pe){yield b.restyle({setHideOnLeave:!1});const je=Pe(y,"network-request-failed"),ht=or().setTimeout(()=>{pe(je)},N5.get());function Mt(){or().clearTimeout(ht),z(b)}b.ping(Mt).then(Mt,()=>{pe(je)})});return function(z,pe){return L.apply(this,arguments)}}()))}),w4.apply(this,arguments)}const D8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class M4{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N2(y,m,g,b,L,z){fe(y.config.authDomain,y,"auth-domain-config-required"),fe(y.config.apiKey,y,"invalid-api-key");const pe={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:T.SDK_VERSION,eventId:L};if(m instanceof As){m.setDefaultLanguage(y.languageCode),pe.providerId=m.providerId||"",(0,P.xb)(m.getCustomParameters())||(pe.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ht,Mt]of Object.entries(z||{}))pe[ht]=Mt}if(m instanceof Uo){const ht=m.getScopes().filter(Mt=>""!==Mt);ht.length>0&&(pe.scopes=ht.join(","))}y.tenantId&&(pe.tid=y.tenantId);const je=pe;for(const ht of Object.keys(je))void 0===je[ht]&&delete je[ht];return`${function Yc({config:y}){return y.emulator?jt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(je).slice(1)}`}const Qc="webStorageSupport",Wr=class L5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ys,this._completeRedirectFn=Ir,this._overrideRedirectResult=x2}_openPopup(m,g,b,L){var z=this;return(0,l.Z)(function*(){var pe;ke(null===(pe=z.eventManagers[m._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const je=N2(m,g,b,Ye(),L);return function Li(y,m,g,b=500,L=600){const z=Math.max((window.screen.availHeight-L)/2,0).toString(),pe=Math.max((window.screen.availWidth-b)/2,0).toString();let je="";const ht=Object.assign(Object.assign({},D8),{width:b.toString(),height:L.toString(),top:z,left:pe}),Mt=(0,P.z$)().toLowerCase();g&&(je=Ce(Mt)?"_blank":g),k(Mt)&&(m=m||"http://localhost",ht.scrollbars="yes");const Zt=Object.entries(ht).reduce((Wi,[ss,Na])=>`${Wi}${ss}=${Na},`,"");if(function pr(y=(0,P.z$)()){var m;return yt(y)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Mt)&&"_self"!==je)return function I8(y,m){const g=document.createElement("a");g.href=y,g.target=m;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(m||"",je),new M4(null);const Jn=window.open(m||"",je,Zt);fe(Jn,y,"popup-blocked");try{Jn.focus()}catch{}return new M4(Jn)}(m,je,Ko())})()}_openRedirect(m,g,b,L){var z=this;return(0,l.Z)(function*(){return yield z._originValidation(m),function T1(y){or().location.href=y}(N2(m,g,b,Ye(),L)),new Promise(()=>{})})()}_initialize(m){const g=m._key();if(this.eventManagers[g]){const{manager:L,promise:z}=this.eventManagers[g];return L?Promise.resolve(L):(ke(z,"If manager is not set, promise should be"),z)}const b=this.initAndGetManager(m);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(m){var g=this;return(0,l.Z)(function*(){const b=yield function T6(y){return w4.apply(this,arguments)}(m),L=new ei(m);return b.register("authEvent",z=>(fe(z?.authEvent,m,"invalid-auth-event"),{status:L.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[m._key()]={manager:L},g.iframes[m._key()]=b,L})()}_isIframeWebStorageSupported(m,g){this.iframes[m._key()].send(Qc,{type:Qc},L=>{var z;const pe=null===(z=L?.[0])||void 0===z?void 0:z[Qc];void 0!==pe&&g(!!pe),Ne(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ln(y){return vn.apply(this,arguments)}(m)),this.originValidationPromises[g]}get _shouldInitProactively(){return Nr()||U()||yt()}};class xo{constructor(m){this.factorId=m}_process(m,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(m,g.credential,b);case"signin":return this._finalizeSignIn(m,g.credential);default:return Ee("unexpected MultiFactorSessionType")}}}class Sa extends xo{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Sa(m)}_finalizeEnroll(m,g,b){return function f4(y,m){return Dt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(y,m))}(m,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,g){return function y2(y,m){return Dt(y,"POST","/v2/accounts/mfaSignIn:finalize",Wt(y,m))}(m,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let S8=(()=>{class y{constructor(){}static assertion(g){return Sa._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var gi="@firebase/auth";class L6{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const g=this.auth.onIdTokenChanged(b=>{m(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,g),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const g=this.internalListeners.get(m);g&&(this.internalListeners.delete(m),g(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const D4=(0,P.Pz)("authIdTokenMaxAge")||300;let Ta=null;const z1=y=>function(){var m=(0,l.Z)(function*(g){const b=g&&(yield g.getIdTokenResult()),L=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(L&&L>D4)return;const z=b?.token;Ta!==z&&(Ta=z,yield fetch(y,{method:z?"POST":"DELETE",headers:z?{Authorization:`Bearer ${z}`}:{}}))});return function(g){return m.apply(this,arguments)}}();function rn(y=(0,T.getApp)()){const m=(0,T._getProvider)(y,"auth");if(m.isInitialized())return m.getImmediate();const g=function Ie(y,m){const g=(0,T._getProvider)(y,"auth");if(g.isInitialized()){const L=g.getImmediate(),z=g.getOptions();if((0,P.vZ)(z,m??{}))return L;Ne(L,"already-initialized")}return g.initialize({options:m})}(y,{popupRedirectResolver:Wr,persistence:[Yo,di,Ys]}),b=(0,P.Pz)("authTokenSyncURL");if(b){const z=z1(b);(function E6(y,m,g){(0,P.m9)(y).beforeAuthStateChanged(m,g)})(g,z,()=>z(g.currentUser)),function b6(y,m,g,b){(0,P.m9)(y).onIdTokenChanged(m,g,b)}(g,pe=>z(pe))}const L=(0,P.q4)("auth");return L&&Ho(g,`http://${L}`),g}!function vi(y){(0,T._registerComponent)(new X.wA("auth",(m,{options:g})=>{const b=m.getProvider("app").getImmediate(),L=m.getProvider("heartbeat"),{apiKey:z,authDomain:pe}=b.options;return((je,ht)=>{fe(z&&!z.includes(":"),"invalid-api-key",{appName:je.name}),fe(!pe?.includes(":"),"argument-error",{appName:je.name});const Mt={apiKey:z,authDomain:pe,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bs(y)},Zt=new _1(je,ht,Mt);return function ge(y,m){const g=m?.persistence||[],b=(Array.isArray(g)?g:[g]).map(ue);m?.errorMap&&y._updateErrorMap(m.errorMap),y._initializeWithPersistence(b,m?.popupRedirectResolver)}(Zt,g),Zt})(b,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,g,b)=>{m.getProvider("auth-internal").initialize()})),(0,T._registerComponent)(new X.wA("auth-internal",m=>{const g=mr(m.getProvider("auth").getImmediate());return new L6(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,T.registerVersion)(gi,"0.21.0",function Xc(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,T.registerVersion)(gi,"0.21.0","esm2017")}("Browser")},2090:(ce,K,S)=>{S.d(K,{$s:()=>lt,BH:()=>gn,G6:()=>ze,L:()=>ne,LL:()=>an,P0:()=>Xe,Pz:()=>on,Sg:()=>Tt,UG:()=>Ue,US:()=>X,ZB:()=>H,ZR:()=>Et,aH:()=>Ct,b$:()=>De,eu:()=>fe,hl:()=>Je,jU:()=>tt,m9:()=>Xt,ne:()=>Er,pd:()=>kn,q4:()=>Ye,r3:()=>Ai,ru:()=>we,tV:()=>Q,uI:()=>Ae,vZ:()=>hn,w1:()=>Ne,xO:()=>Bn,xb:()=>Hr,z$:()=>be,zI:()=>Ee,zd:()=>br});const ee=function(J){const Y=[];let ae=0;for(let $=0;$<J.length;$++){let k=J.charCodeAt($);k<128?Y[ae++]=k:k<2048?(Y[ae++]=k>>6|192,Y[ae++]=63&k|128):55296==(64512&k)&&$+1<J.length&&56320==(64512&J.charCodeAt($+1))?(k=65536+((1023&k)<<10)+(1023&J.charCodeAt(++$)),Y[ae++]=k>>18|240,Y[ae++]=k>>12&63|128,Y[ae++]=k>>6&63|128,Y[ae++]=63&k|128):(Y[ae++]=k>>12|224,Y[ae++]=k>>6&63|128,Y[ae++]=63&k|128)}return Y},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,Y){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let k=0;k<J.length;k+=3){const U=J[k],Ce=k+1<J.length,$e=Ce?J[k+1]:0,mt=k+2<J.length,at=mt?J[k+2]:0;let Tn=(15&$e)<<2|at>>6,pr=63&at;mt||(pr=64,Ce||(Tn=64)),$.push(ae[U>>2],ae[(3&U)<<4|$e>>4],ae[Tn],ae[pr])}return $.join("")},encodeString(J,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(J):this.encodeByteArray(ee(J),Y)},decodeString(J,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(J):function(J){const Y=[];let ae=0,$=0;for(;ae<J.length;){const k=J[ae++];if(k<128)Y[$++]=String.fromCharCode(k);else if(k>191&&k<224){const U=J[ae++];Y[$++]=String.fromCharCode((31&k)<<6|63&U)}else if(k>239&&k<365){const mt=((7&k)<<18|(63&J[ae++])<<12|(63&J[ae++])<<6|63&J[ae++])-65536;Y[$++]=String.fromCharCode(55296+(mt>>10)),Y[$++]=String.fromCharCode(56320+(1023&mt))}else{const U=J[ae++],Ce=J[ae++];Y[$++]=String.fromCharCode((15&k)<<12|(63&U)<<6|63&Ce)}}return Y.join("")}(this.decodeStringToByteArray(J,Y))},decodeStringToByteArray(J,Y){this.init_();const ae=Y?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let k=0;k<J.length;){const U=ae[J.charAt(k++)],$e=k<J.length?ae[J.charAt(k)]:0;++k;const at=k<J.length?ae[J.charAt(k)]:64;++k;const yt=k<J.length?ae[J.charAt(k)]:64;if(++k,null==U||null==$e||null==at||null==yt)throw Error();$.push(U<<2|$e>>4),64!==at&&($.push($e<<4&240|at>>2),64!==yt&&$.push(at<<6&192|yt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},ne=function(J){return function(J){const Y=ee(J);return X.encodeByteArray(Y,!0)}(J).replace(/\./g,"")},Q=function(J){try{return X.decodeString(J,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function H(J,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return Y}for(const ae in Y)!Y.hasOwnProperty(ae)||!q(ae)||(J[ae]=H(J[ae],Y[ae]));return J}function q(J){return"__proto__"!==J}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function Ue(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function we(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){const J=be();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function ze(){return!Ue()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Je(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((J,Y)=>{try{let ae=!0;const $="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open($);k.onsuccess=()=>{k.result.close(),ae||self.indexedDB.deleteDatabase($),J(!0)},k.onupgradeneeded=()=>{ae=!1},k.onerror=()=>{var U;Y((null===(U=k.error)||void 0===U?void 0:U.message)||"")}}catch(ae){Y(ae)}})}function Ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ge=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=J&&Q(J[1]);return Y&&JSON.parse(Y)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},Ye=J=>{var Y,ae;return null===(ae=null===(Y=ge())||void 0===Y?void 0:Y.emulatorHosts)||void 0===ae?void 0:ae[J]},Xe=J=>{const Y=Ye(J);if(!Y)return;const ae=Y.lastIndexOf(":");if(ae<=0||ae+1===Y.length)throw new Error(`Invalid host ${Y} with no separate hostname and port!`);const $=parseInt(Y.substring(ae+1),10);return"["===Y[0]?[Y.substring(1,ae-1),$]:[Y.substring(0,ae),$]},Ct=()=>{var J;return null===(J=ge())||void 0===J?void 0:J.config},on=J=>{var Y;return null===(Y=ge())||void 0===Y?void 0:Y[`_${J}`]};class gn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,ae)=>{this.resolve=Y,this.reject=ae})}wrapCallback(Y){return(ae,$)=>{ae?this.reject(ae):this.resolve($),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(ae):Y(ae,$))}}}function Tt(J,Y){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=Y||"demo-project",k=J.iat||0,U=J.sub||J.user_id;if(!U)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ce=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:k,exp:k+3600,auth_time:k,sub:U,user_id:U,firebase:{sign_in_provider:"custom",identities:{}}},J);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(Ce)),""].join(".")}class Et extends Error{constructor(Y,ae,$){super(ae),this.code=Y,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}}class an{constructor(Y,ae,$){this.service=Y,this.serviceName=ae,this.errors=$}create(Y,...ae){const $=ae[0]||{},k=`${this.service}/${Y}`,U=this.errors[Y],Ce=U?function Gn(J,Y){return J.replace(Wt,(ae,$)=>{const k=Y[$];return null!=k?String(k):`<${$}?>`})}(U,$):"Error";return new Et(k,`${this.serviceName}: ${Ce} (${k}).`,$)}}const Wt=/\{\$([^}]+)}/g;function Ai(J,Y){return Object.prototype.hasOwnProperty.call(J,Y)}function Hr(J){for(const Y in J)if(Object.prototype.hasOwnProperty.call(J,Y))return!1;return!0}function hn(J,Y){if(J===Y)return!0;const ae=Object.keys(J),$=Object.keys(Y);for(const k of ae){if(!$.includes(k))return!1;const U=J[k],Ce=Y[k];if(nr(U)&&nr(Ce)){if(!hn(U,Ce))return!1}else if(U!==Ce)return!1}for(const k of $)if(!ae.includes(k))return!1;return!0}function nr(J){return null!==J&&"object"==typeof J}function Bn(J){const Y=[];for(const[ae,$]of Object.entries(J))Array.isArray($)?$.forEach(k=>{Y.push(encodeURIComponent(ae)+"="+encodeURIComponent(k))}):Y.push(encodeURIComponent(ae)+"="+encodeURIComponent($));return Y.length?"&"+Y.join("&"):""}function br(J){const Y={};return J.replace(/^\?/,"").split("&").forEach($=>{if($){const[k,U]=$.split("=");Y[decodeURIComponent(k)]=decodeURIComponent(U)}}),Y}function kn(J){const Y=J.indexOf("?");if(!Y)return"";const ae=J.indexOf("#",Y);return J.substring(Y,ae>0?ae:void 0)}function Er(J,Y){const ae=new Ot(J,Y);return ae.subscribe.bind(ae)}class Ot{constructor(Y,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{Y(this)}).catch($=>{this.error($)})}next(Y){this.forEachObserver(ae=>{ae.next(Y)})}error(Y){this.forEachObserver(ae=>{ae.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,ae,$){let k;if(void 0===Y&&void 0===ae&&void 0===$)throw new Error("Missing Observer.");k=function Rt(J,Y){if("object"!=typeof J||null===J)return!1;for(const ae of Y)if(ae in J&&"function"==typeof J[ae])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:ae,complete:$},void 0===k.next&&(k.next=pn),void 0===k.error&&(k.error=pn),void 0===k.complete&&(k.complete=pn);const U=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),U}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,Y)}sendOne(Y,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{ae(this.observers[Y])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}function lt(J,Y=1e3,ae=2){const $=Y*Math.pow(ae,J),k=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+k)}function Xt(J){return J&&J._delegate?J._delegate:J}},4546:(ce,K,S)=>{var l=S(4650);let P=null;function T(){return P}class W{}const X=new l.OlP("DocumentToken");let se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ne(){return(0,l.LFG)(F)}()},providedIn:"platform"}),n})();const Q=new l.OlP("Location Initialized");let F=(()=>{class n extends se{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return T().getBaseHref(this._doc)}onPopState(t){const r=T().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=T().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){H()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){H()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function q(){return new F((0,l.LFG)(X))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function be(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let tt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(De)},providedIn:"root"}),n})();const we=new l.OlP("appBaseHref");let De=(()=>{class n extends tt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(X).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return be(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+Ue(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+Ue(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se),l.LFG(we,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends tt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=be(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+Ue(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+Ue(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(se),l.LFG(we,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Je(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ae(ze(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ue(r))}normalize(t){return n.stripTrailingSlash(function Ve(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=be,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(l.LFG(tt))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Pe(){return new Ne((0,l.LFG)(tt))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}const fe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Percent=1]="Percent",Ee[Ee.Currency=2]="Currency",Ee[Ee.Scientific=3]="Scientific",Ee))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))();function Dt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ge.CurrencyDecimal)return t[l.wAp.NumberSymbols][ge.Decimal];if(e===ge.CurrencyGroup)return t[l.wAp.NumberSymbols][ge.Group]}return r}function ci(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}const mt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Bs(n,e,t,r,i,a,u=!1){let f="",v=!1;if(isFinite(n)){let E=function y1(n){let r,i,a,u,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],u=0;a<=f;a++,u++)r[u]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);u&&(E=function Ho(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(E));let I=e.minInt,N=e.minFrac,j=e.maxFrac;if(a){const He=a.match(mt);if(null===He)throw new Error(`${a} is not a valid digit info`);const Re=He[1],qe=He[3],rt=He[5];null!=Re&&(I=Ms(Re)),null!=qe&&(N=Ms(qe)),null!=rt?j=Ms(rt):null!=qe&&N>j&&(j=N)}!function js(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let u=a+n.integerLen,f=r[u];if(u>0){r.splice(Math.max(n.integerLen,u));for(let N=u;N<r.length;N++)r[N]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,u=a+1),r[0]=0;for(let N=1;N<u;N++)r[N]=0}if(f>=5)if(u-1<0){for(let N=0;N>u;N--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[u-1]++;for(;i<Math.max(0,a);i++)r.push(0);let v=0!==a;const E=e+n.integerLen,I=r.reduceRight(function(N,j,re,ie){return ie[re]=(j+=N)<10?j:j-10,v&&(0===ie[re]&&re>=E?ie.pop():v=!1),j>=10?1:0},0);I&&(r.unshift(I),n.integerLen++)}(E,N,j);let re=E.digits,ie=E.integerLen;const Te=E.exponent;let ye=[];for(v=re.every(He=>!He);ie<I;ie++)re.unshift(0);for(;ie<0;ie++)re.unshift(0);ie>0?ye=re.splice(ie,re.length):(ye=re,re=[0]);const Le=[];for(re.length>=e.lgSize&&Le.unshift(re.splice(-e.lgSize,re.length).join(""));re.length>e.gSize;)Le.unshift(re.splice(-e.gSize,re.length).join(""));re.length&&Le.unshift(re.join("")),f=Le.join(Dt(t,r)),ye.length&&(f+=Dt(t,i)+ye.join("")),Te&&(f+=Dt(t,ge.Exponential)+"+"+Te)}else f=Dt(t,ge.Infinity);return f=n<0&&!v?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}function Us(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],u=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=u[0],v=u[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let I=0;I<v.length;I++){const N=v.charAt(I);"0"===N?t.minFrac=t.maxFrac=I+1:"#"===N?t.maxFrac=I+1:t.posSuf+=N}const E=f.split(",");if(t.gSize=E[1]?E[1].length:0,t.lgSize=E[2]||E[1]?(E[2]||E[1]).length:0,a){const I=i.length-t.posPre.length-t.posSuf.length,N=a.indexOf("#");t.negPre=a.substring(0,N).replace(/'/g,""),t.negSuf=a.slice(N+I).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function Ms(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function gr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}let Lr=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Or{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Br=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Or(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,u),Kn(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Kn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Kn(n,e){n.context.$implicit=e.item}let _n=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new C1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class C1{constructor(){this.$implicit=null,this.ngIf=null}}function Xi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let B=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),u=-1===i.indexOf("-")?void 0:l.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Me(n,e){return new l.vHH(2100,!1)}class Ge{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class ot{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const tn=new ot,Nn=new Ge;let fn=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return tn;if((0,l.F4k)(t))return Nn;throw Me()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),i4=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!Dc(t))return null;i=i||this._locale;try{return function mr(n,e,t){return Bs(n,Us(ci(e,Ee.Decimal),Dt(e,ge.MinusSign)),e,ge.Group,ge.Decimal,t)}(uo(t),i,r)}catch(a){throw Me()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})(),o2=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",a,u){if(!Dc(t))return null;u=u||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==i&&(f="symbol"===i||"symbol-narrow"===i?function pt(n,e,t="en"){const r=function Ii(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||fe[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(f,"symbol"===i?"wide":"narrow",u):i);try{return function co(n,e,t,r,i){const u=Us(ci(e,Ee.Currency),Dt(e,ge.MinusSign));return u.minFrac=function br(n){let e;const t=fe[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),u.maxFrac=u.minFrac,Bs(n,u,e,ge.CurrencyGroup,ge.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}(uo(t),u,f,r,a)}catch(v){throw Me()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();function Dc(n){return!(null==n||""===n||n!=n)}function uo(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let Gs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Ic="browser";function E1(n){return"server"===n}let po=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new mo((0,l.LFG)(X),window)}),n})();class mo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ca(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=go(this.window.history)||go(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function go(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vo{}class f2 extends W{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ks extends f2{static makeCurrent(){!function ee(n){P||(P=n)}(new Ks)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Co(){return _s=_s||document.querySelector("base"),_s?_s.getAttribute("href"):null}();return null==t?null:function Rc(n){Ss=Ss||document.createElement("a"),Ss.setAttribute("href",n);const e=Ss.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_s=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gr(document.cookie,e)}}let Ss,_s=null;const kc=new l.OlP("TRANSITION_ID"),Ca=[{provide:l.ip1,useFactory:function Zo(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=T(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[kc,X,l.zs3],multi:!0}];let E8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ys=new l.OlP("EventManagerPlugins");let p2=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ys),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class m2{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=T().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ko=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ba=(()=>{class n extends Ko{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(or),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(or))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function or(n){T().remove(n)}const T1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qs=/%COMP%/g;function xs(n,e){return e.flat(100).map(t=>t.replace(Qs,n))}function bo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cs=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Eo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new hi(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case l.ifc.ShadowDom:return new p4(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=xs(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(p2),l.LFG(ba),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Eo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(T1[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(v2(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(v2(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=T1[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=T1[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,bo(r)):this.eventManager.addEventListener(e,t,bo(r))}}function v2(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hi extends Eo{constructor(e,t,r,i){super(e),this.component=r;const a=xs(i+"-"+r.id,r.styles);t.addStyles(a),this.contentAttr=function N1(n){return"_ngcontent-%COMP%".replace(Qs,n)}(i+"-"+r.id),this.hostAttr=function g2(n){return"_nghost-%COMP%".replace(Qs,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class p4 extends Eo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=xs(i.id,i.styles);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Xs=(()=>{class n extends m2{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Mo=["alt","control","meta","shift"],_2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vc=(()=>{class n extends m2{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>T().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),Mo.forEach(E=>{const I=r.indexOf(E);I>-1&&(r.splice(I,1),u+=E+".")}),u+=a,0!=r.length||0===a.length)return null;const v={};return v.domEventName=i,v.fullKey=u,v}static matchEventFullKeyCode(t,r){let i=_2[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Mo.forEach(u=>{u!==i&&(0,wa[u])(t)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const E2=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Ic},{provide:l.g9A,useValue:function Hc(){Ks.makeCurrent()},multi:!0},{provide:X,useFactory:function ns(){return(0,l.RDi)(document),document},deps:[]}]),fi=new l.OlP(""),Ts=[{provide:l.rWj,useClass:class di{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const f=function(v){u=u||v,a--,0==a&&r(u)};i.forEach(function(v){v.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?T().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],g4=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Qo(){return new l.qLn},deps:[]},{provide:Ys,useClass:Xs,multi:!0,deps:[X,l.R0b,l.Lbi]},{provide:Ys,useClass:Vc,multi:!0,deps:[X]},{provide:Cs,useClass:Cs,deps:[p2,ba,l.AFp]},{provide:l.FYo,useExisting:Cs},{provide:Ko,useExisting:ba},{provide:ba,useClass:ba,deps:[X]},{provide:p2,useClass:p2,deps:[Ys,l.R0b]},{provide:vo,useClass:E8,deps:[]},[]];let Bc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:kc,useExisting:l.AFp},Ca]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fi,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...g4,...Ts],imports:[Gs,l.hGG]}),n})(),bs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function w2(){return new bs((0,l.LFG)(X))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ao=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(A2),r},providedIn:"root"}),n})(),A2=(()=>{class n extends Ao{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function C4(n){return new A2(n.get(X))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var An=S(8996),it=S(9646),kr=S(1135);const S2=(0,S(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Vn=S(9751);const{isArray:Gc}=Array,{getPrototypeOf:Wc,prototype:Da,keys:b4}=Object;function x2(n){if(1===n.length){const e=n[0];if(Gc(e))return{args:e,keys:null};if(function qc(n){return n&&"object"==typeof n&&Wc(n)===Da}(e)){const t=b4(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var M=S(4671),D=S(4004);const{isArray:R}=Array;function he(n){return(0,D.U)(e=>function G(n,e){return R(e)?n(...e):n(e)}(n,e))}var ve=S(3269);function Ze(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ct=S(5403),bt=S(9672);function _t(...n){const e=(0,ve.yG)(n),t=(0,ve.jO)(n),{args:r,keys:i}=x2(n);if(0===r.length)return(0,An.D)([],e);const a=new Vn.y(function nn(n,e,t=M.y){return r=>{Vt(e,()=>{const{length:i}=n,a=new Array(i);let u=i,f=i;for(let v=0;v<i;v++)Vt(e,()=>{const E=(0,An.D)(n[v],e);let I=!1;E.subscribe((0,ct.x)(r,N=>{a[v]=N,I||(I=!0,f--),f||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>Ze(i,u):M.y));return t?a.pipe(he(t)):a}function Vt(n,e,t){n?(0,bt.f)(t,n,e):e()}var Ir=S(8189);function Gi(...n){return function Hn(){return(0,Ir.J)(1)}()((0,An.D)(n,(0,ve.yG)(n)))}var rs=S(8421);function t1(n){return new Vn.y(e=>{(0,rs.Xf)(n()).subscribe(e)})}var ei=S(9635),Ar=S(576);function So(n,e){const t=(0,Ar.m)(n)?n:()=>n,r=i=>i.error(t());return new Vn.y(e?i=>e.schedule(r,0,i):r)}var is=S(515),k1=S(727),ti=S(4482);function Ia(){return(0,ti.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ct.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class E4 extends Vn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ti.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new k1.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ct.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=k1.w0.EMPTY)}return e}refCount(){return Ia()(this)}}var Ln=S(7579),vn=S(3900),pi=S(5698);function n1(...n){const e=(0,ve.yG)(n);return(0,ti.e)((t,r)=>{(e?Gi(n,t,e):Gi(n,t)).subscribe(r)})}var Ni=S(9300),ni=S(5577);function P1(n){return(0,ti.e)((e,t)=>{let r=!1;e.subscribe((0,ct.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Zc(n=N5){return(0,ti.e)((e,t)=>{let r=!1;e.subscribe((0,ct.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function N5(){return new S2}function r1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,Ni.h)((i,a)=>n(i,a,r)):M.y,(0,pi.q)(1),t?P1(e):Zc(()=>new S2))}var Js=S(4351),ri=S(8505),mi=S(262),Kc=S(5026);function T6(n){return n<=0?()=>is.E:(0,ti.e)((e,t)=>{let r=[];e.subscribe((0,ct.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function w4(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,Ni.h)((i,a)=>n(i,a,r)):M.y,T6(1),t?P1(e):Zc(()=>new S2))}function T2(n){return(0,ti.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const en="primary",Aa=Symbol("RouteTitle");class M4{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Li(n){return new M4(n)}function I8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],f=n[a];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function eo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!N2(n[i],e[i]))return!1;return!0}function N2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Yc(n){return Array.prototype.concat.apply([],n)}function Qc(n){return n.length>0?n[n.length-1]:null}function Wr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xo(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,An.D)(Promise.resolve(n)):(0,it.of)(n)}const Sa=!1,S8={exact:function Xc(n,e,t){if(!g(n.segments,e.segments)||!Ta(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Xc(n.children[r],e.children[r],t))return!1;return!0},subset:xa},gi={exact:function L6(n,e){return eo(n,e)},subset:function vi(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>N2(n[t],e[t]))},ignored:()=>!0};function L2(n,e,t){return S8[t.paths](n.root,e.root,t.matrixParams)&&gi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function xa(n,e,t){return D4(n,e,e.segments,t)}function D4(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!g(i,t)||e.hasChildren()||!Ta(i,t,r))}if(n.segments.length===t.length){if(!g(n.segments,t)||!Ta(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!xa(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(g(n.segments,i)&&Ta(n.segments,i,r)&&n.children[en])&&D4(n.children[en],e,a,r)}}function Ta(n,e,t){return e.every((r,i)=>gi[t](n[i].parameters,r.parameters))}class z1{constructor(e=new rn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Li(this.queryParams)),this._queryParamMap}toString(){return pe.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return je(this)}}class y{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Li(this.parameters)),this._parameterMap}toString(){return s1(this)}}function g(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new z},providedIn:"root"}),n})();class z{parse(e){const t=new x8(e);return new z1(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ht(e.root,!0)}`,r=function I4(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Zt(t)}=${Zt(i)}`).join("&"):`${Zt(t)}=${Zt(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Jn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const pe=new z;function je(n){return n.segments.map(e=>s1(e)).join("/")}function ht(n,e){if(!n.hasChildren())return je(n);if(e){const t=n.children[en]?ht(n.children[en],!1):"",r=[];return Wr(n.children,(i,a)=>{a!==en&&r.push(`${a}:${ht(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function b(n,e){let t=[];return Wr(n.children,(r,i)=>{i===en&&(t=t.concat(e(r,i)))}),Wr(n.children,(r,i)=>{i!==en&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===en?[ht(n.children[en],!1)]:[`${i}:${ht(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${je(n)}/${t[0]}`:`${je(n)}/(${t.join("//")})`}}function Mt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zt(n){return Mt(n).replace(/%3B/gi,";")}function Wi(n){return Mt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ss(n){return decodeURIComponent(n)}function Na(n){return ss(n.replace(/\+/g,"%20"))}function s1(n){return`${Wi(n.path)}${function O2(n){return Object.keys(n).map(e=>`;${Wi(e)}=${Wi(n[e])}`).join("")}(n.parameters)}`}const O6=/^[^\/()?;=#]+/;function o1(n){const e=n.match(O6);return e?e[0]:""}const R6=/^[^=?&#]+/,A4=/^[^&#]+/;class x8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[en]=new rn(e,t)),r}parseSegment(){const e=o1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,Sa);return this.capture(e),new y(ss(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=o1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=o1(this.remaining);i&&(r=i,this.capture(r))}e[ss(t)]=ss(r)}parseQueryParam(e){const t=function k6(n){const e=n.match(R6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function P6(n){const e=n.match(A4);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Na(t),a=Na(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=o1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,Sa);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=en);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[en]:new rn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,Sa)}}function R2(n){return n.segments.length>0?new rn([],{[en]:n}):n}function k2(n){const e={};for(const r of Object.keys(n.children)){const a=k2(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function T8(n){if(1===n.numberOfChildren&&n.children[en]){const e=n.children[en];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}function La(n){return n instanceof z1}function R5(n,e,t,r,i){if(0===t.length)return P2(e.root,e.root,e.root,r,i);const a=function x4(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Km(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Wr(a.outlets,(v,E)=>{f[E]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((f,v)=>{0==v&&"."===f||(0==v&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Km(t,e,r)}(t);return a.toRoot()?P2(e.root,e.root,new rn([],{}),r,i):function u(v){const E=function z5(n,e,t,r){if(n.isAbsolute)return new el(e.root,!0,0);if(-1===r)return new el(t,t===e.root,0);return function N8(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new el(r,!1,i-a)}(t,r+(To(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,v),I=E.processChildren?Oa(E.segmentGroup,E.index,a.commands):z6(E.segmentGroup,E.index,a.commands);return P2(e.root,E.segmentGroup,I,r,i)}(n.snapshot?._lastPathIndex)}function To(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jc(n){return"object"==typeof n&&null!=n&&n.outlets}function P2(n,e,t,r,i){let u,a={};r&&Wr(r,(v,E)=>{a[E]=Array.isArray(v)?v.map(I=>`${I}`):`${v}`}),u=n===e?t:k5(n,e,t);const f=R2(k2(u));return new z1(f,a,i)}function k5(n,e,t){const r={};return Wr(n.children,(i,a)=>{r[a]=i===e?t:k5(i,e,t)}),new rn(n.segments,r)}class Km{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&To(r[0]))throw new l.vHH(4003,!1);const i=r.find(Jc);if(i&&i!==Qc(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class el{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function z6(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return Oa(n,e,t);const r=function F6(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],f=t[r];if(Jc(f))break;const v=`${f}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&E&&"object"==typeof E&&void 0===E.outlets){if(!B6(v,E,u))return a;r+=2}else{if(!B6(v,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new rn(n.segments.slice(0,r.pathIndex),{});return a.children[en]=new rn(n.segments.slice(r.pathIndex),n.children),Oa(a,0,i)}return r.match&&0===i.length?new rn(n.segments,{}):r.match&&!n.hasChildren()?V6(n,e,t):r.match?Oa(n,0,i):V6(n,e,t)}function Oa(n,e,t){if(0===t.length)return new rn(n.segments,{});{const r=function L8(n){return Jc(n[0])?n[0].outlets:{[en]:n}}(t),i={};return Wr(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=z6(n.children[u],e,a))}),Wr(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new rn(n.segments,i)}}function V6(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Jc(a)){const v=O8(a.outlets);return new rn(r,v)}if(0===i&&To(t[0])){r.push(new y(n.segments[e].path,H6(t[0]))),i++;continue}const u=Jc(a)?a.outlets[en]:`${a}`,f=i<t.length-1?t[i+1]:null;u&&f&&To(f)?(r.push(new y(u,H6(f))),i+=2):(r.push(new y(u,{})),i++)}return new rn(r,{})}function O8(n){const e={};return Wr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=V6(new rn([],{}),0,t))}),e}function H6(n){const e={};return Wr(n,(t,r)=>e[r]=`${t}`),e}function B6(n,e,t){return n==t.path&&eo(e,t.parameters)}const F1="imperative";class a1{constructor(e,t){this.id=e,this.url=t}}class U6 extends a1{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class z2 extends a1{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class j6 extends a1{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class F5 extends a1{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class R8 extends a1{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class V5 extends a1{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $6 extends a1{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k8 extends a1{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class F2 extends a1{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ym extends a1{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bE{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xm{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H5{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T4{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let B5=(()=>{class n{createUrlTree(t,r,i,a,u,f){return R5(t||r.root,i,a,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),V2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return B5.\u0275fac(e)},providedIn:"root"}),n})();class U5{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=F8(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=F8(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=V8(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return V8(e,this._root).map(t=>t.value)}}function F8(n,e){if(n===e.value)return e;for(const t of e.children){const r=F8(n,t);if(r)return r}return null}function V8(n,e){if(n===e.value)return[e];for(const t of e.children){const r=V8(n,t);if(r.length)return r.unshift(e),r}return[]}class V1{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function tl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class c1 extends U5{constructor(e,t){super(e),this.snapshot=t,W6(this,e)}toString(){return this.snapshot.toString()}}function H2(n,e){const t=function ng(n,e){const u=new G6([],{},{},"",{},en,e,null,n.root,-1,{});return new $5("",new V1(u,[]))}(n,e),r=new kr.X([new y("",{})]),i=new kr.X({}),a=new kr.X({}),u=new kr.X({}),f=new kr.X(""),v=new nl(r,i,u,f,a,en,e,t.root);return v.snapshot=t.root,new c1(new V1(v,[]),t)}class nl{constructor(e,t,r,i,a,u,f,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,D.U)(E=>E[Aa]))??(0,it.of)(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,D.U)(e=>Li(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,D.U)(e=>Li(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function j5(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function rg(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class G6{get title(){return this.data?.[Aa]}constructor(e,t,r,i,a,u,f,v,E,I,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.routeConfig=v,this._urlSegment=E,this._lastPathIndex=I,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Li(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Li(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $5 extends U5{constructor(e,t){super(t),this.url=e,W6(this,t)}toString(){return G5(this._root)}}function W6(n,e){e.value._routerState=n,e.children.forEach(t=>W6(n,t))}function G5(n){const e=n.children.length>0?` { ${n.children.map(G5).join(", ")} } `:"";return`${n.value}${e}`}function H8(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,eo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),eo(e.params,t.params)||n.params.next(t.params),function A8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!eo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),eo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function B8(n,e){const t=eo(n.params,e.params)&&function m(n,e){return g(n,e)&&n.every((t,r)=>eo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||B8(n.parent,e.parent))}function Ra(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function H1(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ra(n,r,i);return Ra(n,r)})}(n,e,t);return new V1(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Ra(n,f)),u}}const r=function N4(n){return new nl(new kr.X(n.url),new kr.X(n.params),new kr.X(n.queryParams),new kr.X(n.fragment),new kr.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Ra(n,a));return new V1(r,i)}}const q6="ngNavigationCancelingError";function U8(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=La(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=j8(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function j8(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[q6]=!0,r.cancellationCode=e,t&&(r.url=t),r}function sg(n){return og(n)&&La(n.url)}function og(n){return n&&n[q6]}class EE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new B2,this.attachRef=null}}let B2=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new EE,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rl=!1;let W5=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=en,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(B2),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,rl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,rl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,rl);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,rl);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,v=new wE(t,f,i.injector);if(r&&function q5(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(u);this.activated=i.createComponent(E,i.length,v)}else this.activated=i.createComponent(u,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class wE{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===nl?this.route:e===B2?this.childContexts:this.parent.get(e,t)}}let $8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[W5],encapsulation:2}),n})();function Z5(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function K6(n){const e=n.children&&n.children.map(K6),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==en&&(t.component=$8),t}function to(n){return n.outlet||en}function q8(n,e){const t=n.filter(r=>to(r)===e);return t.push(...n.filter(r=>to(r)!==e)),t}function il(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ug{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),H8(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=tl(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),Wr(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=tl(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=tl(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=tl(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new H5(a.value.snapshot))}),e.children.length&&this.forwardEvent(new P8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(H8(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),H8(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=il(i.snapshot),v=f?.get(l._Vd)??null;u.attachRef=null,u.route=i,u.resolver=v,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class K5{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Y6{constructor(e,t){this.component=e,this.route=t}}function Y5(n,e,t){const r=n._root;return B1(r,e?e._root:null,t,[r.value])}function L4(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function B1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=tl(e);return n.children.forEach(u=>{(function Z8(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const v=function Q5(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!g(n.url,e.url);case"pathParamsOrQueryParamsChange":return!g(n.url,e.url)||!eo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!B8(n,e)||!eo(n.queryParams,e.queryParams);default:return!B8(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new K5(r)):(a.data=u.data,a._resolvedData=u._resolvedData),B1(n,e,a.component?f?f.children:null:t,r,i),v&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Y6(f.outlet.component,u))}else u&&sl(e,f,i),i.canActivateChecks.push(new K5(r)),B1(n,null,a.component?f?f.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),Wr(a,(u,f)=>sl(u,t.getContext(f),i)),i}function sl(n,e,t){const r=tl(n),i=n.value;Wr(r,(a,u)=>{sl(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Y6(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ol(n){return"function"==typeof n}function O4(n){return n instanceof S2||"EmptyError"===n?.name}const R4=Symbol("INITIAL_VALUE");function U2(){return(0,vn.w)(n=>_t(n.map(e=>e.pipe((0,pi.q)(1),n1(R4)))).pipe((0,D.U)(e=>{for(const t of e)if(!0!==t){if(t===R4)return R4;if(!1===t||t instanceof z1)return t}return!0}),(0,Ni.h)(e=>e!==R4),(0,pi.q)(1)))}function J6(n){return(0,ei.z)((0,ri.b)(e=>{if(La(e))throw U8(0,e)}),(0,D.U)(e=>!0===e))}const X8={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function J8(n,e,t,r,i){const a=ka(n,e,t);return a.matched?function gg(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,it.of)(!0);const a=i.map(u=>{const f=L4(u,n);return xo(function AE(n){return n&&ol(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,it.of)(a).pipe(U2(),J6())}(r=Z5(e,r),e,t).pipe((0,D.U)(u=>!0===u?a:{...X8})):(0,it.of)(a)}function ka(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...X8}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||I8)(t,n,e);if(!i)return{...X8};const a={};Wr(i.posParams,(f,v)=>{a[v]=f.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function eu(n,e,t,r){if(t.length>0&&function ed(n,e,t){return t.some(r=>k4(n,e,r)&&to(r)!==en)}(n,t,r)){const a=new rn(e,function _g(n,e,t,r){const i={};i[en]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&to(a)!==en){const u=new rn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[to(a)]=u}return i}(n,e,r,new rn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function yg(n,e,t){return t.some(r=>k4(n,e,r))}(n,t,r)){const a=new rn(n.segments,function vg(n,e,t,r,i){const a={};for(const u of r)if(k4(n,t,u)&&!i[to(u)]){const f=new rn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[to(u)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new rn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function k4(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function n7(n,e,t,r){return!!(to(n)===r||r!==en&&k4(e,t,n))&&("**"===n.path||ka(e,n,t).matched)}function td(n,e,t){return 0===e.length&&!n.children[t]}const nd=!1;class tu{constructor(e){this.segmentGroup=e||null}}class al{constructor(e){this.urlTree=e}}function P4(n){return So(new tu(n))}function G2(n){return So(new al(n))}class bg{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=eu(this.urlTree.root,[],[],this.config).segmentGroup,t=new rn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,en).pipe((0,D.U)(a=>this.createUrlTree(k2(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,mi.K)(a=>{if(a instanceof al)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof tu?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,en).pipe((0,D.U)(i=>this.createUrlTree(k2(i),e.queryParams,e.fragment))).pipe((0,mi.K)(i=>{throw i instanceof tu?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,nd)}createUrlTree(e,t,r){const i=R2(e);return new z1(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,D.U)(a=>new rn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,An.D)(i).pipe((0,Js.b)(a=>{const u=r.children[a],f=q8(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,D.U)(v=>({segment:v,outlet:a})))}),(0,Kc.R)((a,u)=>(a[u.outlet]=u.segment,a),{}),w4())}expandSegment(e,t,r,i,a,u){return(0,An.D)(r).pipe((0,Js.b)(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,u).pipe((0,mi.K)(E=>{if(E instanceof tu)return(0,it.of)(null);throw E}))),r1(f=>!!f),(0,mi.K)((f,v)=>{if(O4(f))return td(t,i,a)?(0,it.of)(new rn([],{})):P4(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,u,f){return n7(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):P4(t):P4(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?G2(a):this.lineralizeSegments(r,a).pipe((0,ni.z)(u=>{const f=new rn(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:f,consumedSegments:v,remainingSegments:E,positionalParamSegments:I}=ka(t,i,a);if(!f)return P4(t);const N=this.applyRedirectCommands(v,i.redirectTo,I);return i.redirectTo.startsWith("/")?G2(N):this.lineralizeSegments(i,N).pipe((0,ni.z)(j=>this.expandSegment(e,t,r,j.concat(E),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Z5(r,e),r.loadChildren?(r._loadedRoutes?(0,it.of)({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,D.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new rn(i,{})))):(0,it.of)(new rn(i,{}))):J8(t,r,i,e).pipe((0,vn.w)(({matched:u,consumedSegments:f,remainingSegments:v})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,ni.z)(I=>{const N=I.injector??e,j=I.routes,{segmentGroup:re,slicedSegments:ie}=eu(t,f,v,j),Te=new rn(re.segments,re.children);if(0===ie.length&&Te.hasChildren())return this.expandChildren(N,j,Te).pipe((0,D.U)(Re=>new rn(f,Re)));if(0===j.length&&0===ie.length)return(0,it.of)(new rn(f,{}));const ye=to(r)===a;return this.expandSegment(N,Te,j,ie,ye?en:a,!0).pipe((0,D.U)(He=>new rn(f.concat(He.segments),He.children)))})):P4(t)))}getChildConfig(e,t,r){return t.children?(0,it.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,it.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function t7(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,it.of)(!0);const a=i.map(u=>{const f=L4(u,n);return xo(function hg(n){return n&&ol(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,it.of)(a).pipe(U2(),J6())}(e,t,r).pipe((0,ni.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ri.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Cg(n){return So(j8(nd,3))}())):(0,it.of)({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,it.of)(r);if(i.numberOfChildren>1||!i.children[en])return So(new l.vHH(4e3,nd));i=i.children[en]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new z1(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Wr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return Wr(t.children,(f,v)=>{u[v]=this.createSegmentGroup(e,f,r,i)}),new rn(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,nd);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class s7{}class id{constructor(e,t,r,i,a,u,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=eu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,en).pipe((0,D.U)(t=>{if(null===t)return null;const r=new G6([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new V1(r,t),a=new $5(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=j5(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,An.D)(Object.keys(r.children)).pipe((0,Js.b)(i=>{const a=r.children[i],u=q8(t,i);return this.processSegmentGroup(e,u,a,i)}),(0,Kc.R)((i,a)=>i&&a?(i.push(...a),i):null),function D8(n,e=!1){return(0,ti.e)((t,r)=>{let i=0;t.subscribe((0,ct.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(i=>null!==i),P1(null),w4(),(0,D.U)(i=>{if(null===i)return null;const a=a7(i);return function wg(n){n.sort((e,t)=>e.value.outlet===en?-1:t.value.outlet===en?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,An.D)(t).pipe((0,Js.b)(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,a)),r1(u=>!!u),(0,mi.K)(u=>{if(O4(u))return td(r,i,a)?(0,it.of)([]):(0,it.of)(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!n7(t,r,i,a))return(0,it.of)(null);let u;if("**"===t.path){const f=i.length>0?Qc(i).parameters:{},v=l7(r)+i.length,E=new G6(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,u7(t),to(t),t.component??t._loadedComponent??null,t,c7(r),v,d7(t));u=(0,it.of)({snapshot:E,consumedSegments:[],remainingSegments:[]})}else u=J8(r,t,i,e).pipe((0,D.U)(({matched:f,consumedSegments:v,remainingSegments:E,parameters:I})=>{if(!f)return null;const N=l7(r)+v.length;return{snapshot:new G6(v,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,u7(t),to(t),t.component??t._loadedComponent??null,t,c7(r),N,d7(t)),consumedSegments:v,remainingSegments:E}}));return u.pipe((0,vn.w)(f=>{if(null===f)return(0,it.of)(null);const{snapshot:v,consumedSegments:E,remainingSegments:I}=f;e=t._injector??e;const N=t._loadedInjector??e,j=function sd(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:re,slicedSegments:ie}=eu(r,E,I,j.filter(ye=>void 0===ye.redirectTo));if(0===ie.length&&re.hasChildren())return this.processChildren(N,j,re).pipe((0,D.U)(ye=>null===ye?null:[new V1(v,ye)]));if(0===j.length&&0===ie.length)return(0,it.of)([new V1(v,[])]);const Te=to(t)===a;return this.processSegment(N,j,re,ie,Te?en:a).pipe((0,D.U)(ye=>null===ye?null:[new V1(v,ye)]))}))}}function F4(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function a7(n){const e=[],t=new Set;for(const r of n){if(!F4(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=a7(r.children);e.push(new V1(r.value,i))}return e.filter(r=>!t.has(r))}function c7(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function l7(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function u7(n){return n.data||{}}function d7(n){return n.resolve||{}}function od(n){return"string"==typeof n.title||null===n.title}function h7(n){return(0,vn.w)(e=>{const t=n(e);return t?(0,An.D)(t).pipe((0,D.U)(()=>e)):(0,it.of)(e)})}const ll=new l.OlP("ROUTES");let nu=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,it.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=xo(t.loadComponent()).pipe((0,D.U)(p7),(0,ri.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),T2(()=>{this.componentLoaders.delete(t)})),i=new E4(r,()=>new Ln.x).pipe(Ia());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,it.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,D.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,E,I=!1;Array.isArray(f)?E=f:(v=f.create(t).injector,E=Yc(v.get(ll,[],l.XFs.Self|l.XFs.Optional)));return{routes:E.map(K6),injector:v}}),T2(()=>{this.childrenLoaders.delete(r)})),u=new E4(a,()=>new Ln.x).pipe(Ia());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return xo(t()).pipe((0,D.U)(p7),(0,ni.z)(i=>i instanceof l.YKP||Array.isArray(i)?(0,it.of)(i):(0,An.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function p7(n){return function Ag(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ru=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ln.x,this.configLoader=(0,l.f3M)(nu),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(L),this.rootContexts=(0,l.f3M)(B2),this.navigationId=0,this.afterPreactivation=()=>(0,it.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new bE(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Qm(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new kr.X({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:F1,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ni.h)(r=>0!==r.id),(0,D.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,vn.w)(r=>{let i=!1,a=!1;return(0,it.of)(r).pipe((0,ri.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,vn.w)(u=>{const f=t.browserUrlTree.toString(),v=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!v&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new F5(u.id,t.serializeUrl(r.rawUrl),I,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),is.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return cd(u.source)&&(t.browserUrlTree=u.extractedUrl),(0,it.of)(u).pipe((0,vn.w)(I=>{const N=this.transitions?.getValue();return this.events.next(new U6(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),N!==this.transitions?.getValue()?is.E:Promise.resolve(I)}),function Eg(n,e,t,r){return(0,vn.w)(i=>function r7(n,e,t,r,i){return new bg(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,D.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ri.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function cl(n,e,t,r,i){return(0,ni.z)(a=>function rd(n,e,t,r,i,a,u="emptyOnly"){return new id(n,e,t,r,i,u,a).recognize().pipe((0,vn.w)(f=>null===f?function o7(n){return new Vn.y(e=>e.error(n))}(new s7):(0,it.of)(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,D.U)(u=>({...a,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ri.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!I.extras.skipLocationChange){const j=t.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);t.setBrowserUrl(j,I)}t.browserUrlTree=I.urlAfterRedirects}const N=new V5(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(N)}));if(v&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:I,extractedUrl:N,source:j,restoredState:re,extras:ie}=u,Te=new U6(I,this.urlSerializer.serialize(N),j,re);this.events.next(Te);const ye=H2(N,this.rootComponentType).snapshot;return r={...u,targetSnapshot:ye,urlAfterRedirects:N,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}},(0,it.of)(r)}{const I="";return this.events.next(new F5(u.id,t.serializeUrl(r.extractedUrl),I,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),is.E}}),(0,ri.b)(u=>{const f=new $6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,D.U)(u=>r={...u,guards:Y5(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function j2(n,e){return(0,ni.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?(0,it.of)({...t,guardsResult:!0}):function pg(n,e,t,r){return(0,An.D)(n).pipe((0,ni.z)(i=>function $2(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,it.of)(!0);const u=a.map(f=>{const v=il(e)??i,E=L4(f,v);return xo(function K8(n){return n&&ol(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):v.runInContext(()=>E(n,e,t,r))).pipe(r1())});return(0,it.of)(u).pipe(U2())}(i.component,i.route,t,e,r)),r1(i=>!0!==i,!0))}(u,r,i,n).pipe((0,ni.z)(f=>f&&function dg(n){return"boolean"==typeof n}(f)?function Y8(n,e,t,r){return(0,An.D)(e).pipe((0,Js.b)(i=>Gi(function mg(n,e){return null!==n&&e&&e(new Xm(n)),(0,it.of)(!0)}(i.route.parent,r),function Q6(n,e){return null!==n&&e&&e(new Jm(n)),(0,it.of)(!0)}(i.route,r),function X6(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function IE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>t1(()=>{const f=u.guards.map(v=>{const E=il(u.node)??t,I=L4(v,E);return xo(function J5(n){return n&&ol(n.canActivateChild)}(I)?I.canActivateChild(r,n):E.runInContext(()=>I(r,n))).pipe(r1())});return(0,it.of)(f).pipe(U2())}));return(0,it.of)(a).pipe(U2())}(n,i.path,t),function Q8(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,it.of)(!0);const i=r.map(a=>t1(()=>{const u=il(e)??t,f=L4(a,u);return xo(function X5(n){return n&&ol(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(r1())}));return(0,it.of)(i).pipe(U2())}(n,i.route,t))),r1(i=>!0!==i,!0))}(r,a,n,e):(0,it.of)(f)),(0,D.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),(0,ri.b)(u=>{if(r.guardsResult=u.guardsResult,La(u.guardsResult))throw U8(0,u.guardsResult);const f=new k8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),(0,Ni.h)(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3,t),!1)),h7(u=>{if(u.guards.canActivateChecks.length)return(0,it.of)(u).pipe((0,ri.b)(f=>{const v=new F2(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}),(0,vn.w)(f=>{let v=!1;return(0,it.of)(f).pipe(function U1(n,e){return(0,ni.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,it.of)(t);let a=0;return(0,An.D)(i).pipe((0,Js.b)(u=>function Dg(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!od(i)&&(a[Aa]=i.title),function Ig(n,e,t,r){const i=function xE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,it.of)({});const a={};return(0,An.D)(i).pipe((0,ni.z)(u=>function TE(n,e,t,r){const i=il(e)??r,a=L4(n,i);return xo(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[u],e,t,r).pipe(r1(),(0,ri.b)(f=>{a[u]=f}))),T6(1),function N6(n){return(0,D.U)(()=>n)}(a),(0,mi.K)(u=>O4(u)?is.E:So(u)))}(a,n,e,r).pipe((0,D.U)(u=>(n._resolvedData=u,n.data=j5(n,t).resolve,i&&od(i)&&(n.data[Aa]=i.title),null)))}(u.route,r,n,e)),(0,ri.b)(()=>a++),T6(1),(0,ni.z)(u=>a===i.length?(0,it.of)(t):is.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ri.b)({next:()=>v=!0,complete:()=>{v||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2,t))}}))}),(0,ri.b)(f=>{const v=new Ym(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}))}),h7(u=>{const f=v=>{const E=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,ri.b)(I=>{v.component=I}),(0,D.U)(()=>{})));for(const I of v.children)E.push(...f(I));return E};return _t(f(u.targetSnapshot.root)).pipe(P1(),(0,pi.q)(1))}),h7(()=>this.afterPreactivation()),(0,D.U)(u=>{const f=function ig(n,e,t){const r=Ra(n,e._root,t?t._root:void 0);return new c1(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:f}}),(0,ri.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,D.U)(r=>(new ug(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),(0,ri.b)({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new z2(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),T2(()=>{i||a||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),(0,mi.K)(u=>{if(a=!0,og(u)){sg(u)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new j6(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),sg(u)){const v=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||cd(r.source)};t.scheduleNavigation(v,F1,null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new R8(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(u))}catch(v){r.reject(v)}}return is.E}))}))}cancelNavigationTransition(t,r,i,a){const u=new j6(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cd(n){return n!==F1}let iu=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===en);return r}getResolvedTitleForRoute(t){return t.data[Aa]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Sg)},providedIn:"root"}),n})(),Sg=(()=>{class n extends iu{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(m7)},providedIn:"root"}),n})();class Tg{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let m7=(()=>{class n extends Tg{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const su=new l.OlP("",{providedIn:"root",factory:()=>({})});let Lg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Kt)},providedIn:"root"}),n})(),Kt=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g7(n){throw n}function v7(n,e,t){return e.parse("/")}const Og={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _i=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(su,{optional:!0})||{},this.errorHandler=this.options.errorHandler||g7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||v7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Lg),this.routeReuseStrategy=(0,l.f3M)(xg),this.urlCreationStrategy=(0,l.f3M)(V2),this.titleStrategy=(0,l.f3M)(iu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Yc((0,l.f3M)(ll,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(ru),this.urlSerializer=(0,l.f3M)(L),this.location=(0,l.f3M)(Ne),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new z1,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=H2(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),F1,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const v={...i};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(a.state=v)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(K6),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:v}=r,E=v?this.currentUrlTree.fragment:u;let I=null;switch(f){case"merge":I={...this.currentUrlTree.queryParams,...a};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,I,E??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=La(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,F1,null,r)}navigate(t,r={skipLocationChange:!1}){return function kg(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Og}:!1===r?{...Rg}:r,La(t))return L2(this.currentUrlTree,t,i);const a=this.parseUrl(t);return L2(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let f,v,E,I;return u?(f=u.resolve,v=u.reject,E=u.promise):E=new Promise((N,j)=>{f=N,v=j}),I="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:v,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V4=(()=>{class n{constructor(t,r,i,a,u,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=u,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ln.x;const v=u.nativeElement.tagName;this.isAnchorElement="A"===v||"AREA"===v,this.isAnchorElement?this.subscription=t.events.subscribe(E=>{E instanceof z2&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_i),l.Y36(nl),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(tt))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),_7=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,a,u){this.router=t,this.element=r,this.renderer=i,this.cdr=a,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof z2&&this.update()})}ngAfterContentInit(){(0,it.of)(this.links.changes,(0,it.of)(null)).pipe((0,Ir.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,An.D)(t).pipe((0,Ir.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Pg(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_i),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(V4,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,V4,5),2&t){let a;l.iGM(a=l.CRH())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class zg{}let W2=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ni.h)(t=>t instanceof z2),(0,Js.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,An.D)(i).pipe((0,Ir.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,it.of)(null);const a=i.pipe((0,ni.z)(u=>null===u?(0,it.of)(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,An.D)([a,u]).pipe((0,Ir.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_i),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(zg),l.LFG(nu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ud=new l.OlP("");let ou=(()=>{class n{constructor(t,r,i,a,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof U6?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof z2&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof T4&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new T4(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ul(n,e){return{\u0275kind:n,\u0275providers:e}}function C7(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(_i),i=n.get(q2);1===n.get(dd)&&r.initialNavigation(),n.get(hd,null,l.XFs.Optional)?.setUpPreloading(),n.get(ud,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const q2=new l.OlP("",{factory:()=>new Ln.x}),dd=new l.OlP("",{providedIn:"root",factory:()=>1});const hd=new l.OlP("");function $g(n){return ul(0,[{provide:hd,useExisting:W2},{provide:zg,useExisting:n}])}const fd=new l.OlP("ROUTER_FORROOT_GUARD"),Gg=[Ne,{provide:L,useClass:z},_i,B2,{provide:nl,useFactory:function Hg(n){return n.routerState.root},deps:[_i]},nu,[]];function E7(){return new l.PXZ("Router",_i)}let pd=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Gg,[],{provide:ll,multi:!0,useValue:t},{provide:fd,useFactory:Wg,deps:[[_i,new l.FiY,new l.tp0]]},{provide:su,useValue:r||{}},r?.useHash?{provide:tt,useClass:Se}:{provide:tt,useClass:De},{provide:ud,useFactory:()=>{const n=(0,l.f3M)(po),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(su),r=(0,l.f3M)(ru),i=(0,l.f3M)(L);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ou(i,r,n,e,t)}},r?.preloadingStrategy?$g(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:E7},r?.initialNavigation?PE(r):[],[{provide:Z2,useFactory:C7},{provide:l.tb,multi:!0,useExisting:Z2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ll,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fd,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$8]}),n})();function Wg(n){return"guarded"}function PE(n){return["disabled"===n.initialNavigation?ul(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(_i);return()=>{e.setUpLocationChangeListener()}}},{provide:dd,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ul(2,[{provide:dd,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Q,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const a=e.get(_i),u=e.get(q2);(function r(i){e.get(_i).events.pipe((0,Ni.h)(u=>u instanceof z2||u instanceof j6||u instanceof R8),(0,D.U)(u=>u instanceof z2||u instanceof j6&&(0===u.code||1===u.code)&&null),(0,Ni.h)(u=>null!==u),(0,pi.q)(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(ru).afterPreactivation=()=>(i(!0),u.closed?(0,it.of)(void 0):u),a.initialNavigation()}))}}]).\u0275providers:[]]}const Z2=new l.OlP("");let D7=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),K2=(()=>{class n extends D7{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Os=new l.OlP("NgValueAccessor"),B4={provide:Os,useExisting:(0,l.Gpc)(()=>za),multi:!0},lu=new l.OlP("CompositionEventMode");let za=(()=>{class n extends D7{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vd(){const n=T()?T().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(lu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([B4]),l.qOj]}),n})();function l1(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function uu(n){return null!=n&&"number"==typeof n.length}const Oi=new l.OlP("NgValidators"),u1=new l.OlP("NgAsyncValidators"),qg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class os{static min(e){return function yd(n){return e=>{if(l1(e.value)||l1(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function I7(n){return e=>{if(l1(e.value)||l1(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Cd(e)}static requiredTrue(e){return function bd(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function A7(n){return l1(n.value)||qg.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function S7(n){return e=>l1(e.value)||!uu(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ws(n){return e=>uu(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return Ed(e)}static nullValidator(e){return null}static compose(e){return Md(e)}static composeAsync(e){return N7(e)}}function Cd(n){return l1(n.value)?{required:!0}:null}function Ed(n){if(!n)return du;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(l1(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function du(n){return null}function Zg(n){return null!=n}function hu(n){return(0,l.QGY)(n)?(0,An.D)(n):n}function wd(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function x7(n,e){return e.map(t=>t(n))}function T7(n){return n.map(e=>function Kg(n){return!n.validate}(e)?e:t=>e.validate(t))}function Md(n){if(!n)return null;const e=n.filter(Zg);return 0==e.length?null:function(t){return wd(x7(t,e))}}function Dd(n){return null!=n?Md(T7(n)):null}function N7(n){if(!n)return null;const e=n.filter(Zg);return 0==e.length?null:function(t){return function M7(...n){const e=(0,ve.jO)(n),{args:t,keys:r}=x2(n),i=new Vn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let v=u,E=u;for(let I=0;I<u;I++){let N=!1;(0,rs.Xf)(t[I]).subscribe((0,ct.x)(a,j=>{N||(N=!0,E--),f[I]=j},()=>v--,void 0,()=>{(!v||!N)&&(E||a.next(r?Ze(r,f):f),a.complete())}))}});return e?i.pipe(he(e)):i}(x7(t,e).map(hu)).pipe((0,D.U)(wd))}}function U4(n){return null!=n?N7(T7(n)):null}function L7(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function O7(n){return n._rawValidators}function R7(n){return n._rawAsyncValidators}function Id(n){return n?Array.isArray(n)?n:[n]:[]}function fu(n,e){return Array.isArray(n)?n.includes(e):n===e}function No(n,e){const t=Id(e);return Id(n).forEach(i=>{fu(t,i)||t.push(i)}),t}function pu(n,e){return Id(e).filter(t=>!fu(n,t))}class k7{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=U4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class as extends k7{get formDirective(){return null}get path(){return null}}class j1 extends k7{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class P7{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Y2=(()=>{class n extends P7{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(j1,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),j4=(()=>{class n extends P7{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(as,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const fl="VALID",vu="INVALID",pl="PENDING",G1="DISABLED";function xd(n){return(_u(n)?n.validators:n)||null}function Td(n,e){return(_u(e)?e.asyncValidators:n)||null}function _u(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function V7(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function H7(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})}class yu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fl}get invalid(){return this.status===vu}get pending(){return this.status==pl}get disabled(){return this.status===G1}get enabled(){return this.status!==G1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(No(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(No(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pu(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pu(e,this._rawAsyncValidators))}hasValidator(e){return fu(this._rawValidators,e)}hasAsyncValidator(e){return fu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=G1,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fl||this.status===pl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?G1:fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pl,this._hasOwnPendingAsyncValidator=!0;const t=hu(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?G1:this.errors?vu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pl)?pl:this._anyControlsHaveStatus(vu)?vu:fl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_u(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function BE(n){return Array.isArray(n)?Dd(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function tv(n){return Array.isArray(n)?U4(n):n||null}(this._rawAsyncValidators)}}class W4 extends yu{constructor(e,t,r){super(xd(t),Td(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){H7(this,0,e),Object.keys(e).forEach(r=>{V7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class U7 extends W4{}const ml=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Cu}),Cu="always";function q4(n,e,t=Cu){Mu(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function iv(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Nd(n,e)})}(n,e),function Du(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function UE(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Nd(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function rv(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Eu(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Z4(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function wu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Mu(n,e){const t=O7(n);null!==e.validator?n.setValidators(L7(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=R7(n);null!==e.asyncValidator?n.setAsyncValidators(L7(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();wu(e._rawValidators,i),wu(e._rawAsyncValidators,i)}function Z4(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=O7(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=R7(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return wu(e._rawValidators,r),wu(e._rawAsyncValidators,r),t}function Nd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Fa(n,e){Mu(n,e)}function no(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ri(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function W1(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===za?t=a:function K4(n){return Object.getPrototypeOf(n.constructor)===K2}(a)?r=a:i=a}),i||r||t||null}const Od={provide:as,useExisting:(0,l.Gpc)(()=>q1)},d1=(()=>Promise.resolve())();let q1=(()=>{class n extends as{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new W4({},Dd(t),U4(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){d1.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),q4(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){d1.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){d1.then(()=>{const r=this._findContainer(t.path),i=new W4({});Fa(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){d1.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){d1.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ri(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Oi,10),l.Y36(u1,10),l.Y36(ml,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Od]),l.qOj]}),n})();function X2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function J2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Oo=class extends yu{constructor(e=null,t,r){super(xd(t),Td(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_u(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=J2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){X2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){X2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){J2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let vl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),zd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const _l=new l.OlP("NgModelWithFormControlWarning"),Vd={provide:j1,useExisting:(0,l.Gpc)(()=>Hd)};let Hd=(()=>{class n extends j1{set isDisabled(t){}constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=a,this.callSetDisabledState=u,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=W1(0,i)}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&Eu(r,this,!1),q4(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}no(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Eu(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Oi,10),l.Y36(u1,10),l.Y36(Os,10),l.Y36(_l,8),l.Y36(ml,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([Vd]),l.qOj,l.TTD]}),n})();const xu={provide:as,useExisting:(0,l.Gpc)(()=>Z1)};let Z1=(()=>{class n extends as{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Z4(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return q4(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Eu(t.control||null,t,!1),function Au(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Ri(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Eu(r||null,t),(n=>n instanceof Oo)(i)&&(q4(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Fa(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function jE(n,e){return Z4(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mu(this.form,this),this._oldForm&&Z4(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Oi,10),l.Y36(u1,10),l.Y36(ml,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([xu]),l.qOj,l.TTD]}),n})();const jd={provide:j1,useExisting:(0,l.Gpc)(()=>yl)};let yl=(()=>{class n extends j1{set isDisabled(t){}constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=W1(0,a)}ngOnChanges(t){this._added||this._setUpControl(),no(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function bu(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(as,13),l.Y36(Oi,10),l.Y36(u1,10),l.Y36(Os,10),l.Y36(_l,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([jd]),l.qOj,l.TTD]}),n})();const dv={provide:Os,useExisting:(0,l.Gpc)(()=>J4),multi:!0};function $d(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let J4=(()=>{class n extends K2{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=$d(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Y7(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([dv]),l.qOj]}),n})(),Gd=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue($d(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(J4,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const hv={provide:Os,useExisting:(0,l.Gpc)(()=>e0),multi:!0};function Wd(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let e0=(()=>{class n extends K2{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,u)=>{a._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const u=a;for(let f=0;f<u.length;f++){const E=this._getOptionValue(u[f].value);i.push(E)}}else{const u=r.options;for(let f=0;f<u.length;f++){const v=u[f];if(v.selected){const E=this._getOptionValue(v.value);i.push(E)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Q7(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([hv]),l.qOj]}),n})(),qd=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Wd(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Wd(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(e0,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Va=(()=>{class n{constructor(){this._validator=du}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):du,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const Lu={provide:Oi,useExisting:(0,l.Gpc)(()=>t0),multi:!0};let t0=(()=>{class n extends Va{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>Cd}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Lu]),l.qOj]}),n})();const WE={provide:Oi,useExisting:(0,l.Gpc)(()=>th),multi:!0};let th=(()=>{class n extends Va{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>Ed(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[l._Bn([WE]),l.qOj]}),n})(),qr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zd]}),n})();class nh extends yu{constructor(e,t,r){super(xd(t),Td(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){H7(this,0,e),e.forEach((r,i)=>{V7(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function rh(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let ih=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return rh(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new W4(i,a)}record(t,r=null){const i=this._reduceControls(t);return new U7(i,r)}control(t,r,i){let a={};return this.useNonNullable?(rh(r)?a=r:(a.validators=r,a.asyncValidators=i),new Oo(t,{...a,nonNullable:!0})):new Oo(t,r,i)}array(t,r,i){const a=t.map(u=>this._createControl(u));return new nh(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Oo||t instanceof yu?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_v=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ml,useValue:t.callSetDisabledState??Cu}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[qr]}),n})(),yv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_l,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ml,useValue:t.callSetDisabledState??Cu}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[qr]}),n})();var r0=S(6451),Ou=S(5363),n9=S(4707),QE=S(3099);function s0(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,QE.B)({connector:()=>new n9.t(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ru(n,e){return(0,Ar.m)(e)?(0,vn.w)(()=>n,e):(0,vn.w)(()=>n)}var ro=S(9468),On=S(263),Ro=S(2011),ki=S(259);class qi{constructor(e){return e}}class Rs{constructor(){return(0,ki.C6)()}}const sh=new l.OlP("angularfire2._apps"),bv={provide:qi,useFactory:function r9(n){return n&&1===n.length?n[0]:new qi((0,ki.Mq)())},deps:[[new l.FiY,sh]]},Ev={provide:Rs,deps:[[new l.FiY,sh]]};function wv(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new qi(r)}}let oh=(()=>{class n{constructor(t){(0,ki.KN)("angularfire",On.q4.full,"core"),(0,ki.KN)("angularfire",On.q4.full,"app"),(0,ki.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[bv,Ev]}),n})();const i9=(0,On.u3)(ki.ZF,!0);var Fe=S(5861),h1=S(9681),Cl=S(4859),mn=S(2090),f1=S(1877);const ku=new Map,ch={activated:!1,tokenObservers:[]},s9={initialized:!1,enabled:!1};function yi(n){return ku.get(n)||Object.assign({},ch)}function a0(){return s9}class Tv{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Fe.Z)(function*(){t.stop();try{t.pending=new mn.BH,yield function Nv(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const cs=new mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function c9(n){if(!yi(n).activated)throw cs.create("use-before-activation",{appName:n.name})}function uh(n,e){return dh.apply(this,arguments)}function dh(){return(dh=(0,Fe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const N=yield i.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const a={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,a)}catch(N){throw cs.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==u.status)throw cs.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(N){throw cs.create("fetch-parse-error",{originalErrorMessage:N?.message})}const v=f.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw cs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const E=1e3*Number(v[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+E,issuedAtTimeMillis:I}})).apply(this,arguments)}function kv(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const bl="firebase-app-check-store";let c0=null;function fh(){return c0||(c0=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(cs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(bl,{keyPath:"compositeKey"})}}catch(t){e(cs.create("storage-open",{originalErrorMessage:t?.message}))}}),c0)}function K1(){return(K1=(0,Fe.Z)(function*(n,e){const r=(yield fh()).transaction(bl,"readwrite"),a=r.objectStore(bl).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=v=>{u()},r.onerror=v=>{var E;f(cs.create("storage-set",{originalErrorMessage:null===(E=v.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const Vu=new f1.Yd("@firebase/app-check");function Hu(n,e){return(0,mn.hl)()?function h9(n,e){return function mh(n,e){return K1.apply(this,arguments)}(function tc(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Vu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function kt(){return a0().enabled}function _9(){return _h.apply(this,arguments)}function _h(){return(_h=(0,Fe.Z)(function*(){const n=a0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const El={error:"UNKNOWN_ERROR"};function zv(n){return mn.US.encodeString(JSON.stringify(n),!1)}function nc(n){return wl.apply(this,arguments)}function wl(){return(wl=(0,Fe.Z)(function*(n,e=!1){const t=n.app;c9(t);const r=yi(t);let a,i=r.token;if(i&&!rc(i)&&(r.token=void 0,i=void 0),!i){const v=yield r.cachedTokenPromise;v&&(rc(v)?i=v:yield Hu(t,void 0))}if(!e&&i&&rc(i))return{token:i.token};let f,u=!1;if(kt()){r.exchangeTokenPromise||(r.exchangeTokenPromise=uh(kv(t,yield _9()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const v=yield r.exchangeTokenPromise;return yield Hu(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield yi(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Vu.warn(v.message):Vu.error(v),a=v}return i?a?f=rc(i)?{token:i.token,internalError:a}:Ch(a):(f={token:i.token},r.token=i,yield Hu(t,i)):f=Ch(a),u&&b9(t,f),f})).apply(this,arguments)}function y9(n,e){const t=yi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function yh(n){const{app:e}=n,t=yi(e);let r=t.tokenRefresher;r||(r=function C9(n){const{app:e}=n;return new Tv((0,Fe.Z)(function*(){let r;if(r=yi(e).token?yield nc(n,!0):yield nc(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=yi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function b9(n,e){const t=yi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function rc(n){return n.expireTimeMillis-Date.now()>0}function Ch(n){return{token:zv(El),error:n}}class E9{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=yi(this.app);for(const t of e)y9(this.app,t.next);return Promise.resolve()}}const Zv="app-check-internal";!function rw(){(0,h1._registerComponent)(new Cl.wA("app-check",n=>function w9(n,e){return new E9(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Zv).initialize()})),(0,h1._registerComponent)(new Cl.wA(Zv,n=>function Fv(n){return{getToken:e=>nc(n,e),addTokenListener:e=>function dr(n,e,t,r){const{app:i}=n,a=yi(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&rc(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),yh(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>yh(n))}(n,"INTERNAL",e),removeTokenListener:e=>y9(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,h1.registerVersion)("@firebase/app-check","0.6.0")}();class h0{constructor(){return(0,On.vb)("app-check")}}typeof window<"u"&&window,S(9260);const x9=new l.OlP("angularfire2.auth.use-emulator"),Ah=new l.OlP("angularfire2.auth.settings"),T9=new l.OlP("angularfire2.auth.tenant-id"),Gu=new l.OlP("angularfire2.auth.langugage-code"),N9=new l.OlP("angularfire2.auth.use-device-language"),Sh=new l.OlP("angularfire.auth.persistence"),xh=(n,e,t,r,i,a,u,f)=>(0,Ro.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,a&&v.useDeviceLanguage(),u)for(const[E,I]of Object.entries(u))v.settings[E]=I;return f&&v.setPersistence(f),v},[t,r,i,a,u,f]);let f0=(()=>{class n{constructor(t,r,i,a,u,f,v,E,I,N,j,re){const ie=new Ln.x,Te=(0,it.of)(void 0).pipe((0,Ou.Q)(u.outsideAngular),(0,vn.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,9568)))),(0,D.U)(()=>(0,Ro.on)(t,a,r)),(0,D.U)(ye=>xh(ye,a,f,E,I,N,v,j)),s0({bufferSize:1,refCount:!1}));if(E1(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{Te.pipe(r1()).subscribe();const Le=Te.pipe((0,vn.w)(qe=>qe.getRedirectResult().then(rt=>rt,()=>null)),On.iC,s0({bufferSize:1,refCount:!1})),He=Te.pipe((0,vn.w)(qe=>new Vn.y(rt=>({unsubscribe:a.runOutsideAngular(()=>qe.onAuthStateChanged(dt=>rt.next(dt),dt=>rt.error(dt),()=>rt.complete()))})))),Re=Te.pipe((0,vn.w)(qe=>new Vn.y(rt=>({unsubscribe:a.runOutsideAngular(()=>qe.onIdTokenChanged(dt=>rt.next(dt),dt=>rt.error(dt),()=>rt.complete()))}))));this.authState=Le.pipe(Ru(He),(0,ro.R)(u.outsideAngular),(0,Ou.Q)(u.insideAngular)),this.user=Le.pipe(Ru(Re),(0,ro.R)(u.outsideAngular),(0,Ou.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,vn.w)(qe=>qe?(0,An.D)(qe.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe((0,vn.w)(qe=>qe?(0,An.D)(qe.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,r0.T)(Le,ie,this.authState.pipe((0,Ni.h)(qe=>!qe))).pipe((0,D.U)(qe=>qe?.user?qe:null),(0,ro.R)(u.outsideAngular),(0,Ou.Q)(u.insideAngular))}return(0,Ro.pX)(this,Te,a,{spy:{apply:(ye,Le,He)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&He.then(Re=>ie.next(Re))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ro.Dh),l.LFG(Ro.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(On.HU),l.LFG(x9,8),l.LFG(Ah,8),l.LFG(T9,8),l.LFG(Gu,8),l.LFG(N9,8),l.LFG(Sh,8),l.LFG(h0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class Ua{constructor(e,t){this.auth=e,this.router=t,this.userToken$=this.auth.authState.pipe((0,vn.w)(r=>r?(0,An.D)(r.getIdToken()):(0,it.of)(null)))}login(e){return this.auth.signInWithEmailAndPassword(e.login,e.password)}logout(){this.auth.signOut().catch(e=>{console.error(e)}).then(()=>{this.router.navigateByUrl("login")})}}Ua.\u0275fac=function(e){return new(e||Ua)(l.LFG(f0),l.LFG(_i))},Ua.\u0275prov=l.Yz7({token:Ua,factory:Ua.\u0275fac,providedIn:"root"});const O9={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let p0;const Jv=new Uint8Array(16);function e_(){if(!p0&&(p0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p0(Jv)}const Pi=[];for(let n=0;n<256;++n)Pi.push((n+256).toString(16).slice(1));const Th=function t_(n,e,t){if(O9.randomUUID&&!e&&!n)return O9.randomUUID();const r=(n=n||{}).random||(n.rng||e_)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return function R9(n,e=0){return(Pi[n[e+0]]+Pi[n[e+1]]+Pi[n[e+2]]+Pi[n[e+3]]+"-"+Pi[n[e+4]]+Pi[n[e+5]]+"-"+Pi[n[e+6]]+Pi[n[e+7]]+"-"+Pi[n[e+8]]+Pi[n[e+9]]+"-"+Pi[n[e+10]]+Pi[n[e+11]]+Pi[n[e+12]]+Pi[n[e+13]]+Pi[n[e+14]]+Pi[n[e+15]]).toLowerCase()}(r)};class p1{constructor(){this.notifications=[],this.notifications$=new Ln.x}show(e,t="success"){const r=Th(),i={id:r,message:e,type:t};setTimeout(()=>{this.hide(r)},4e3),this.notifications=[...this.notifications,i],this.notifications$.next(this.notifications)}hide(e){this.notifications=this.notifications.filter(t=>t.id!==e),this.notifications$.next(this.notifications)}}p1.\u0275fac=function(e){return new(e||p1)},p1.\u0275prov=l.Yz7({token:p1,factory:p1.\u0275fac,providedIn:"root"});class Dl{constructor(e,t,r,i){this.authService=e,this.formBuilder=t,this.router=r,this.notificationService=i,this.submitDisabled$=new kr.X(!1)}ngOnInit(){this.form=this.formBuilder.group({login:["demo@demo.demo",os.required],password:["demodemo",os.required]})}onSubmit(){this.submitDisabled$.next(!0),this.authService.login(this.form.value).catch(e=>{console.error(e),this.submitDisabled$.next(!1)}).then(e=>{e&&e.user?this.router.navigateByUrl("home"):this.notificationService.show("Login or password is incorrect","danger"),this.submitDisabled$.next(!1)})}}Dl.\u0275fac=function(e){return new(e||Dl)(l.Y36(Ua),l.Y36(ih),l.Y36(_i),l.Y36(p1))},Dl.\u0275cmp=l.Xpm({type:Dl,selectors:[["app-login"]],decls:12,vars:4,consts:[[1,"login",3,"formGroup","ngSubmit"],[1,"login-heading"],["for","login",1,"login-label"],["type","text","name","login","formControlName","login",1,"form-control","login-input"],["for","password",1,"login-label"],["type","password","name","password","formControlName","password",1,"form-control","login-input"],["type","submit",1,"btn","btn-primary","login-submit",3,"disabled"]],template:function(e,t){1&e&&(l.TgZ(0,"form",0),l.NdJ("ngSubmit",function(){return t.onSubmit()}),l.TgZ(1,"h1",1),l._uU(2,"Login"),l.qZA(),l.TgZ(3,"label",2),l._uU(4,"E-mail"),l.qZA(),l._UZ(5,"input",3),l.TgZ(6,"label",4),l._uU(7,"Password"),l.qZA(),l._UZ(8,"input",5),l.TgZ(9,"button",6),l.ALo(10,"async"),l._uU(11," Login "),l.qZA()()),2&e&&(l.Q6J("formGroup",t.form),l.xp6(9),l.Q6J("disabled",t.form.invalid||l.lcZ(10,2,t.submitDisabled$)))},dependencies:[vl,za,Y2,j4,Z1,yl,fn],styles:["[_nghost-%COMP%]{margin:auto;width:100%}.login[_ngcontent-%COMP%]{max-width:500px;padding:1rem;border:2px solid #dee2e6;border-radius:.5rem;margin:auto}@media (min-width: 768px){.login[_ngcontent-%COMP%]{padding:2.5rem}}.login-heading[_ngcontent-%COMP%]{margin:0 0 1.2rem;font-size:1.5rem;text-align:center;color:#495057}.login-label[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem;margin-bottom:.5rem;display:block;color:#6c757d}.login-input[_ngcontent-%COMP%]{margin-bottom:1rem}.login-submit[_ngcontent-%COMP%]{width:100%}"],changeDetection:0});var ks=S(2722),Y1=(()=>{return(n=Y1||(Y1={})).Create="Create",n.Save="Save",Y1;var n})(),jn=S(9653),Pt=(()=>{return(n=Pt||(Pt={}))[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",Pt;var n})();function er(n){return function(t,r){const i={ids:[...r.ids],entities:{...r.entities}},a=n(t,i);return a===Pt.Both?Object.assign({},r,i):a===Pt.EntitiesOnly?{...r,entities:i.entities}:r}}function m1(n,e){const t=e(n);return(0,l.X6Q)()&&void 0===t&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",e.toString()),t}function Wu(n){function e(ye,Le){const He=m1(ye,n);return He in Le.entities?Pt.None:(Le.ids.push(He),Le.entities[He]=ye,Pt.Both)}function t(ye,Le){let He=!1;for(const Re of ye)He=e(Re,Le)!==Pt.None||He;return He?Pt.Both:Pt.None}function i(ye,Le){const He=m1(ye,n);return He in Le.entities?(Le.entities[He]=ye,Pt.EntitiesOnly):(Le.ids.push(He),Le.entities[He]=ye,Pt.Both)}function f(ye,Le){const Re=(ye instanceof Array?ye:Le.ids.filter(qe=>ye(Le.entities[qe]))).filter(qe=>qe in Le.entities).map(qe=>delete Le.entities[qe]).length>0;return Re&&(Le.ids=Le.ids.filter(qe=>qe in Le.entities)),Re?Pt.Both:Pt.None}function I(ye,Le){return N([ye],Le)}function N(ye,Le){const He={};return(ye=ye.filter(qe=>qe.id in Le.entities)).length>0?ye.filter(rt=>function E(ye,Le,He){const qe=Object.assign({},He.entities[Le.id],Le.changes),rt=m1(qe,n),dt=rt!==Le.id;return dt&&(ye[Le.id]=rt,delete He.entities[Le.id]),He.entities[rt]=qe,dt}(He,rt,Le)).length>0?(Le.ids=Le.ids.map(rt=>He[rt]||rt),Pt.Both):Pt.EntitiesOnly:Pt.None}function Te(ye,Le){const He=[],Re=[];for(const dt of ye){const ln=m1(dt,n);ln in Le.entities?Re.push({id:ln,changes:dt}):He.push(dt)}const qe=N(Re,Le),rt=t(He,Le);switch(!0){case rt===Pt.None&&qe===Pt.None:return Pt.None;case rt===Pt.Both||qe===Pt.Both:return Pt.Both;default:return Pt.EntitiesOnly}}return{removeAll:function v(ye){return Object.assign({},ye,{ids:[],entities:{}})},addOne:er(e),addMany:er(t),setAll:er(function r(ye,Le){return Le.ids=[],Le.entities={},t(ye,Le),Pt.Both}),setOne:er(i),setMany:er(function a(ye,Le){const He=ye.map(Re=>i(Re,Le));switch(!0){case He.some(Re=>Re===Pt.Both):return Pt.Both;case He.some(Re=>Re===Pt.EntitiesOnly):return Pt.EntitiesOnly;default:return Pt.None}}),updateOne:er(I),updateMany:er(N),upsertOne:er(function ie(ye,Le){return Te([ye],Le)}),upsertMany:er(Te),removeOne:er(function u(ye,Le){return f([ye],Le)}),removeMany:er(f),map:er(function j(ye,Le){return N(Le.ids.reduce((qe,rt)=>{const dt=ye(Le.entities[rt]);return dt!==Le.entities[rt]&&qe.push({id:rt,changes:dt}),qe},[]).filter(({id:qe})=>qe in Le.entities),Le)}),mapOne:er(function re({map:ye,id:Le},He){const Re=He.entities[Le];return Re?I({id:Le,changes:ye(Re)},He):Pt.None})}}function s_(n,e){const{removeOne:t,removeMany:r,removeAll:i}=Wu(n);function a(He,Re){return u([He],Re)}function u(He,Re){const qe=He.filter(rt=>!(m1(rt,n)in Re.entities));return 0===qe.length?Pt.None:(Le(qe,Re),Pt.Both)}function v(He,Re){const qe=m1(He,n);return qe in Re.entities?(Re.ids=Re.ids.filter(rt=>rt!==qe),Le([He],Re),Pt.Both):a(He,Re)}function I(He,Re){return j([He],Re)}function j(He,Re){const qe=[],rt=He.filter(dt=>function N(He,Re,qe){if(!(Re.id in qe.entities))return!1;const dt=Object.assign({},qe.entities[Re.id],Re.changes),ln=m1(dt,n);return delete qe.entities[Re.id],He.push(dt),ln!==Re.id}(qe,dt,Re)).length>0;if(0===qe.length)return Pt.None;{const dt=Re.ids,ln=[];return Re.ids=Re.ids.filter((Bi,wc)=>Bi in Re.entities||(ln.push(wc),!1)),Le(qe,Re),!rt&&ln.every(Bi=>Re.ids[Bi]===dt[Bi])?Pt.EntitiesOnly:Pt.Both}}function ye(He,Re){const qe=[],rt=[];for(const Bi of He){const wc=m1(Bi,n);wc in Re.entities?rt.push({id:wc,changes:Bi}):qe.push(Bi)}const dt=j(rt,Re),ln=u(qe,Re);switch(!0){case ln===Pt.None&&dt===Pt.None:return Pt.None;case ln===Pt.Both||dt===Pt.Both:return Pt.Both;default:return Pt.EntitiesOnly}}function Le(He,Re){He.sort(e);const qe=[];let rt=0,dt=0;for(;rt<He.length&&dt<Re.ids.length;){const ln=He[rt],Bi=m1(ln,n),wc=Re.ids[dt];e(ln,Re.entities[wc])<=0?(qe.push(Bi),rt++):(qe.push(wc),dt++)}Re.ids=qe.concat(rt<He.length?He.slice(rt).map(n):Re.ids.slice(dt)),He.forEach((ln,Bi)=>{Re.entities[n(ln)]=ln})}return{removeOne:t,removeMany:r,removeAll:i,addOne:er(a),updateOne:er(I),upsertOne:er(function Te(He,Re){return ye([He],Re)}),setAll:er(function f(He,Re){return Re.entities={},Re.ids=[],u(He,Re),Pt.Both}),setOne:er(v),setMany:er(function E(He,Re){const qe=He.map(rt=>v(rt,Re));switch(!0){case qe.some(rt=>rt===Pt.Both):return Pt.Both;case qe.some(rt=>rt===Pt.EntitiesOnly):return Pt.EntitiesOnly;default:return Pt.None}}),addMany:er(u),updateMany:er(j),upsertMany:er(ye),map:er(function re(He,Re){return j(Re.ids.reduce((rt,dt)=>{const ln=He(Re.entities[dt]);return ln!==Re.entities[dt]&&rt.push({id:dt,changes:ln}),rt},[]),Re)}),mapOne:er(function ie({map:He,id:Re},qe){const rt=qe.entities[Re];return rt?I({id:Re,changes:He(rt)},qe):Pt.None})}}var Il=(()=>{return(n=Il||(Il={})).BUDGETS_DATA_ADDED="[Budgets Data] added",n.BUDGETS_DATA_MODIFIED="[Budgets Data] modified",n.BUDGETS_DATA_REMOVED="[Budgets Data] removed",Il;var n})();const P9=(0,jn.PH)(Il.BUDGETS_DATA_ADDED,(0,jn.Ky)()),Al=(0,jn.PH)(Il.BUDGETS_DATA_MODIFIED,(0,jn.Ky)()),z9=(0,jn.PH)(Il.BUDGETS_DATA_REMOVED,(0,jn.Ky)()),Sl=function o_(n={}){const{selectId:e,sortComparer:t}={selectId:n.selectId??(u=>u.id),sortComparer:n.sortComparer??!1},r=function r_(){return{getInitialState:function n(e={}){return Object.assign({ids:[],entities:{}},e)}}}(),i=function i_(){return{getSelectors:function n(e){const t=u=>u.ids,r=u=>u.entities,i=(0,jn.P1)(t,r,(u,f)=>u.map(v=>f[v])),a=(0,jn.P1)(t,u=>u.length);return e?{selectIds:(0,jn.P1)(e,t),selectEntities:(0,jn.P1)(e,r),selectAll:(0,jn.P1)(e,i),selectTotal:(0,jn.P1)(e,a)}:{selectIds:t,selectEntities:r,selectAll:i,selectTotal:a}}}}();return{selectId:e,sortComparer:t,...r,...i,...t?s_(e,t):Wu(e)}}({sortComparer:function pw(n,e){return n.name.toLocaleString().localeCompare(e.name.toLocaleString())}}),Nh=Sl.getInitialState({budgets:[]}),c_=(0,jn.Lq)(Nh,(0,jn.on)(P9,(n,{payload:e})=>Sl.addOne(e,n)),(0,jn.on)(Al,(n,{payload:e})=>Sl.updateOne({id:e.id,changes:e},n)),(0,jn.on)(z9,(n,{payload:e})=>Sl.removeOne(e.id,n))),Lh=(0,jn.ZF)("budgets"),{selectAll:l_}=Sl.getSelectors(Lh),F9=[{id:"1",name:"Home",color:"#0d6efd",value:3e3},{id:"2",name:"Transportation",color:"#198754",value:1e3},{id:"3",name:"Daily living",color:"#0dcaf0",value:1e3},{id:"4",name:"Entertainment",color:"#ff0066",value:500},{id:"5",name:"Health",color:"#ffc107",value:200},{id:"6",name:"Vacation / holiday",color:"#d65b4b",value:2e3}],Oh=[{id:"1",budgetId:"1",name:"Mortgage/Rent",amount:1,price:2250},{id:"2",budgetId:"1",name:"Home/Rental Insurance",amount:1,price:25},{id:"3",budgetId:"1",name:"Electricity",amount:1,price:40},{id:"4",budgetId:"1",name:"Gas/Oil",amount:1,price:44},{id:"5",budgetId:"1",name:"Water/Sewer/Trash",amount:1,price:20},{id:"6",budgetId:"1",name:"Phone",amount:1,price:15},{id:"7",budgetId:"1",name:"Cable/Satellite",amount:1,price:18},{id:"8",budgetId:"1",name:"Internet",amount:1,price:29},{id:"9",budgetId:"1",name:"Furnishing/Appliances",amount:1,price:30},{id:"10",budgetId:"1",name:"Lawn/Garden",amount:1,price:10},{id:"11",budgetId:"1",name:"Maintenance/Improvements",amount:1,price:22},{id:"12",budgetId:"1",name:"Other",amount:3,price:50},{id:"13",budgetId:"2",name:"Car Payments",amount:1,price:250},{id:"14",budgetId:"2",name:"Auto Insurance",amount:1,price:100},{id:"15",budgetId:"2",name:"Fuel",amount:1,price:100},{id:"16",budgetId:"2",name:"Public Transportation",amount:2,price:10},{id:"17",budgetId:"2",name:"Repairs/Maintenance",amount:1,price:150},{id:"18",budgetId:"2",name:"Registration/License",amount:1,price:30},{id:"19",budgetId:"3",name:"Groceries",amount:6,price:40},{id:"20",budgetId:"3",name:"Child Care",amount:1,price:100},{id:"21",budgetId:"3",name:"Dining Out",amount:1,price:120},{id:"22",budgetId:"3",name:"Clothing",amount:1,price:40},{id:"23",budgetId:"3",name:"Cleaning",amount:1,price:40},{id:"24",budgetId:"4",name:"Video/DVD/Movies",amount:1,price:250},{id:"25",budgetId:"4",name:"Concerts/Plays",amount:1,price:100},{id:"26",budgetId:"4",name:"Sports",amount:1,price:100},{id:"27",budgetId:"4",name:"Outdoor Recreation",amount:1,price:120},{id:"28",budgetId:"5",name:"Health Insurance",amount:1,price:65},{id:"29",budgetId:"5",name:"Gym Membership",amount:1,price:20},{id:"30",budgetId:"5",name:"Doctors/Dentist Visits",amount:1,price:40},{id:"31",budgetId:"5",name:"Medicine/Prescriptions",amount:2,price:10},{id:"32",budgetId:"5",name:"Life Insurance",amount:1,price:11},{id:"33",budgetId:"6",name:"Airfare",amount:1,price:450},{id:"34",budgetId:"6",name:"Accommodations",amount:1,price:250},{id:"35",budgetId:"6",name:"Food",amount:1,price:200},{id:"36",budgetId:"6",name:"Souvenirs",amount:1,price:50},{id:"37",budgetId:"6",name:"Rental Car",amount:1,price:150}];var qu=S(4986);function Zu(){return(0,ti.e)((n,e)=>{let t,r=!1;n.subscribe((0,ct.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var St,Ku=S(1884),d_=(S(9568),S(3942)),h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q1={},Yu=Yu||{},Yt=h_||self;function m0(){}function Qu(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function g0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Rh="closure_uid_"+(1e9*Math.random()>>>0),f_=0;function p_(n,e,t){return n.call.apply(n.bind,arguments)}function V9(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function zi(n,e,t){return(zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p_:V9).apply(null,arguments)}function Xu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function ja(){this.s=this.s,this.o=this.o}ja.prototype.s=!1,ja.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function mw(n){Object.prototype.hasOwnProperty.call(n,Rh)&&n[Rh]||(n[Rh]=++f_)}(this)},ja.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const H9=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function kh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function B9(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Qu(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zr.prototype.h=function(){this.defaultPrevented=!0};var U9=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",m0,e),Yt.removeEventListener("test",m0,e)}catch{}return n}();function v0(n){return/^[\s\xa0]*$/.test(n)}var Ph=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ju(n,e){return n<e?-1:n>e?1:0}function _0(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function ko(n){return-1!=_0().indexOf(n)}function zh(n){return zh[" "](n),n}zh[" "]=m0;var xl,n,j9=ko("Opera"),sc=ko("Trident")||ko("MSIE"),$9=ko("Edge"),Fh=$9||sc,G9=ko("Gecko")&&!(-1!=_0().toLowerCase().indexOf("webkit")&&!ko("Edge"))&&!(ko("Trident")||ko("MSIE"))&&!ko("Edge"),y0=-1!=_0().toLowerCase().indexOf("webkit")&&!ko("Edge");function W9(){var n=Yt.document;return n?n.documentMode:void 0}e:{var io="",Vh=(n=_0(),G9?/rv:([^\);]+)(\)|;)/.exec(n):$9?/Edge\/([\d\.]+)/.exec(n):sc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):y0?/WebKit\/(\S+)/.exec(n):j9?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Vh&&(io=Vh?Vh[1]:""),sc){var C0=W9();if(null!=C0&&C0>parseFloat(io)){xl=String(C0);break e}}xl=io}var b0={};var e3=Yt.document&&sc&&(W9()||parseInt(xl,10))||void 0;function $a(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(G9){e:{try{zh(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:v_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$a.X.h.call(this)}}Fi($a,Zr);var v_={2:"touch",3:"pen",4:"mouse"};$a.prototype.h=function(){$a.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var E0="closure_listenable_"+(1e6*Math.random()|0),Z9=0;function K9(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Z9,this.ba=this.ea=!1}function Tl(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function t3(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function n3(n){const e={};for(const t in n)e[t]=n[t];return e}const r3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bh(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<r3.length;a++)t=r3[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Nl(n){this.src=n,this.g={},this.h=0}function w0(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=H9(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Tl(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Uh(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}Nl.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=Uh(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new K9(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var jh="closure_lm_"+(1e6*Math.random()|0),$h={};function Y9(n,e,t,r,i){if(r&&r.once)return qh(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Y9(n,e[a],t,r,i);return null}return t=Yh(t),n&&n[E0]?n.N(e,t,g0(r)?!!r.capture:!!r,i):Gh(n,e,t,!1,r,i)}function Gh(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=g0(i)?!!i.capture:!!i,f=s3(n);if(f||(n[jh]=f=new Nl(n)),(t=f.add(e,t,r,u,a)).proxy)return t;if(r=function Wh(){const e=__;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)U9||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Kh(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qh(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)qh(n,e[a],t,r,i);return null}return t=Yh(t),n&&n[E0]?n.O(e,t,g0(r)?!!r.capture:!!r,i):Gh(n,e,t,!0,r,i)}function Zh(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)Zh(n,e[a],t,r,i);else r=g0(r)?!!r.capture:!!r,t=Yh(t),n&&n[E0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Uh(a=n.g[e],t,r,i))&&(Tl(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=s3(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Uh(e,t,r,i)),(t=-1<n?e[n]:null)&&i3(t))}function i3(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[E0])w0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Kh(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=s3(e))?(w0(t,n),0==t.h&&(t.src=null,e[jh]=null)):Tl(n)}}}function Kh(n){return n in $h?$h[n]:$h[n]="on"+n}function __(n,e){if(n.ba)n=!0;else{e=new $a(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&i3(n),n=t.call(r,e)}return n}function s3(n){return(n=n[jh])instanceof Nl?n:null}var o3="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yh(n){return"function"==typeof n?n:(n[o3]||(n[o3]=function(e){return n.handleEvent(e)}),n[o3])}function ii(){ja.call(this),this.i=new Nl(this),this.P=this,this.I=null}function Ci(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var i=e;Bh(e=new Zr(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=bi(u,r,!0,e)&&i}if(i=bi(u=e.g=n,r,!0,e)&&i,i=bi(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=bi(u=e.g=t[a],r,!1,e)&&i}function bi(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var f=u.listener,v=u.ha||u.src;u.ea&&w0(n.i,u),i=!1!==f.call(v,r)&&i}}return i&&!r.defaultPrevented}Fi(ii,ja),ii.prototype[E0]=!0,ii.prototype.removeEventListener=function(n,e,t,r){Zh(this,n,e,t,r)},ii.prototype.M=function(){if(ii.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Tl(t[r]);delete n.g[e],n.h--}}this.I=null},ii.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ii.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ga=Yt.JSON.stringify;function y_(){var n=X9;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var oc,b_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new vw,n=>n.reset());class vw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Q9(n){Yt.setTimeout(()=>{throw n},0)}function Qh(n,e){oc||function E_(){var n=Yt.Promise.resolve(void 0);oc=function(){n.then(J9)}}(),M0||(oc(),M0=!0),X9.add(n,e)}var M0=!1,X9=new class C_{constructor(){this.h=this.g=null}add(e,t){const r=b_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function J9(){for(var n;n=y_();){try{n.h.call(n.g)}catch(t){Q9(t)}var e=b_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}M0=!1}function a3(n,e){ii.call(this),this.h=n||1,this.g=e||Yt,this.j=zi(this.lb,this),this.l=Date.now()}function Xh(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Jh(n,e,t){if("function"==typeof n)t&&(n=zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Yt.setTimeout(n,e||0)}function c3(n){n.g=Jh(()=>{n.g=null,n.i&&(n.i=!1,c3(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Fi(a3,ii),(St=a3.prototype).ca=!1,St.R=null,St.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ci(this,"tick"),this.ca&&(Xh(this),this.start()))}},St.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},St.M=function(){a3.X.M.call(this),Xh(this),delete this.g};class ep extends ja{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:c3(this)}M(){super.M(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ll(n){ja.call(this),this.h=n,this.g={}}Fi(Ll,ja);var D0=[];function l3(n,e,t,r){Array.isArray(t)||(t&&(D0[0]=t.toString()),t=D0);for(var i=0;i<t.length;i++){var a=Y9(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function w_(n){t3(n.g,function(e,t){this.g.hasOwnProperty(t)&&i3(e)},n),n.g={}}function I0(){this.g=!0}function Po(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function np(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return Ga(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ll.prototype.M=function(){Ll.X.M.call(this),w_(this)},Ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},I0.prototype.Aa=function(){this.g=!1},I0.prototype.info=function(){};var X1={},I_=null;function u3(){return I_=I_||new ii}function A_(n){Zr.call(this,X1.Pa,n)}function A0(n){const e=u3();Ci(e,new A_(e))}function rp(n,e){Zr.call(this,X1.STAT_EVENT,n),this.stat=e}function ls(n){const e=u3();Ci(e,new rp(e,n))}function ef(n,e){Zr.call(this,X1.Qa,n),this.size=e}function Ol(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},e)}X1.Pa="serverreachability",Fi(A_,Zr),X1.STAT_EVENT="statevent",Fi(rp,Zr),X1.Qa="timingevent",Fi(ef,Zr);var d3={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},tf={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function h3(){}function sp(){}h3.prototype.h=null;var p3,Rl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function nf(){Zr.call(this,"d")}function f3(){Zr.call(this,"c")}function S0(){}function kl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Ll(this),this.O=S_,this.T=new a3(n=Fh?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new op}function op(){this.i=null,this.g="",this.h=!1}Fi(nf,Zr),Fi(f3,Zr),Fi(S0,h3),S0.prototype.g=function(){return new XMLHttpRequest},S0.prototype.i=function(){return{}},p3=new S0;var S_=45e3,ap={},x0={};function cp(n,e,t){n.K=1,n.v=_3(J1(e)),n.s=t,n.P=!0,x_(n,null)}function x_(n,e){n.F=Date.now(),m3(n),n.A=J1(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),F_(t.i,"t",r),n.C=0,t=n.l.H,n.h=new op,n.g=W_(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ep(zi(n.La,n,n.g),n.N)),l3(n.S,n.g,"readystatechange",n.ib),e=n.H?n3(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),A0(),function M_(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),v=0;v<f.length;v++){var E=f[v].split("=");if(1<E.length){var I=E[0];E=E[1];var N=I.split("_");u=2<=N.length&&"type"==N[1]?u+(I+"=")+E+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function T_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function N_(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=_w(n,t),i==x0){4==e&&(n.o=4,ls(14),r=!1),Po(n.j,n.m,null,"[Incomplete Response]");break}if(i==ap){n.o=4,ls(15),Po(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Po(n.j,n.m,i,null),g3(n,i)}T_(n)&&i!=x0&&i!=ap&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ls(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ep(e),e.K=!0,ls(11))):(Po(n.j,n.m,t,"[Invalid Chunked Response]"),Pl(n),Wa(n))}function _w(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?x0:(t=Number(e.substring(t,r)),isNaN(t)?ap:(r+=1)+t>e.length?x0:(e=e.substr(r,t),n.C=r+t,e))}function m3(n){n.V=Date.now()+n.O,L_(n,n.O)}function L_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ol(zi(n.gb,n),e)}function rf(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function Wa(n){0==n.l.G||n.I||wp(n.l,n)}function Pl(n){rf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Xh(n.T),w_(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function g3(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||L0(t.h,n)))if(!n.J&&L0(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;D3(t),z0(t)}bp(t),ls(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ol(zi(t.cb,t),6e3));if(1>=hp(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Vl(t,11)}else if((n.J||t.g==n)&&D3(t),!v0(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.T=E[0],E=E[1],2==t.G)if("c"==E[0]){t.I=E[1],t.ka=E[2];const I=E[3];null!=I&&(t.ma=I,t.j.info("VER="+t.ma));const N=E[4];null!=N&&(t.Ca=N,t.j.info("SVER="+t.Ca));const j=E[5];null!=j&&"number"==typeof j&&0<j&&(t.J=r=1.5*j,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const re=n.g;if(re){const ie=re.g?re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ie){var a=r.h;a.g||-1==ie.indexOf("spdy")&&-1==ie.indexOf("quic")&&-1==ie.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(hf(a,a.h),a.h=null))}if(r.D){const Te=re.g?re.g.getResponseHeader("X-HTTP-Session-Id"):null;Te&&(r.za=Te,hr(r.F,r.D,Te))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=G_(r,r.H?r.ka:null,r.V),u.J){fp(r.h,u);var f=u,v=r.J;v&&f.setTimeout(v),f.B&&(rf(f),m3(f)),r.g=u}else Cp(r);0<t.i.length&&ac(t)}else"stop"!=E[0]&&"close"!=E[0]||Vl(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Vl(t,7):w3(t):"noop"!=E[0]&&t.l&&t.l.wa(E),t.A=0)}A0()}catch{}}function sf(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Qu(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function lp(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Qu(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function v3(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Qu(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(St=kl.prototype).setTimeout=function(n){this.O=n},St.ib=function(n){n=n.target;const e=this.L;e&&3==ea(n)?e.l():this.La(n)},St.La=function(n){try{if(n==this.g)e:{const I=ea(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>I)&&(3!=I||Fh||this.g&&(this.h.h||this.g.fa()||_f(this.g)))){this.I||4!=I||7==e||A0(),rf(this);var t=this.g.aa();this.Y=t;t:if(T_(this)){var r=_f(this.g);n="";var i=r.length,a=4==ea(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pl(this),Wa(this);var u="";break t}this.h.i=new Yt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function tp(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,I,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,v=this.g;if((f=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v0(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,ls(12),Pl(this),Wa(this);break e}Po(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,g3(this,t)}this.P?(N_(this,I,u),Fh&&this.i&&3==I&&(l3(this.S,this.T,"tick",this.hb),this.T.start())):(Po(this.j,this.m,u,null),g3(this,u)),4==I&&Pl(this),this.i&&!this.I&&(4==I?wp(this.l,this):(this.i=!1,m3(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,ls(12)):(this.o=0,ls(13)),Pl(this),Wa(this)}}}catch{}},St.hb=function(){if(this.g){var n=ea(this.g),e=this.g.fa();this.C<e.length&&(rf(this),N_(this,n,e),this.i&&4!=n&&m3(this))}},St.cancel=function(){this.I=!0,Pl(this)},St.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function D_(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(A0(),ls(17)),Pl(this),this.o=2,Wa(this)):L_(this,this.V-n)};var O_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qa){this.h=void 0!==e?e:n.h,T0(this,n.j),this.s=n.s,this.g=n.g,cf(this,n.m),this.l=n.l,e=n.i;var t=new y3;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),up(this,t),this.o=n.o}else n&&(t=String(n).match(O_))?(this.h=!!e,T0(this,t[1]||"",!0),this.s=Za(t[2]||""),this.g=Za(t[3]||"",!0),cf(this,t[4]),this.l=Za(t[5]||"",!0),up(this,t[6]||"",!0),this.o=Za(t[7]||"")):(this.h=!!e,this.i=new y3(null,this.h))}function J1(n){return new qa(n)}function T0(n,e,t){n.j=t?Za(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function up(n,e,t){e instanceof y3?(n.i=e,function V_(n,e){e&&!n.j&&(Ka(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(lf(this,r),F_(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=N0(e,P_)),n.i=new y3(e,n.h))}function hr(n,e,t){n.i.set(e,t)}function _3(n){return hr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Za(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function N0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,yw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function yw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(N0(e,R_,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(N0(e,R_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(N0(t,"/"==t.charAt(0)?k_:Cw,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",N0(t,z_)),n.join("")};var R_=/[#\/\?@]/g,Cw=/[#\?:]/g,k_=/[#\?]/g,P_=/[#\?@]/g,z_=/#/g;function y3(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ka(n){n.g||(n.g=new Map,n.h=0,n.i&&function af(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function lf(n,e){Ka(n),e=Zi(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function uf(n,e){return Ka(n),e=Zi(n,e),n.g.has(e)}function F_(n,e,t){lf(n,e),0<t.length&&(n.i=null,n.g.set(Zi(n,e),kh(t)),n.h+=t.length)}function Zi(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dp(n){this.l=n||bw,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ga&&Yt.g.Ga()&&Yt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(St=y3.prototype).add=function(n,e){Ka(this),this.i=null,n=Zi(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},St.forEach=function(n,e){Ka(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},St.oa=function(){Ka(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},St.W=function(n){Ka(this);let e=[];if("string"==typeof n)uf(this,n)&&(e=e.concat(this.g.get(Zi(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},St.set=function(n,e){return Ka(this),this.i=null,uf(this,n=Zi(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},St.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},St.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var bw=10;function Ps(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hp(n){return n.h?1:n.g?n.g.size:0}function L0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function hf(n,e){n.g?n.g.add(e):n.h=e}function fp(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function C3(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return kh(n.i)}function b3(){}function pp(){this.g=new b3}function H_(n,e,t){const r=t||"";try{sf(n,function(i,a){let u=i;g0(i)&&(u=Ga(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function O0(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function R0(n){this.l=n.ac||null,this.j=n.jb||!1}function k0(n,e){ii.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ff,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dp.prototype.cancel=function(){if(this.i=C3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},b3.prototype.stringify=function(n){return Yt.JSON.stringify(n,void 0)},b3.prototype.parse=function(n){return Yt.JSON.parse(n,void 0)},Fi(R0,h3),R0.prototype.g=function(){return new k0(this.l,this.j)},R0.prototype.i=function(n){return function(){return n}}({}),Fi(k0,ii);var ff=0;function E3(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function so(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zl(n)}function zl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(St=k0.prototype).open=function(n,e){if(this.readyState!=ff)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zl(this)},St.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Yt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},St.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,so(this)),this.readyState=ff},St.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zl(this)),this.g&&(this.readyState=3,zl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;E3(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},St.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?so(this):zl(this),3==this.readyState&&E3(this)}},St.Va=function(n){this.g&&(this.response=this.responseText=n,so(this))},St.Ua=function(n){this.g&&(this.response=n,so(this))},St.ga=function(){this.g&&so(this)},St.setRequestHeader=function(n,e){this.v.append(n,e)},St.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},St.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(k0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pf=Yt.JSON.parse;function Rn(n){ii.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gp,this.K=this.L=!1}Fi(Rn,ii);var gp="",Ew=/^https?$/i,B_=["POST","PUT"];function vp(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_p(n),gf(n)}function _p(n){n.D||(n.D=!0,Ci(n,"complete"),Ci(n,"error"))}function mf(n){if(n.h&&typeof Yu<"u"&&(!n.C[1]||4!=ea(n)||2!=n.aa()))if(n.v&&4==ea(n))Jh(n.Ha,0,n);else if(Ci(n,"readystatechange"),4==ea(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(O_)[1]||null;if(!i&&Yt.self&&Yt.self.location){var a=Yt.self.location.protocol;i=a.substr(0,a.length-1)}r=!Ew.test(i?i.toLowerCase():"")}t=r}if(t)Ci(n,"complete"),Ci(n,"success");else{n.m=6;try{var u=2<ea(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",_p(n)}}finally{gf(n)}}}function gf(n,e){if(n.g){vf(n);const t=n.g,r=n.C[0]?m0:null;n.g=null,n.C=null,e||Ci(n,"ready");try{t.onreadystatechange=r}catch{}}}function vf(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function ea(n){return n.g?n.g.readyState:0}function _f(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case gp:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function j_(n){let e="";return t3(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function P0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=j_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):hr(n,e,t))}function Fl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yf(n){this.Ca=0,this.i=[],this.j=new I0,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Fl("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Fl("baseRetryDelayMs",5e3,n),this.bb=Fl("retryDelaySeedMs",1e4,n),this.$a=Fl("forwardChannelMaxRetries",2,n),this.ta=Fl("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new dp(n&&n.concurrentRequestLimit),this.Fa=new pp,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function w3(n){if(Cf(n),3==n.G){var e=n.U++,t=J1(n.F);hr(t,"SID",n.I),hr(t,"RID",e),hr(t,"TYPE","terminate"),F0(n,t),(e=new kl(n,n.j,e,void 0)).K=2,e.v=_3(J1(t)),t=!1,Yt.navigator&&Yt.navigator.sendBeacon&&(t=Yt.navigator.sendBeacon(e.v.toString(),"")),!t&&Yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=W_(e.l,null),e.g.da(e.v)),e.F=Date.now(),m3(e)}$_(n)}function z0(n){n.g&&(Ep(n),n.g.cancel(),n.g=null)}function Cf(n){z0(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),D3(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function ac(n){Ps(n.h)||n.m||(n.m=!0,Qh(n.Ja,n),n.C=0)}function bf(n,e){var t;t=e?e.m:n.U++;const r=J1(n.F);hr(r,"SID",n.I),hr(r,"RID",t),hr(r,"AID",n.T),F0(n,r),n.o&&n.s&&P0(r,n.o,n.s),t=new kl(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=yp(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),hf(n.h,t),cp(t,r,e)}function F0(n,e){n.ia&&t3(n.ia,function(t,r){hr(e,r,t)}),n.l&&sf({},function(t,r){hr(e,r,t)})}function yp(n,e,t){t=Math.min(n.i.length,t);var r=n.l?zi(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let v=0;v<t;v++){let E=i[v].h;const I=i[v].g;if(E-=a,0>E)a=Math.max(0,i[v].h-100),f=!1;else try{H_(I,u,"req"+E+"_")}catch{r&&r(I)}}if(f){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Cp(n){n.g||n.u||(n.Z=1,Qh(n.Ia,n),n.A=0)}function bp(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ol(zi(n.Ia,n),Mp(n,n.A)),n.A++,0))}function Ep(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function Ef(n){n.g=new kl(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=J1(n.sa);hr(e,"RID","rpc"),hr(e,"SID",n.I),hr(e,"CI",n.L?"0":"1"),hr(e,"AID",n.T),hr(e,"TYPE","xmlhttp"),F0(n,e),n.o&&n.s&&P0(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=_3(J1(e)),t.s=null,t.P=!0,x_(t,n)}function D3(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function wp(n,e){var t=null;if(n.g==e){D3(n),Ep(n),n.g=null;var r=2}else{if(!L0(n.h,e))return;t=e.D,fp(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ci(r=u3(),new ef(r,t)),ac(n)}else Cp(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function M3(n,e){return!(hp(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ol(zi(n.Ja,n,e),Mp(n,n.C)),n.C++,0)))}(n,e)||2==r&&bp(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Vl(n,5);break;case 4:Vl(n,10);break;case 3:Vl(n,6);break;default:Vl(n,2)}}function Mp(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Vl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=zi(n.kb,n);t||(t=new qa("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||T0(t,"https"),_3(t)),function mp(n,e){const t=new I0;if(Yt.Image){const r=new Image;r.onload=Xu(O0,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Xu(O0,t,r,"TestLoadImage: error",!1,e),r.onabort=Xu(O0,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xu(O0,t,r,"TestLoadImage: timeout",!1,e),Yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ls(2);n.G=0,n.l&&n.l.va(e),$_(n),Cf(n)}function $_(n){if(n.G=0,n.la=[],n.l){const e=C3(n.h);(0!=e.length||0!=n.i.length)&&(B9(n.la,e),B9(n.la,n.i),n.h.i.length=0,kh(n.i),n.i.length=0),n.l.ua()}}function G_(n,e,t){var r=t instanceof qa?J1(t):new qa(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),cf(r,r.m);else{var i=Yt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new qa(null,void 0);r&&T0(a,r),e&&(a.g=e),i&&cf(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&hr(r,t,e),hr(r,"VER",n.ma),F0(n,r),r}function W_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(t&&n.Da&&!n.ra?new R0({jb:!0}):n.ra)).Ka(n.H),e}function q_(){}function I3(){if(sc&&!(10<=Number(e3)))throw Error("Environmental error: no available transport.")}function Ki(n,e){ii.call(this),this.g=new yf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!v0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!v0(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new cc(this)}function Dp(n){nf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ip(){f3.call(this),this.status=1}function cc(n){this.g=n}(St=Rn.prototype).Ka=function(n){this.L=n},St.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():p3.g(),this.C=function ip(n){return n.h||(n.h=n.i())}(this.u?this.u:p3),this.g.onreadystatechange=zi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void vp(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Yt.FormData&&n instanceof Yt.FormData,!(0<=H9(B_,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vf(this),0<this.B&&((this.K=function U_(n){return sc&&function g_(){return function gw(n){var e=b0;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Ph(String(xl)).split("."),t=Ph("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Ju(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Ju(0==i[2].length,0==a[2].length)||Ju(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zi(this.qa,this)):this.A=Jh(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){vp(this,a)}},St.qa=function(){typeof Yu<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ci(this,"timeout"),this.abort(8))},St.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ci(this,"complete"),Ci(this,"abort"),gf(this))},St.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gf(this,!0)),Rn.X.M.call(this)},St.Ha=function(){this.s||(this.F||this.v||this.l?mf(this):this.fb())},St.fb=function(){mf(this)},St.aa=function(){try{return 2<ea(this)?this.g.status:-1}catch{return-1}},St.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},St.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pf(e)}},St.Ea=function(){return this.m},St.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(St=yf.prototype).ma=8,St.G=1,St.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new kl(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=n3(a),Bh(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yp(this,i,e),hr(t=J1(this.F),"RID",n),hr(t,"CVER",22),this.D&&hr(t,"X-HTTP-Session-Id",this.D),F0(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(j_(a)))+"&"+e:this.o&&P0(t,this.o,a)),hf(this.h,i),this.Ya&&hr(t,"TYPE","init"),this.O?(hr(t,"$req",e),hr(t,"SID","null"),i.Z=!0,cp(i,t,null)):cp(i,t,e),this.G=2}}else 3==this.G&&(n?bf(this,n):0==this.i.length||Ps(this.h)||bf(this))},St.Ia=function(){if(this.u=null,Ef(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ol(zi(this.eb,this),n)}},St.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ls(10),z0(this),Ef(this))},St.cb=function(){null!=this.v&&(this.v=null,z0(this),bp(this),ls(19))},St.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ls(2)):(this.j.info("Failed to ping google.com"),ls(1))},(St=q_.prototype).xa=function(){},St.wa=function(){},St.va=function(){},St.ua=function(){},St.Ra=function(){},I3.prototype.g=function(n,e){return new Ki(n,e)},Fi(Ki,ii),Ki.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ls(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=G_(n,null,n.V),ac(n)},Ki.prototype.close=function(){w3(this.g)},Ki.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ga(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&ac(e)},Ki.prototype.M=function(){this.g.l=null,delete this.j,w3(this.g),delete this.g,Ki.X.M.call(this)},Fi(Dp,nf),Fi(Ip,f3),Fi(cc,q_),cc.prototype.xa=function(){Ci(this.g,"a")},cc.prototype.wa=function(n){Ci(this.g,new Dp(n))},cc.prototype.va=function(n){Ci(this.g,new Ip)},cc.prototype.ua=function(){Ci(this.g,"b")},I3.prototype.createWebChannel=I3.prototype.g,Ki.prototype.send=Ki.prototype.u,Ki.prototype.open=Ki.prototype.m,Ki.prototype.close=Ki.prototype.close,d3.NO_ERROR=0,d3.TIMEOUT=8,d3.HTTP_ERROR=6,tf.COMPLETE="complete",sp.EventType=Rl,Rl.OPEN="a",Rl.CLOSE="b",Rl.ERROR="c",Rl.MESSAGE="d",ii.prototype.listen=ii.prototype.N,Rn.prototype.listenOnce=Rn.prototype.O,Rn.prototype.getLastError=Rn.prototype.Oa,Rn.prototype.getLastErrorCode=Rn.prototype.Ea,Rn.prototype.getStatus=Rn.prototype.aa,Rn.prototype.getResponseJson=Rn.prototype.Sa,Rn.prototype.getResponseText=Rn.prototype.fa,Rn.prototype.send=Rn.prototype.da,Rn.prototype.setWithCredentials=Rn.prototype.Ka;var lc=Q1.createWebChannelTransport=function(){return new I3},Ap=Q1.getStatEventTarget=function(){return u3()},V0=Q1.ErrorCode=d3,wf=Q1.EventType=tf,Z_=Q1.Event=X1,A3=Q1.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Mf=Q1.FetchXmlHttpFactory=R0,uc=Q1.WebChannel=sp,ww=Q1.XhrIo=Rn;const K_="@firebase/firestore";class Vi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vi.UNAUTHENTICATED=new Vi(null),Vi.GOOGLE_CREDENTIALS=new Vi("google-credentials-uid"),Vi.FIRST_PARTY=new Vi("first-party-uid"),Vi.MOCK_USER=new Vi("mock-user");let H0="9.15.0";const ta=new f1.Yd("@firebase/firestore");function Df(){return ta.logLevel}function et(n,...e){if(ta.logLevel<=f1.in.DEBUG){const t=e.map(S3);ta.debug(`Firestore (${H0}): ${n}`,...t)}}function zr(n,...e){if(ta.logLevel<=f1.in.ERROR){const t=e.map(S3);ta.error(`Firestore (${H0}): ${n}`,...t)}}function Ya(n,...e){if(ta.logLevel<=f1.in.WARN){const t=e.map(S3);ta.warn(`Firestore (${H0}): ${n}`,...t)}}function S3(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gt(n="Unexpected state"){const e=`FIRESTORE (${H0}) INTERNAL ASSERTION FAILED: `+n;throw zr(e),new Error(e)}function It(n,e){n||gt()}function ut(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class x3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vi.UNAUTHENTICATED))}shutdown(){}}class J_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Mw{constructor(e){this.t=e,this.currentUser=Vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const E=u;e.enqueueRetryable((0,Fe.Z)(function*(){yield E.promise,yield a(r.currentUser)}))},v=E=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>v(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?v(E):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It("string"==typeof r.accessToken),new x3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new Vi(e)}}class Dw{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Vi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(It(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ey{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Dw(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ty{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,et("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It("string"==typeof t.token),this.A=t.token,new Sp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Iw(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ny{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Iw(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Qt(n,e){return n<e?-1:n>e?1:0}function B0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function xp(n){return n+"\0"}class vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ke(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new vr(0,0))}static max(){return new Nt(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class T3{constructor(e,t,r){void 0===t?t=0:t>e.length&&gt(),void 0===r?r=e.length-t:r>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===T3.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof T3?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mn extends T3{construct(e,t,r){return new Mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Mn(t)}static emptyPath(){return new Mn([])}}const Aw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends T3{construct(e,t,r){return new Fr(e,t,r)}static isValidIdentifier(e){return Aw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ke(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ke(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Ke(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(a(),i++)}if(a(),u)throw new Ke(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}class s{constructor(e){this.path=e}static fromPath(e){return new s(Mn.fromString(e))}static fromName(e){return new s(Mn.fromString(e).popFirst(5))}static empty(){return new s(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new s(new Mn(e.slice()))}}class o{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function c(n){return n.fields.find(e=>2===e.kind)}function d(n){return n.fields.filter(e=>2!==e.kind)}o.UNKNOWN_ID=-1;class p{constructor(e,t){this.fieldPath=e,this.kind=t}}class C{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new C(0,O.min())}}function w(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new vr(t+1,0):new vr(t,r));return new O(i,s.empty(),e)}function x(n){return new O(n.readTime,n.key,-1)}class O{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new O(Nt.min(),s.empty(),-1)}static max(){return new O(Nt.max(),s.empty(),-1)}}function V(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=s.comparator(n.documentKey,e.documentKey),0!==t?t:Qt(n.largestBatchId,e.largestBatchId))}const oe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class me{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Oe(n){return st.apply(this,arguments)}function st(){return st=(0,Fe.Z)(function*(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==oe)throw n;et("LocalStore","Unexpectedly lost primary lease")}),st.apply(this,arguments)}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,a=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++a,u&&a===i&&t()},v=>r(v))}),u=!0,a===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const a=e.length,u=new Array(a);let f=0;for(let v=0;v<a;v++){const E=v;t(e[E]).next(I=>{u[E]=I,++f,f===a&&r(u)},I=>i(I))}})}static doWhile(e,t){return new te((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class vt{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Kr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Bt(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=ry(r.target.error);this.P.reject(new Bt(e,i))}}static open(e,t,r,i){try{return new vt(t,e.transaction(i,r))}catch(a){throw new Bt(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Vr(t)}}class At{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===At.D((0,mn.z$)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return et("SimpleDb","Removing database:",e),Hl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,mn.hl)())return!1;if(At.N())return!0;const e=(0,mn.z$)(),t=At.D(e),r=0<t&&t<10,i=At.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Fe.Z)(function*(){return t.db||(et("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new Bt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Ke(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ke(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Bt(e,f))},a.onupgradeneeded=u=>{et("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{et("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Fe.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const v=vt.open(a.db,e,u?"readonly":"readwrite",r),E=i(v).next(I=>(v.V(),I)).catch(I=>(v.abort(I),te.reject(I))).toPromise();return E.catch(()=>{}),yield v.v,E}catch(v){const E=v,I="FirebaseError"!==E.name&&f<3;if(et("SimpleDb","Transaction failed with error:",E.message,"Retrying:",I),a.close(),!I)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Qe{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Hl(this.q.delete())}}class Bt extends Ke{constructor(e,t){super(xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sn(n){return"IndexedDbTransactionError"===n.name}class Vr{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(et("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Hl(r)}add(e){return et("SimpleDb","ADD",this.store.name,e,e),Hl(this.store.add(e))}get(e){return Hl(this.store.get(e)).next(t=>(void 0===t&&(t=null),et("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return et("SimpleDb","DELETE",this.store.name,e),Hl(this.store.delete(e))}count(){return et("SimpleDb","COUNT",this.store.name),Hl(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(u,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new te((a,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new te((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){et("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,u,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new te((r,i)=>{t.onerror=a=>{const u=ry(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}H(e,t){const r=[];return new te((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const v=new Qe(f),E=t(f.primaryKey,f.value,v);if(E instanceof te){const I=E.catch(N=>(v.done(),te.reject(N)));r.push(I)}v.isDone?i():null===v.G?f.continue():f.continue(v.G)}}).next(()=>te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hl(n){return new te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=ry(r.target.error);t(i)}})}let Sw=!1;function ry(n){const e=At.D((0,mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Sw||(Sw=!0,setTimeout(()=>{throw r},0)),r}}return n}class fx{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;et("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Fe.Z)(function*(){t.task=null;try{et("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Sn(r)?et("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Oe(r)}yield t.nt(6e4)}))}}class px{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Fe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return te.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return et("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(f=>{i-=f,r.add(u)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,a)).next(f=>(et("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=x(a);V(u,r)>0&&(r=u)}),new O(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let zo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class mx{constructor(e,t,r,i,a,u,f,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=v}}class Bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}function xw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function U0(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Tw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function If(n){return null==n}function Af(n){return 0===n&&1/n==-1/0}function Nw(n){return"number"==typeof n&&Number.isInteger(n)&&!Af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Hi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const vx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ul(n){if(It(!!n),"string"==typeof n){let e=0;const t=vx.exec(n);if(It(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yr(n.seconds),nanos:Yr(n.nanos)}}function Yr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function j0(n){return"string"==typeof n?Hi.fromBase64String(n):Hi.fromUint8Array(n)}function iy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Lw(n){const e=n.mapValue.fields.__previous_value__;return iy(e)?Lw(e):e}function Sf(n){const e=Ul(n.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}const jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tp={nullValue:"NULL_VALUE"};function $0(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iy(n)?4:Pw(n)?9007199254740991:10:gt()}function Qa(n,e){if(n===e)return!0;const t=$0(n);if(t!==$0(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sf(n).isEqual(Sf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Ul(r.timestampValue),u=Ul(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,j0(n.bytesValue).isEqual(j0(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Yr(r.geoPointValue.latitude)===Yr(i.geoPointValue.latitude)&&Yr(r.geoPointValue.longitude)===Yr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Yr(r.integerValue)===Yr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Yr(r.doubleValue),u=Yr(i.doubleValue);return a===u?Af(a)===Af(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return B0(n.arrayValue.values||[],e.arrayValue.values||[],Qa);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(xw(a)!==xw(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Qa(a[f],u[f])))return!1;return!0}(n,e);default:return gt()}var i}function xf(n,e){return void 0!==(n.values||[]).find(t=>Qa(t,e))}function $l(n,e){if(n===e)return 0;const t=$0(n),r=$0(e);if(t!==r)return Qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=Yr(i.integerValue||i.doubleValue),f=Yr(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return Ow(n.timestampValue,e.timestampValue);case 4:return Ow(Sf(n),Sf(e));case 5:return Qt(n.stringValue,e.stringValue);case 6:return function(i,a){const u=j0(i),f=j0(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),f=a.split("/");for(let v=0;v<u.length&&v<f.length;v++){const E=Qt(u[v],f[v]);if(0!==E)return E}return Qt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=Qt(Yr(i.latitude),Yr(a.latitude));return 0!==u?u:Qt(Yr(i.longitude),Yr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],f=a.values||[];for(let v=0;v<u.length&&v<f.length;++v){const E=$l(u[v],f[v]);if(E)return E}return Qt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===jl.mapValue&&a===jl.mapValue)return 0;if(i===jl.mapValue)return 1;if(a===jl.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),v=a.fields||{},E=Object.keys(v);f.sort(),E.sort();for(let I=0;I<f.length&&I<E.length;++I){const N=Qt(f[I],E[I]);if(0!==N)return N;const j=$l(u[f[I]],v[E[I]]);if(0!==j)return j}return Qt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw gt()}}function Ow(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qt(n,e);const t=Ul(n),r=Ul(e),i=Qt(t.seconds,r.seconds);return 0!==i?i:Qt(t.nanos,r.nanos)}function N3(n){return sy(n)}function sy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ul(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?j0(n.bytesValue).toBase64():"referenceValue"in n?s.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=sy(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const f of i)u?u=!1:a+=",",a+=`${f}:${sy(r.fields[f])}`;return a+"}"}(n.mapValue):gt();var e}function G0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function oy(n){return!!n&&"integerValue"in n}function Tf(n){return!!n&&"arrayValue"in n}function Rw(n){return!!n&&"nullValue"in n}function kw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Np(n){return!!n&&"mapValue"in n}function Nf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return U0(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Pw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _x(n){return"nullValue"in n?Tp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?G0(Bl.empty(),s.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function yx(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?G0(Bl.empty(),s.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?jl:gt()}function zw(n,e){const t=$l(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Fw(n,e){const t=$l(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Gl{constructor(e,t){this.position=e,this.inclusive=t}}function Vw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?s.comparator(s.fromName(u.referenceValue),t.key):$l(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Hw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qa(n.position[t],e.position[t]))return!1;return!0}class Bw{}class yn extends Bw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Cx(e,t,r):"array-contains"===t?new wx(e,r):"in"===t?new Kw(e,r):"not-in"===t?new Mx(e,r):"array-contains-any"===t?new Dx(e,r):new yn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new bx(e,r):new Ex(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($l(t,this.value)):null!==t&&$0(this.value)===$0(t)&&this.matchesComparison($l(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $n extends Bw{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new $n(e,t)}matches(e){return L3(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function L3(n){return"and"===n.op}function ay(n){return"or"===n.op}function Uw(n){return jw(n)&&L3(n)}function jw(n){for(const e of n.filters)if(e instanceof $n)return!1;return!0}function $w(n){if(n instanceof yn)return n.field.canonicalString()+n.op.toString()+N3(n.value);{const e=n.filters.map(t=>$w(t)).join(",");return`${n.op}(${e})`}}function Gw(n,e){return n instanceof yn?(t=n,(r=e)instanceof yn&&t.op===r.op&&t.field.isEqual(r.field)&&Qa(t.value,r.value)):n instanceof $n?function(t,r){return r instanceof $n&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,u)=>i&&Gw(a,r.filters[u]),!0)}(n,e):void gt();var t,r}function Ww(n,e){const t=n.filters.concat(e);return $n.create(t,n.op)}function qw(n){return n instanceof yn?`${(e=n).field.canonicalString()} ${e.op} ${N3(e.value)}`:n instanceof $n?function(e){return e.op.toString()+" {"+e.getFilters().map(qw).join(" ,")+"}"}(n):"Filter";var e}class Cx extends yn{constructor(e,t,r){super(e,t,r),this.key=s.fromName(r.referenceValue)}matches(e){const t=s.comparator(e.key,this.key);return this.matchesComparison(t)}}class bx extends yn{constructor(e,t){super(e,"in",t),this.keys=Zw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ex extends yn{constructor(e,t){super(e,"not-in",t),this.keys=Zw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>s.fromName(r.referenceValue))}class wx extends yn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tf(t)&&xf(t.arrayValue,this.value)}}class Kw extends yn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xf(this.value.arrayValue,t)}}class Mx extends yn{constructor(e,t){super(e,"not-in",t)}matches(e){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xf(this.value.arrayValue,t)}}class Dx extends yn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xf(this.value.arrayValue,r))}}class O3{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ix(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Qr{constructor(e,t){this.comparator=e,this.root=t||us.EMPTY}insert(e,t){return new Qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,us.BLACK,null,null))}remove(e){return new Qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lp(this.root,e,this.comparator,!0)}}class Lp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class us{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??us.RED,this.left=i??us.EMPTY,this.right=a??us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new us(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return us.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new us(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tr{constructor(e){this.comparator=e,this.data=new Qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yw(this.data.getIterator())}getIteratorFrom(e){return new Yw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tr(this.comparator);return t.data=e,t}}class Yw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function R3(n){return n.hasNext()?n.getNext():void 0}class Fo{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new Fo([])}unionWith(e){let t=new tr(Fr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return B0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Np(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nf(t)}setAll(e){let t=Fr.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=Nf(u):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Np(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Np(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){U0(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ds(Nf(this.value))}}function Qw(n){const e=[];return U0(n.fields,(t,r)=>{const i=new Fr([t]);if(Np(r)){const a=Qw(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Fo(e)}class _r{constructor(e,t,r,i,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new _r(e,0,Nt.min(),Nt.min(),Nt.min(),ds.empty(),0)}static newFoundDocument(e,t,r,i){return new _r(e,1,t,Nt.min(),r,i,0)}static newNoDocument(e,t){return new _r(e,2,t,Nt.min(),Nt.min(),ds.empty(),0)}static newUnknownDocument(e,t){return new _r(e,3,t,Nt.min(),Nt.min(),ds.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ax{constructor(e,t=null,r=[],i=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=f,this.ft=null}}function cy(n,e=null,t=[],r=[],i=null,a=null,u=null){return new Ax(n,e,t,r,i,a,u)}function W0(n){const e=ut(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>$w(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),If(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>N3(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>N3(r)).join(",")),e.ft=t}return e.ft}function Lf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ix(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Gw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hw(n.startAt,e.startAt)&&Hw(n.endAt,e.endAt)}function Op(n){return s.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Rp(n,e){return n.filters.filter(t=>t instanceof yn&&t.field.isEqual(e))}function Xw(n,e,t){let r=Tp,i=!0;for(const a of Rp(n,e)){let u=Tp,f=!0;switch(a.op){case"<":case"<=":u=_x(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=Tp}zw({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];zw({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function Jw(n,e,t){let r=jl,i=!0;for(const a of Rp(n,e)){let u=jl,f=!0;switch(a.op){case">=":case">":u=yx(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=jl}Fw({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Fw({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class dc{constructor(e,t=null,r=[],i=[],a=null,u="F",f=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=v,this.dt=null,this._t=null}}function eM(n,e,t,r,i,a,u,f){return new dc(n,e,t,r,i,a,u,f)}function k3(n){return new dc(n)}function tM(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ly(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function kp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function uy(n){return null!==n.collectionGroup}function q0(n){const e=ut(n);if(null===e.dt){e.dt=[];const t=kp(e),r=ly(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new O3(t)),e.dt.push(new O3(Fr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new O3(Fr.keyField(),a))}}}return e.dt}function zs(n){const e=ut(n);if(!e._t)if("F"===e.limitType)e._t=cy(e.path,e.collectionGroup,q0(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of q0(e))t.push(new O3(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Gl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gl(e.startAt.position,e.startAt.inclusive):null;e._t=cy(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function dy(n,e){e.getFirstInequalityField(),kp(n);const t=n.filters.concat([e]);return new dc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Pp(n,e,t){return new dc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Of(n,e){return Lf(zs(n),zs(e))&&n.limitType===e.limitType}function nM(n){return`${W0(zs(n))}|lt:${n.limitType}`}function hy(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>qw(r)).join(", ")}]`),If(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>N3(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>N3(r)).join(",")),`Target(${t})`}(zs(n))}; limitType=${n.limitType})`}function fy(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):s.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of q0(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const f=Vw(i,a,u);return i.inclusive?f<=0:f<0}(t.startAt,q0(t),r)||t.endAt&&!function(i,a,u){const f=Vw(i,a,u);return i.inclusive?f>=0:f>0}(t.endAt,q0(t),r)));var t,r}function rM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iM(n){return(e,t)=>{let r=!1;for(const i of q0(n)){const a=Sx(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Sx(n,e,t){const r=n.field.isKeyField()?s.comparator(e.key,t.key):function(i,a,u){const f=a.data.field(i),v=u.data.field(i);return null!==f&&null!==v?$l(f,v):gt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}function sM(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function oM(n){return{integerValue:""+n}}function aM(n,e){return Nw(e)?oM(e):sM(n,e)}class zp{constructor(){this._=void 0}}function xx(n,e,t){return n instanceof P3?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Z0?lM(n,e):n instanceof K0?uM(n,e):function(r,i){const a=cM(r,i),u=dM(a)+dM(r.gt);return oy(a)&&oy(r.gt)?oM(u):sM(r.yt,u)}(n,e)}function Tx(n,e,t){return n instanceof Z0?lM(n,e):n instanceof K0?uM(n,e):t}function cM(n,e){return n instanceof z3?oy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class P3 extends zp{}class Z0 extends zp{constructor(e){super(),this.elements=e}}function lM(n,e){const t=hM(e);for(const r of n.elements)t.some(i=>Qa(i,r))||t.push(r);return{arrayValue:{values:t}}}class K0 extends zp{constructor(e){super(),this.elements=e}}function uM(n,e){let t=hM(e);for(const r of n.elements)t=t.filter(i=>!Qa(i,r));return{arrayValue:{values:t}}}class z3 extends zp{constructor(e,t){super(),this.yt=e,this.gt=t}}function dM(n){return Yr(n.integerValue||n.doubleValue)}function hM(n){return Tf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Rf{constructor(e,t){this.field=e,this.transform=t}}class Lx{constructor(e,t){this.version=e,this.transformResults=t}}class Sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Vp{}function fM(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new V3(n.key,Sr.none()):new F3(n.key,n.data,Sr.none());{const t=n.data,r=ds.empty();let i=new tr(Fr.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new hc(n.key,r,new Fo(i.toArray()),Sr.none())}}function Ox(n,e,t){n instanceof F3?function(r,i,a){const u=r.value.clone(),f=gM(r.fieldTransforms,i,a.transformResults);u.setAll(f),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof hc?function(r,i,a){if(!Fp(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=gM(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(mM(r)),f.setAll(u),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function kf(n,e,t,r){return n instanceof F3?function(i,a,u,f){if(!Fp(i.precondition,a))return u;const v=i.value.clone(),E=vM(i.fieldTransforms,f,a);return v.setAll(E),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof hc?function(i,a,u,f){if(!Fp(i.precondition,a))return u;const v=vM(i.fieldTransforms,f,a),E=a.data;return E.setAll(mM(i)),E.setAll(v),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(n,e,t,r):(u=t,Fp(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function Rx(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=cM(r.transform,i||null);null!=a&&(null===t&&(t=ds.empty()),t.set(r.field,a))}return t||null}function pM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&B0(t,r,(i,a)=>function Nx(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Z0&&r instanceof Z0||t instanceof K0&&r instanceof K0?B0(t.elements,r.elements,Qa):t instanceof z3&&r instanceof z3?Qa(t.gt,r.gt):t instanceof P3&&r instanceof P3);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class F3 extends Vp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hc extends Vp{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mM(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gM(n,e,t){const r=new Map;It(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,f=e.data.field(a.field);r.set(a.field,Tx(u,f,t[i]))}return r}function vM(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,xx(a,u,e))}return r}class V3 extends Vp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class py extends Vp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kx{constructor(e){this.count=e}}var Ei,In;function _M(n){switch(n){default:return gt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function yM(n){if(void 0===n)return zr("GRPC error has no .code"),xe.UNKNOWN;switch(n){case Ei.OK:return xe.OK;case Ei.CANCELLED:return xe.CANCELLED;case Ei.UNKNOWN:return xe.UNKNOWN;case Ei.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Ei.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Ei.INTERNAL:return xe.INTERNAL;case Ei.UNAVAILABLE:return xe.UNAVAILABLE;case Ei.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Ei.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Ei.NOT_FOUND:return xe.NOT_FOUND;case Ei.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Ei.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Ei.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Ei.ABORTED:return xe.ABORTED;case Ei.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Ei.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Ei.DATA_LOSS:return xe.DATA_LOSS;default:return gt()}}(In=Ei||(Ei={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";class Wl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){U0(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Tw(this.inner)}size(){return this.innerSize}}const Px=new Qr(s.comparator);function oo(){return Px}const CM=new Qr(s.comparator);function Pf(...n){let e=CM;for(const t of n)e=e.insert(t.key,t);return e}function bM(n){let e=CM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xa(){return zf()}function EM(){return zf()}function zf(){return new Wl(n=>n.toString(),(n,e)=>n.isEqual(e))}const zx=new Qr(s.comparator),Fx=new tr(s.comparator);function cn(...n){let e=Fx;for(const t of n)e=e.add(t);return e}const Vx=new tr(Qt);function Hp(){return Vx}class Ff{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Vf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ff(Nt.min(),i,Hp(),oo(),cn())}}class Vf{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vf(r,t,cn(),cn(),cn())}}class Bp{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class wM{constructor(e,t){this.targetId=e,this.Et=t}}class MM{constructor(e,t,r=Hi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class DM{constructor(){this.At=0,this.Rt=AM(),this.bt=Hi.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=cn(),t=cn(),r=cn();return this.Rt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new Vf(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=AM()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Hx{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=oo(),this.qt=IM(),this.Ut=new tr(Qt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const a=i.target;if(Op(a))if(0===r){const u=new s(a.path);this.Qt(t,u,_r.newNoDocument(u,Nt.min()))}else It(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,u)=>{const f=this.Yt(u);if(f){if(a.current&&Op(f.target)){const v=new s(f.target.path);null!==this.Lt.get(v)||this.te(u,v)||this.Qt(u,v,_r.newNoDocument(v,e))}a.St&&(t.set(u,a.Ct()),a.xt())}});let r=cn();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(v=>{const E=this.Yt(v);return!E||2===E.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Lt.forEach((a,u)=>u.setReadTime(e));const i=new Ff(e,t,this.Ut,this.Lt,r);return this.Lt=oo(),this.qt=IM(),this.Ut=new tr(Qt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new DM,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new tr(Qt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||et("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new DM),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function IM(){return new Qr(s.comparator)}function AM(){return new Qr(s.comparator)}const Bx={asc:"ASCENDING",desc:"DESCENDING"},Ux={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jx={and:"AND",or:"OR"};class $x{constructor(e,t){this.databaseId=e,this.wt=t}}function H3(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SM(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Gx(n,e){return H3(n,e.toTimestamp())}function si(n){return It(!!n),Nt.fromTimestamp(function(e){const t=Ul(e);return new vr(t.seconds,t.nanos)}(n))}function my(n,e){return(t=n,new Mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xM(n){const e=Mn.fromString(n);return It(FM(e)),e}function Hf(n,e){return my(n.databaseId,e.path)}function Ja(n,e){const t=xM(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new s(NM(t))}function gy(n,e){return my(n.databaseId,e)}function TM(n){const e=xM(n);return 4===e.length?Mn.emptyPath():NM(e)}function Bf(n){return new Mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NM(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function LM(n,e,t){return{name:Hf(n,e),fields:t.value.mapValue.fields}}function OM(n,e,t){const r=Ja(n,e.name),i=si(e.updateTime),a=e.createTime?si(e.createTime):Nt.min(),u=new ds({mapValue:{fields:e.fields}}),f=_r.newFoundDocument(r,i,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Uf(n,e){let t;if(e instanceof F3)t={update:LM(n,e.key,e.value)};else if(e instanceof V3)t={delete:Hf(n,e.key)};else if(e instanceof hc)t={update:LM(n,e.key,e.data),updateMask:Jx(e.fieldMask)};else{if(!(e instanceof py))return gt();t={verify:Hf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof P3)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Z0)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof K0)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof z3)return{fieldPath:a.field.canonicalString(),increment:u.gt};throw gt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Gx(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:gt()),t;var i}function vy(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Sr.updateTime(si(i.updateTime)):void 0!==i.exists?Sr.exists(i.exists):Sr.none():Sr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let f=null;"setToServerValue"in u?(It("REQUEST_TIME"===u.setToServerValue),f=new P3):"appendMissingElements"in u?f=new Z0(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new K0(u.removeAllFromArray.values||[]):"increment"in u?f=new z3(a,u.increment):gt();const v=Fr.fromServerFormat(u.fieldPath);return new Rf(v,f)}(n,i)):[];var i;if(e.update){const i=Ja(n,e.update.name),a=new ds({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Fo((e.updateMask.fieldPaths||[]).map(E=>Fr.fromServerFormat(E)));return new hc(i,a,u,t,r)}return new F3(i,a,t,r)}if(e.delete){const i=Ja(n,e.delete);return new V3(i,t)}if(e.verify){const i=Ja(n,e.verify);return new py(i,t)}return gt()}function RM(n,e){return{documents:[gy(n,e.path)]}}function _y(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=gy(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=gy(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0!==v.length)return zM($n.create(v,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(v){if(0!==v.length)return v.map(E=>{return{field:B3((I=E).field),direction:Yx(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(E=e.limit,n.wt||If(E)?E:{value:E});var E,f,v;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function kM(n){let e=TM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){It(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=function(I){const N=PM(I);return N instanceof $n&&Uw(N)?N.getFilters():[N]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new O3(U3((N=I).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let f=null;t.limit&&(f=function(I){let N;return N="object"==typeof I?I.value:I,If(N)?null:N}(t.limit));let v=null;var I;t.startAt&&(v=new Gl((I=t.startAt).values||[],!!I.before));let E=null;return t.endAt&&(E=function(I){return new Gl(I.values||[],!I.before)}(t.endAt)),eM(e,i,u,a,f,"F",v,E)}function PM(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=U3(e.unaryFilter.field);return yn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=U3(e.unaryFilter.field);return yn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=U3(e.unaryFilter.field);return yn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=U3(e.unaryFilter.field);return yn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(n):void 0!==n.fieldFilter?yn.create(U3((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return $n.create(e.compositeFilter.filters.map(t=>PM(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return gt()}}(e.compositeFilter.op))}(n):gt();var e}function Yx(n){return Bx[n]}function Qx(n){return Ux[n]}function Xx(n){return jx[n]}function B3(n){return{fieldPath:n.canonicalString()}}function U3(n){return Fr.fromServerFormat(n.fieldPath)}function zM(n){return n instanceof yn?function(e){if("=="===e.op){if(kw(e.value))return{unaryFilter:{field:B3(e.field),op:"IS_NAN"}};if(Rw(e.value))return{unaryFilter:{field:B3(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kw(e.value))return{unaryFilter:{field:B3(e.field),op:"IS_NOT_NAN"}};if(Rw(e.value))return{unaryFilter:{field:B3(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:B3(e.field),op:Qx(e.op),value:e.value}}}(n):n instanceof $n?function(e){const t=e.getFilters().map(r=>zM(r));return 1===t.length?t[0]:{compositeFilter:{op:Xx(e.op),filters:t}}}(n):gt()}function Jx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Fs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VM(e)),e=eT(n.get(t),e);return VM(e)}function eT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function VM(n){return n+"\x01\x01"}function e2(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&gt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let v;0===i.length?v=f:(i+=f,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:gt()}a=u+2}return new Mn(r)}const HM=["userId","batchId"];function Up(n,e){return[n,Fs(e)]}function BM(n,e,t){return[n,Fs(e),t]}const tT={},nT=["prefixPath","collectionGroup","readTime","documentId"],rT=["prefixPath","collectionGroup","documentId"],iT=["collectionGroup","readTime","prefixPath","documentId"],sT=["canonicalId","targetId"],oT=["targetId","path"],aT=["path","targetId"],cT=["collectionId","parent"],lT=["indexId","uid"],uT=["uid","sequenceNumber"],dT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hT=["indexId","uid","orderedDocumentKey"],fT=["userId","collectionPath","documentId"],pT=["userId","collectionPath","largestBatchId"],mT=["userId","collectionGroup","largestBatchId"],UM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gT=[...UM,"documentOverlays"],jM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$M=jM,vT=[...$M,"indexConfiguration","indexState","indexEntries"];class yy extends me{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Yi(n,e){const t=ut(n);return At.M(t.se,e)}class Cy{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Ox(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=kf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=kf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=EM();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(i.key)?null:f;const v=fM(u,f);null!==v&&r.set(i.key,v),u.isValidDocument()||u.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cn())}isEqual(e){return this.batchId===e.batchId&&B0(this.mutations,e.mutations,(t,r)=>pM(t,r))&&B0(this.baseMutations,e.baseMutations,(t,r)=>pM(t,r))}}class by{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){It(e.mutations.length===r.length);let i=zx;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new by(e,t,r,i)}}class Ey{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ql{constructor(e,t,r,i,a=Nt.min(),u=Nt.min(),f=Hi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new ql(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ql(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ql(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class GM{constructor(e){this.ie=e}}function WM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Hf(i=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:H3(i,a.version.toTimestamp()),createTime:H3(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Y0(e.version)};else{if(!e.isUnknownDocument())return gt();r.unknownDocument={path:t.path.toArray(),version:Y0(e.version)}}var i,a;return r}function jp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Y0(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Q0(n){const e=new vr(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function X0(n,e){const t=(e.baseMutations||[]).map(a=>vy(n.ie,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>vy(n.ie,a)),i=vr.fromMillis(e.localWriteTimeMs);return new Cy(e.batchId,i,t,r)}function jf(n){const e=Q0(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Q0(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(It(1===(i=n.query).documents.length),r=zs(k3(TM(i.documents[0])))):r=zs(kM(n.query)),new ql(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Hi.fromBase64String(n.resumeToken))}function qM(n,e){const t=Y0(e.snapshotVersion),r=Y0(e.lastLimboFreeSnapshotVersion);let i;i=Op(e.target)?RM(n.ie,e.target):_y(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:W0(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function wy(n){const e=kM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Pp(e,e.limit,"L"):e}function My(n,e){return new Ey(e.largestBatchId,vy(n.ie,e.overlayMutation))}function ZM(n,e){const t=e.path.lastSegment();return[n,Fs(e.path.popLast()),t]}function KM(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Y0(r.readTime),documentKey:Fs(r.documentKey.path),largestBatchId:r.largestBatchId}}class yT{getBundleMetadata(e,t){return YM(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Q0(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return YM(e).put({bundleId:(r=t).id,createTime:Y0(si(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return QM(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:wy(i.bundledQuery),readTime:Q0(i.readTime)};var i})}saveNamedQuery(e,t){return QM(e).put({name:(r=t).name,readTime:Y0(si(r.readTime)),bundledQuery:r.bundledQuery});var r}}function YM(n){return Yi(n,"bundles")}function QM(n){return Yi(n,"namedQueries")}class $p{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new $p(e,t.uid||"")}getOverlay(e,t){return $f(e).get(ZM(this.userId,t)).next(r=>r?My(this.yt,r):null)}getOverlays(e,t){const r=Xa();return te.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const f=new Ey(t,u);i.push(this.oe(e,f))}),te.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Fs(u.getCollectionPath())));const a=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push($f(e).Y("collectionPathOverlayIndex",f))}),te.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Xa(),a=Fs(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $f(e).W("collectionPathOverlayIndex",u).next(f=>{for(const v of f){const E=My(this.yt,v);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Xa();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $f(e).Z({index:"collectionGroupOverlayIndex",range:f},(v,E,I)=>{const N=My(this.yt,E);a.size()<i||N.largestBatchId===u?(a.set(N.getKey(),N),u=N.largestBatchId):I.done()}).next(()=>a)}oe(e,t){return $f(e).put(function(r,i,a){const[u,f,v]=ZM(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:v,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Uf(r.ie,a.mutation)}}(this.yt,this.userId,t))}}function $f(n){return Yi(n,"documentOverlays")}class J0{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Yr(e.integerValue));else if("doubleValue"in e){const r=Yr(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Af(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(j0(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?Pw(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):gt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),s.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function CT(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function XM(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=CT(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}J0.Ie=new J0;class bT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=XM(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=XM(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ET{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class wT{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Gf{constructor(){this.$e=new bT,this.Be=new ET(this.$e),this.Le=new wT(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class e6{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new e6(this.indexId,this.documentKey,this.arrayValue,r)}}function Zl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=JM(n.arrayValue,e.arrayValue),0!==t?t:(t=JM(n.directionalValue,e.directionalValue),0!==t?t:s.comparator(n.documentKey,e.documentKey)))}function JM(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class MT{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){It(e.collectionGroup===this.collectionId);const t=c(e);if(void 0!==t&&!this.We(t))return!1;const r=d(e);let i=0,a=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const u=r[i];if(!this.ze(this.Qe,u)||!this.He(this.Ke[a++],u))return!1;++i}for(;i<r.length;++i)if(a>=this.Ke.length||!this.He(this.Ke[a++],r[i]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function eD(n){var e,t;if(It(n instanceof yn||n instanceof $n),n instanceof yn){if(n instanceof Kw){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>yn.create(n.field,"==",a)))||[];return $n.create(i,"or")}return n}const r=n.filters.map(i=>eD(i));return $n.create(r,n.op)}function DT(n){if(0===n.getFilters().length)return[];const e=Ay(eD(n));return It(tD(e)),Dy(e)||Iy(e)?[e]:e.getFilters()}function Dy(n){return n instanceof yn}function Iy(n){return n instanceof $n&&Uw(n)}function tD(n){return Dy(n)||Iy(n)||function(e){if(e instanceof $n&&ay(e)){for(const t of e.getFilters())if(!Dy(t)&&!Iy(t))return!1;return!0}return!1}(n)}function Ay(n){if(It(n instanceof yn||n instanceof $n),n instanceof yn)return n;if(1===n.filters.length)return Ay(n.filters[0]);const e=n.filters.map(r=>Ay(r));let t=$n.create(e,n.op);return t=Gp(t),tD(t)?t:(It(t instanceof $n),It(L3(t)),It(t.filters.length>1),t.filters.reduce((r,i)=>Sy(r,i)))}function Sy(n,e){let t;return It(n instanceof yn||n instanceof $n),It(e instanceof yn||e instanceof $n),t=n instanceof yn?e instanceof yn?$n.create([n,e],"and"):nD(n,e):e instanceof yn?nD(e,n):function(r,i){if(It(r.filters.length>0&&i.filters.length>0),L3(r)&&L3(i))return Ww(r,i.getFilters());const a=ay(r)?r:i,u=ay(r)?i:r,f=a.filters.map(v=>Sy(v,u));return $n.create(f,"or")}(n,e),Gp(t)}function nD(n,e){if(L3(e))return Ww(e,n.getFilters());{const t=e.filters.map(r=>Sy(n,r));return $n.create(t,"or")}}function Gp(n){if(It(n instanceof yn||n instanceof $n),n instanceof yn)return n;const e=n.getFilters();if(1===e.length)return Gp(e[0]);if(jw(n))return n;const t=e.map(i=>Gp(i)),r=[];return t.forEach(i=>{i instanceof yn?r.push(i):i instanceof $n&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:$n.create(r,n.op)}class IT{constructor(){this.Je=new xy}addToCollectionParentIndex(e,t){return this.Je.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(O.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(O.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class xy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new tr(Mn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(Mn.comparator)).toArray()}}const Wp=new Uint8Array(0);class AT{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new xy,this.Xe=new Wl(r=>W0(r),(r,i)=>Lf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:r,parent:Fs(i)};return rD(e).put(a)}return te.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[xp(t),""],!1,!0);return rD(e).W(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(e2(u.parent))}return r})}addFieldIndex(e,t){const r=qp(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const a=r.add(i);if(t.indexState){const u=qf(e);return a.next(f=>{u.put(KM(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=qp(e),i=qf(e),a=Wf(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Wf(e);let i=!0;const a=new Map;return te.forEach(this.Ze(t),u=>this.tn(e,u).next(f=>{i&&(i=!!f),a.set(u,f)})).next(()=>{if(i){let u=cn();const f=[];return te.forEach(a,(v,E)=>{var I;et("IndexedDbIndexManager",`Using index ${I=v,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Re=>`${Re.fieldPath}:${Re.kind}`).join(",")}`} to execute ${W0(t)}`);const N=function(Re,qe){const rt=c(qe);if(void 0===rt)return null;for(const dt of Rp(Re,rt.fieldPath))switch(dt.op){case"array-contains-any":return dt.value.arrayValue.values||[];case"array-contains":return[dt.value]}return null}(E,v),j=function(Re,qe){const rt=new Map;for(const dt of d(qe))for(const ln of Rp(Re,dt.fieldPath))switch(ln.op){case"==":case"in":rt.set(dt.fieldPath.canonicalString(),ln.value);break;case"not-in":case"!=":return rt.set(dt.fieldPath.canonicalString(),ln.value),Array.from(rt.values())}return null}(E,v),re=function(Re,qe){const rt=[];let dt=!0;for(const ln of d(qe)){const Bi=0===ln.kind?Xw(Re,ln.fieldPath,Re.startAt):Jw(Re,ln.fieldPath,Re.startAt);rt.push(Bi.value),dt&&(dt=Bi.inclusive)}return new Gl(rt,dt)}(E,v),ie=function(Re,qe){const rt=[];let dt=!0;for(const ln of d(qe)){const Bi=0===ln.kind?Jw(Re,ln.fieldPath,Re.endAt):Xw(Re,ln.fieldPath,Re.endAt);rt.push(Bi.value),dt&&(dt=Bi.inclusive)}return new Gl(rt,dt)}(E,v),Te=this.en(v,E,re),ye=this.en(v,E,ie),Le=this.nn(v,E,j),He=this.sn(v.indexId,N,Te,re.inclusive,ye,ie.inclusive,Le);return te.forEach(He,Re=>r.J(Re,t.limit).next(qe=>{qe.forEach(rt=>{const dt=s.fromSegments(rt.documentKey);u.has(dt)||(u=u.add(dt),f.push(dt))})}))}).next(()=>f)}return te.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:DT($n.create(e.filters,"and")).map(r=>cy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,a,u,f){const v=(null!=t?t.length:1)*Math.max(r.length,a.length),E=v/(null!=t?t.length:1),I=[];for(let N=0;N<v;++N){const j=t?this.rn(t[N/E]):Wp,re=this.on(e,j,r[N%E],i),ie=this.un(e,j,a[N%E],u),Te=f.map(ye=>this.on(e,j,ye,!0));I.push(...this.createRange(re,ie,Te))}return I}on(e,t,r,i){const a=new e6(e,s.empty(),t,r);return i?a:a.Ue()}un(e,t,r,i){const a=new e6(e,s.empty(),t,r);return i?a.Ue():a}tn(e,t){const r=new MT(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const f of a)r.je(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let r=2;const i=this.Ze(t);return te.forEach(i,a=>this.tn(e,a).next(u=>{u?0!==r&&u.fields.length<function(f){let v=new tr(Fr.comparator),E=!1;for(const I of f.filters)for(const N of I.getFlattenedFilters())N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?E=!0:v=v.add(N.field));for(const I of f.orderBy)I.field.isKeyField()||(v=v.add(I.field));return v.size+(E?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new Gf;for(const i of d(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.qe(i.kind);J0.Ie.ue(a,u)}return r.Fe()}rn(e){const t=new Gf;return J0.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new Gf;return J0.Ie.ue(G0(this.databaseId,t),r.qe(function(i){const a=d(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new Gf);let a=0;for(const u of d(e)){const f=r[a++];for(const v of i)if(this.hn(t,u.fieldPath)&&Tf(f))i=this.ln(i,u,f);else{const E=v.qe(u.kind);J0.Ie.ue(f,E)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const f of i){const v=new Gf;v.seed(f.Fe()),J0.Ie.ue(u,v.qe(t.kind)),a.push(v)}return a}hn(e,t){return!!e.filters.find(r=>r instanceof yn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=qp(e),i=qf(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const u=[];return te.forEach(a,f=>i.get([f.indexId,this.uid]).next(v=>{u.push(function(E,I){const N=I?new C(I.sequenceNumber,new O(Q0(I.readTime),new s(e2(I.documentKey)),I.largestBatchId)):C.empty(),j=E.fields.map(([re,ie])=>new p(Fr.fromServerFormat(re),ie));return new o(E.indexId,E.collectionGroup,j,N)}(f,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Qt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=qp(e),a=qf(e);return this.dn(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>te.forEach(f,v=>a.put(KM(v.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return te.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?te.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),te.forEach(f,v=>this._n(e,i,v).next(E=>{const I=this.wn(a,v);return E.isEqual(I)?te.resolve():this.mn(e,a,v,E,I)}))))})}gn(e,t,r,i){return Wf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return Wf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=Wf(e);let a=new tr(Zl);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(u,f)=>{a=a.add(new e6(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}wn(e,t){let r=new tr(Zl);const i=this.cn(t,e);if(null==i)return r;const a=c(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Tf(u))for(const f of u.arrayValue.values||[])r=r.add(new e6(t.indexId,e.key,this.rn(f),i))}else r=r.add(new e6(t.indexId,e.key,Wp,i));return r}mn(e,t,r,i,a){et("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,v,E,I,N){const j=f.getIterator(),re=v.getIterator();let ie=R3(j),Te=R3(re);for(;ie||Te;){let ye=!1,Le=!1;if(ie&&Te){const He=E(ie,Te);He<0?Le=!0:He>0&&(ye=!0)}else null!=ie?Le=!0:ye=!0;ye?(I(Te),Te=R3(re)):Le?(N(ie),ie=R3(j)):(ie=R3(j),Te=R3(re))}}(i,a,Zl,f=>{u.push(this.gn(e,t,r,f))},f=>{u.push(this.yn(e,t,r,f))}),te.waitFor(u)}dn(e){let t=1;return qf(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>Zl(u,f)).filter((u,f,v)=>!f||0!==Zl(u,v[f-1]));const i=[];i.push(e);for(const u of r){const f=Zl(u,e),v=Zl(u,t);if(0===f)i[0]=e.Ue();else if(f>0&&v<0)i.push(u),i.push(u.Ue());else if(v>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2){if(this.pn(i[u],i[u+1]))return[];a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,Wp,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,Wp,[]]))}return a}pn(e,t){return Zl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(iD)}getMinOffset(e,t){return te.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||gt())).next(iD)}}function rD(n){return Yi(n,"collectionParents")}function Wf(n){return Yi(n,"indexEntries")}function qp(n){return Yi(n,"indexConfiguration")}function qf(n){return Yi(n,"indexState")}function iD(n){It(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;V(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new O(e.readTime,e.documentKey,t)}const sD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ao{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ao(e,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function oD(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const v=r.Z({range:u},(I,N,j)=>(f++,j.delete()));a.push(v.next(()=>{It(1===f)}));const E=[];for(const I of t.mutations){const N=BM(e,I.key.path,t.batchId);a.push(i.delete(N)),E.push(I.key)}return te.waitFor(a).next(()=>E)}function Zp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw gt();e=n.noDocument}return JSON.stringify(e).length}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(41943040,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class Kp{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){It(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Kp(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kl(e).Z({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=j3(e),u=Kl(e);return u.add({}).next(f=>{It("number"==typeof f);const v=new Cy(f,t,r,i),E=function(j,re,ie){const Te=ie.baseMutations.map(Le=>Uf(j.ie,Le)),ye=ie.mutations.map(Le=>Uf(j.ie,Le));return{userId:re,batchId:ie.batchId,localWriteTimeMs:ie.localWriteTime.toMillis(),baseMutations:Te,mutations:ye}}(this.yt,this.userId,v),I=[];let N=new tr((j,re)=>Qt(j.canonicalString(),re.canonicalString()));for(const j of i){const re=BM(this.userId,j.key.path,f);N=N.add(j.key.path.popLast()),I.push(u.put(E)),I.push(a.put(re,tT))}return N.forEach(j=>{I.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.In[f]=v.keys()}),te.waitFor(I).next(()=>v)})}lookupMutationBatch(e,t){return Kl(e).get(t).next(r=>r?(It(r.userId===this.userId),X0(this.yt,r)):null)}Tn(e,t){return this.In[t]?te.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Kl(e).Z({index:"userMutationsIndex",range:i},(u,f,v)=>{f.userId===this.userId&&(It(f.batchId>=r),a=X0(this.yt,f)),v.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kl(e).W("userMutationsIndex",t).next(r=>r.map(i=>X0(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Up(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return j3(e).Z({range:i},(u,f,v)=>{const[E,I,N]=u,j=e2(I);if(E===this.userId&&t.path.isEqual(j))return Kl(e).get(N).next(re=>{if(!re)throw gt();It(re.userId===this.userId),a.push(X0(this.yt,re))});v.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tr(Qt);const i=[];return t.forEach(a=>{const u=Up(this.userId,a.path),f=IDBKeyRange.lowerBound(u),v=j3(e).Z({range:f},(E,I,N)=>{const[j,re,ie]=E,Te=e2(re);j===this.userId&&a.path.isEqual(Te)?r=r.add(ie):N.done()});i.push(v)}),te.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Up(this.userId,r),u=IDBKeyRange.lowerBound(a);let f=new tr(Qt);return j3(e).Z({range:u},(v,E,I)=>{const[N,j,re]=v,ie=e2(j);N===this.userId&&r.isPrefixOf(ie)?ie.length===i&&(f=f.add(re)):I.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Kl(e).get(a).next(u=>{if(null===u)throw gt();It(u.userId===this.userId),r.push(X0(this.yt,u))}))}),te.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return oD(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),te.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return te.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return j3(e).Z({range:r},(a,u,f)=>{if(a[0]===this.userId){const v=e2(a[1]);i.push(v)}else f.done()}).next(()=>{It(0===i.length)})})}containsKey(e,t){return aD(e,this.userId,t)}Rn(e){return cD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function aD(n,e,t){const r=Up(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return j3(n).Z({range:a,X:!0},(f,v,E)=>{const[I,N,j]=f;I===e&&N===i&&(u=!0),E.done()}).next(()=>u)}function Kl(n){return Yi(n,"mutations")}function j3(n){return Yi(n,"documentMutations")}function cD(n){return Yi(n,"mutationQueues")}class t6{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new t6(0)}static vn(){return new t6(-1)}}class ST{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new t6(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Nt.fromTimestamp(new vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$3(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return $3(e).Z((u,f)=>{const v=jf(f);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,a.push(this.removeTargetData(e,v)))}).next(()=>te.waitFor(a)).next(()=>i)}forEachTarget(e,t){return $3(e).Z((r,i)=>{const a=jf(i);t(a)})}Vn(e){return lD(e).get("targetGlobalKey").next(t=>(It(null!==t),t))}Sn(e,t){return lD(e).put("targetGlobalKey",t)}Dn(e,t){return $3(e).put(qM(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=W0(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return $3(e).Z({range:i,index:"queryTargetsIndex"},(u,f,v)=>{const E=jf(f);Lf(t,E.target)&&(a=E,v.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Yl(e);return t.forEach(u=>{const f=Fs(u.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),te.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yl(e);return te.forEach(t,a=>{const u=Fs(a.path);return te.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Yl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yl(e);let a=cn();return i.Z({range:r,X:!0},(u,f,v)=>{const E=e2(u[1]),I=new s(E);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=Fs(t.path),i=IDBKeyRange.bound([r],[xp(r)],!1,!0);let a=0;return Yl(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,f],v,E)=>{0!==u&&(a++,E.done())}).next(()=>a>0)}ne(e,t){return $3(e).get(t).next(r=>r?jf(r):null)}}function $3(n){return Yi(n,"targets")}function lD(n){return Yi(n,"targetGlobal")}function Yl(n){return Yi(n,"targetDocuments")}function uD([n,e],[t,r]){const i=Qt(n,t);return 0===i?Qt(e,r):i}class xT{constructor(e){this.xn=e,this.buffer=new tr(uD),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TT{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;et("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Fe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Sn(r)?et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Oe(r)}yield t.Fn(3e5)}))}}class NT{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return te.resolve(zo.at);const r=new xT(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(sD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sD):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,a,u,f,v,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),i=this.params.maximumSequenceNumbersToCollect):i=N,u=Date.now(),this.nthSequenceNumber(e,i))).next(N=>(r=N,f=Date.now(),this.removeTargets(e,r,t))).next(N=>(a=N,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(E=Date.now(),Df()<=f1.in.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(v-f)+`ms\n\tRemoved ${N} documents in `+(E-v)+`ms\nTotal Duration: ${E-I}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:N})))}}class LT{constructor(e,t){this.db=e,this.garbageCollector=new NT(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Yp(e,r)}removeReference(e,t,r){return Yp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Yp(e,t)}Gn(e,t){return function(r,i){let a=!1;return cD(r).tt(u=>aD(r,u,i).next(f=>(f&&(a=!0),te.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(u,f)=>{if(f<=t){const v=this.Gn(e,u).next(E=>{if(!E)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Nt.min()),Yl(e).delete([0,Fs(u.path)])))});i.push(v)}}).next(()=>te.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Yp(e,t)}Kn(e,t){const r=Yl(e);let i,a=zo.at;return r.Z({index:"documentTargetsIndex"},([u,f],{path:v,sequenceNumber:E})=>{0===u?(a!==zo.at&&t(new s(e2(i)),a),a=E,i=v):a=zo.at}).next(()=>{a!==zo.at&&t(new s(e2(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yp(n,e){return Yl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Fs(e.path),sequenceNumber:r}));var r}class dD{constructor(){this.changes=new Wl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OT{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return n6(e).put(r)}removeEntry(e,t,r){return n6(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],jp(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=_r.newInvalidDocument(t);return n6(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Zf(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:_r.newInvalidDocument(t)};return n6(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Zf(t))},(i,a)=>{r={document:this.jn(t,a),size:Zp(a)}}).next(()=>r)}getEntries(e,t){let r=oo();return this.zn(e,t,(i,a)=>{const u=this.jn(i,a);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=oo(),i=new Qr(s.comparator);return this.zn(e,t,(a,u)=>{const f=this.jn(a,u);r=r.insert(a,f),i=i.insert(a,Zp(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return te.resolve();let i=new tr(mD);t.forEach(v=>i=i.add(v));const a=IDBKeyRange.bound(Zf(i.first()),Zf(i.last())),u=i.getIterator();let f=u.getNext();return n6(e).Z({index:"documentKeyIndex",range:a},(v,E,I)=>{const N=s.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&mD(f,N)<0;)r(f,null),f=u.getNext();f&&f.isEqual(N)&&(r(f,E),f=u.hasNext()?u.getNext():null),f?I.j(Zf(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),jp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return n6(e).W(IDBKeyRange.bound(i,a,!0)).next(u=>{let f=oo();for(const v of u){const E=this.jn(s.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);f=f.insert(E.key,E)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=oo();const u=pD(t,r),f=pD(t,O.max());return n6(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(v,E,I)=>{const N=this.jn(s.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);a=a.insert(N.key,N),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new RT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fD(e).get("remoteDocumentGlobalKey").next(t=>(It(!!t),t))}Qn(e,t){return fD(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function _T(n,e){let t;if(e.document)t=OM(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=s.fromSegments(e.noDocument.path),i=Q0(e.noDocument.readTime);t=_r.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const r=s.fromSegments(e.unknownDocument.path),i=Q0(e.unknownDocument.version);t=_r.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new vr(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return _r.newInvalidDocument(e)}}function hD(n){return new OT(n)}class RT extends dD{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Wl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new tr((a,u)=>Qt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const v=WM(this.Yn.yt,u);i=i.add(a.path.popLast());const E=Zp(v);r+=E-f.size,t.push(this.Yn.addEntry(e,a,v))}else if(r-=f.size,this.trackRemovals){const v=WM(this.Yn.yt,u.convertToNoDocument(Nt.min()));t.push(this.Yn.addEntry(e,a,v))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),te.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function fD(n){return Yi(n,"remoteDocumentGlobal")}function n6(n){return Yi(n,"remoteDocumentsV14")}function Zf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pD(n,e){const t=e.documentKey.path.toArray();return[n,jp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mD(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Qt(t[a],r[a]),i)return i;return i=Qt(t.length,r.length),i||(i=Qt(t[t.length-2],r[r.length-2]),i||Qt(t[t.length-1],r[r.length-1]))}class kT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&kf(r.mutation,i,Fo.empty(),vr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=cn()){const i=Xa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=Pf();return a.forEach((f,v)=>{u=u.insert(f,v.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Xa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,cn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let a=oo();const u=zf(),f=zf();return t.forEach((v,E)=>{const I=r.get(E.key);i.has(E.key)&&(void 0===I||I.mutation instanceof hc)?a=a.insert(E.key,E):void 0!==I&&(u.set(E.key,I.mutation.getFieldMask()),kf(I.mutation,E,I.mutation.getFieldMask(),vr.now()))}),this.recalculateAndSaveOverlays(e,a).next(v=>(v.forEach((E,I)=>u.set(E,I)),t.forEach((E,I)=>{var N;return f.set(E,new kT(I,null!==(N=u.get(E))&&void 0!==N?N:null))}),f))}recalculateAndSaveOverlays(e,t){const r=zf();let i=new Qr((u,f)=>u-f),a=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(v=>{const E=t.get(v);if(null===E)return;let I=r.get(v)||Fo.empty();I=f.applyToLocalView(E,I),r.set(v,I);const N=(i.get(f.batchId)||cn()).add(v);i=i.insert(f.batchId,N)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const v=f.getNext(),E=v.key,I=v.value,N=EM();I.forEach(j=>{if(!a.has(j)){const re=fM(t.get(j),r.get(j));null!==re&&N.set(j,re),a=a.add(j)}}),u.push(this.documentOverlayCache.saveOverlays(e,E,N))}return te.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return s.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):uy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):te.resolve(Xa());let f=-1,v=a;return u.next(E=>te.forEach(E,(I,N)=>(f<N.largestBatchId&&(f=N.largestBatchId),a.get(I)?te.resolve():this.remoteDocumentCache.getEntry(e,I).next(j=>{v=v.insert(I,j)}))).next(()=>this.populateOverlays(e,E,a)).next(()=>this.computeViews(e,v,E,cn())).next(I=>({batchId:f,changes:bM(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new s(t)).next(r=>{let i=Pf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Pf();return this.indexManager.getCollectionParents(e,i).next(u=>te.forEach(u,f=>{const v=(E=t,I=f.child(i),new dc(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,I;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(E=>{E.forEach((I,N)=>{a=a.insert(I,N)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((f,v)=>{const E=v.getKey();null===i.get(E)&&(i=i.insert(E,_r.newInvalidDocument(E)))});let u=Pf();return i.forEach((f,v)=>{const E=a.get(f);void 0!==E&&kf(E.mutation,v,Fo.empty(),vr.now()),fy(t,v)&&(u=u.insert(f,v))}),u})}}class PT{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return te.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:si(r.createTime)}),te.resolve()}getNamedQuery(e,t){return te.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:wy(r.bundledQuery),readTime:si(r.readTime)}),te.resolve();var r}}class zT{constructor(){this.overlays=new Qr(s.comparator),this.es=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xa();return te.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.oe(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Xa(),a=t.length+1,u=new s(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const v=f.getNext().value,E=v.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&v.largestBatchId>r&&i.set(v.getKey(),v)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Qr((E,I)=>E-I);const u=this.overlays.getIterator();for(;u.hasNext();){const E=u.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let I=a.get(E.largestBatchId);null===I&&(I=Xa(),a=a.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const f=Xa(),v=a.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,I)=>f.set(E,I)),!(f.size()>=i)););return te.resolve(f)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Ey(t,r));let a=this.es.get(t);void 0===a&&(a=cn(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class Ty{constructor(){this.ns=new tr(Qi.ss),this.rs=new tr(Qi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Qi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Qi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new s(new Mn([])),r=new Qi(t,e),i=new Qi(t,e+1),a=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new s(new Mn([])),r=new Qi(t,e),i=new Qi(t,e+1);let a=cn();return this.rs.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Qi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Qi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return s.comparator(e.key,t.key)||Qt(e._s,t._s)}static os(e,t){return Qt(e._s,t._s)||s.comparator(e.key,t.key)}}class FT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new tr(Qi.ss)}checkEmpty(e){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const u=new Cy(a,t,r,i);this.mutationQueue.push(u);for(const f of i)this.gs=this.gs.add(new Qi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qi(t,0),i=new Qi(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],u=>{const f=this.ys(u._s);a.push(f)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tr(Qt);return t.forEach(i=>{const a=new Qi(i,0),u=new Qi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],f=>{r=r.add(f._s)})}),te.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;s.isDocumentKey(a)||(a=a.child(""));const u=new Qi(new s(a),0);let f=new tr(Qt);return this.gs.forEachWhile(v=>{const E=v.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(f=f.add(v._s)),!0)},u),te.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){It(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return te.forEach(t.mutations,i=>{const a=new Qi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Qi(t,0),i=this.gs.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return te.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class VT{constructor(e){this.Es=e,this.docs=new Qr(s.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(t))}getEntries(e,t){let r=oo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():_r.newInvalidDocument(i))}),te.resolve(r)}getAllFromCollection(e,t,r){let i=oo();const a=new s(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:v}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||V(x(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return te.resolve(i)}getAllFromCollectionGroup(e,t,r,i){gt()}As(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HT(this)}getSize(e){return te.resolve(this.size)}}class HT extends dD{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class BT{constructor(e){this.persistence=e,this.Rs=new Wl(t=>W0(t),Lf),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ty,this.targetCount=0,this.vs=t6.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),te.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new t6(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Dn(t),te.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.Ps.containsKey(t))}}class vD{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new zo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new BT(this),this.indexManager=new IT,this.remoteDocumentCache=new VT(r=>this.referenceDelegate.xs(r)),this.yt=new GM(t),this.Ns=new PT(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new FT(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){et("MemoryPersistence","Starting transaction:",e);const i=new UT(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return te.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class UT extends me{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Fs=new Ty,this.$s=null}static Bs(e){return new Qp(e)}get Ls(){if(this.$s)return this.$s;throw gt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),te.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Ls,r=>{const i=s.fromPath(r);return this.qs(e,i).next(a=>{a||t.removeEntry(i,Nt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return te.or([()=>te.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class jT{constructor(e){this.yt=e}$(e,t,r,i){const a=new vt("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HM,{unique:!0}),f.createObjectStore("documentMutations"),_D(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=te.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),_D(e)),u=u.next(()=>function(f){const v=f.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",E)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,v){return v.store("mutations").W().next(E=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HM,{unique:!0});const I=v.store("mutations"),N=E.map(j=>I.put(j));return te.waitFor(N)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Us(a))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(a))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(a))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const v=f.createObjectStore("documentOverlays",{keyPath:fT});v.createIndex("collectionPathOverlayIndex",pT,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",mT,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const v=f.createObjectStore("remoteDocumentsV14",{keyPath:nT});v.createIndex("documentKeyIndex",rT),v.createIndex("collectionGroupIndex",iT)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,a))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:lT}).createIndex("sequenceNumberIndex",uT,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:dT}).createIndex("documentKeyIndex",hT,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Zp(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>te.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(f=>te.forEach(f,v=>{It(v.userId===a.userId);const E=X0(this.yt,v);return oD(e,a.userId,E).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((u,f)=>{const v=new Mn(u),E=[0,Fs(v)];a.push(t.get(E).next(I=>I?te.resolve():t.put({targetId:0,path:Fs(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>te.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:cT});const r=t.store("collectionParents"),i=new xy,a=u=>{if(i.add(u)){const f=u.lastSegment(),v=u.popLast();return r.put({collectionId:f,parent:Fs(v)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const v=new Mn(u);return a(v.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,v],E)=>{const I=e2(f);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=jf(i),u=qM(this.yt,a);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),v=(E=u,E.document?new s(Mn.fromString(E.document.name).popFirst(5)):E.noDocument?s.fromSegments(E.noDocument.path):E.unknownDocument?s.fromSegments(E.unknownDocument.path):gt()).path.toArray();var E;const I={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(I))}).next(()=>te.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=hD(this.yt),a=new vD(Qp.Bs,this.yt.ie);return r.W().next(u=>{const f=new Map;return u.forEach(v=>{var E;let I=null!==(E=f.get(v.userId))&&void 0!==E?E:cn();X0(this.yt,v).keys().forEach(N=>I=I.add(N)),f.set(v.userId,I)}),te.forEach(f,(v,E)=>{const I=new Vi(E),N=$p.re(this.yt,I),j=a.getIndexManager(I),re=Kp.re(I,this.yt,j,a.referenceDelegate);return new gD(i,re,N,j).recalculateAndSaveOverlaysForDocumentKeys(new yy(t,zo.at),v).next()})})}}function _D(n){n.createObjectStore("targetDocuments",{keyPath:oT}).createIndex("documentTargetsIndex",aT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sT,{unique:!0}),n.createObjectStore("targetGlobal")}const Ny="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ly{constructor(e,t,r,i,a,u,f,v,E,I,N=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=u,this.document=f,this.Js=E,this.Ys=I,this.Xs=N,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=j=>Promise.resolve(),!Ly.C())throw new Ke(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LT(this,i),this.ii=t+"main",this.yt=new GM(v),this.ri=new At(this.ii,this.Xs,new jT(this.yt)),this.Cs=new ST(this.referenceDelegate,this.yt),this.remoteDocumentCache=hD(this.yt),this.Ns=new yT,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(xe.FAILED_PRECONDITION,Ny);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new zo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Fe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Fe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Fe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Sn(e))return et("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Kf(e).get("owner").next(t=>te.resolve(this.mi(t)))}gi(e){return Xp(e).delete(this.clientId)}yi(){var e=this;return(0,Fe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Yi(r,"clientMetadata");return i.W().next(a=>{const u=e.Ii(a,18e5),f=a.filter(v=>-1===u.indexOf(v));return te.forEach(f,v=>i.delete(v.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?te.resolve(!0):Kf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ke(xe.FAILED_PRECONDITION,Ny);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xp(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&et("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Fe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new yy(t,zo.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Xp(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Kp.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new AT(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return $p.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){et("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?vT:14===u?$M:13===u?jM:12===u?gT:11===u?UM:void gt();var u;let f;return this.ri.runTransaction(e,i,a,v=>(f=new yy(v,this.Ss?this.Ss.next():zo.at),"readwrite-primary"===t?this.fi(f).next(E=>!!E||this.di(f)).next(E=>{if(!E)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ke(xe.FAILED_PRECONDITION,oe);return r(f)}).next(E=>this.wi(f).next(()=>E)):this.Vi(f).next(()=>r(f)))).then(v=>(f.raiseOnCommittedEvent(),v))}Vi(e){return Kf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ke(xe.FAILED_PRECONDITION,Ny)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kf(e).put("owner",t)}static C(){return At.C()}_i(e){const t=Kf(e);return t.get("owner").next(r=>this.mi(r)?(et("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):te.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(zr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,mn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return et("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kf(n){return Yi(n,"owner")}function Xp(n){return Yi(n,"clientMetadata")}function Oy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Ry{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=cn(),i=cn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ry(e,t.fromCache,r,i)}}class yD{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(tM(t))return te.resolve(null);let r=zs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Pp(t,null,"F"),r=zs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=cn(...a);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(v=>{const E=this.Fi(t,f);return this.$i(t,E,u,v.readTime)?this.ki(e,Pp(t,null,"F")):this.Bi(e,E,t,v)}))})))}Oi(e,t,r,i){return tM(t)||i.isEqual(Nt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,r,i)?this.Mi(e,t):(Df()<=f1.in.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hy(t)),this.Bi(e,u,t,w(i,-1)))})}Fi(e,t){let r=new tr(iM(e));return t.forEach((i,a)=>{fy(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return Df()<=f1.in.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",hy(t)),this.Ni.getDocumentsMatchingQuery(e,t,O.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class $T{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Qr(Qt),this.Ui=new Wl(a=>W0(a),Lf),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gD(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function CD(n,e,t,r){return new $T(n,e,t,r)}function bD(n,e){return ky.apply(this,arguments)}function ky(){return ky=(0,Fe.Z)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let v=cn();for(const E of i){u.push(E.batchId);for(const I of E.mutations)v=v.add(I.key)}for(const E of a){f.push(E.batchId);for(const I of E.mutations)v=v.add(I.key)}return t.localDocuments.getDocuments(r,v).next(E=>({ji:E,removedBatchIds:u,addedBatchIds:f}))})})}),ky.apply(this,arguments)}function GT(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,v,E){const I=v.batch,N=I.keys();let j=te.resolve();return N.forEach(re=>{j=j.next(()=>E.getEntry(f,re)).next(ie=>{const Te=v.docVersions.get(re);It(null!==Te),ie.version.compareTo(Te)<0&&(I.applyToRemoteDocument(ie,v),ie.isValidDocument()&&(ie.setReadTime(v.commitVersion),E.addEntry(ie)))})}),j.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=cn();for(let v=0;v<u.mutationResults.length;++v)u.mutationResults[v].transformResults.length>0&&(f=f.add(u.batch.mutations[v].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function ED(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function WT(n,e){const t=ut(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const f=[];e.targetChanges.forEach((I,N)=>{const j=i.get(N);if(!j)return;f.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,N).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,N)));let re=j.withSequenceNumber(a.currentSequenceNumber);var ie,Te,ye;e.targetMismatches.has(N)?re=re.withResumeToken(Hi.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):I.resumeToken.approximateByteSize()>0&&(re=re.withResumeToken(I.resumeToken,r)),i=i.insert(N,re),Te=re,ye=I,(0===(ie=j).resumeToken.approximateByteSize()||Te.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,re))});let v=oo(),E=cn();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(wD(a,u,e.documentUpdates).next(I=>{v=I.Wi,E=I.zi})),!r.isEqual(Nt.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(N=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(I)}return te.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,v,E)).next(()=>v)}).then(a=>(t.qi=i,a))}function wD(n,e,t){let r=cn(),i=cn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=oo();return t.forEach((f,v)=>{const E=a.get(f);v.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(f)),v.isNoDocument()&&v.version.isEqual(Nt.min())?(e.removeEntry(f,v.readTime),u=u.insert(f,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||0===v.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(v),u=u.insert(f,v)):et("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",v.version)}),{Wi:u,zi:i}})}function qT(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G3(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new ql(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function W3(n,e,t){return Py.apply(this,arguments)}function Py(){return Py=(0,Fe.Z)(function*(n,e,t){const r=ut(n),i=r.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Sn(u))throw u;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),Py.apply(this,arguments)}function Jp(n,e,t){const r=ut(n);let i=Nt.min(),a=cn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,v,E){const I=ut(f),N=I.Ui.get(E);return void 0!==N?te.resolve(I.qi.get(N)):I.Cs.getTargetData(v,E)}(r,u,zs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,f.targetId).next(v=>{a=v})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:Nt.min(),t?a:cn())).next(f=>(ID(r,rM(e),f),{documents:f,Hi:a})))}function MD(n,e){const t=ut(n),r=ut(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.ne(a,e).next(u=>u?u.target:null))}function DD(n,e){const t=ut(n),r=t.Ki.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,w(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(ID(t,e,i),i))}function ID(n,e,t){let r=n.Ki.get(e)||Nt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function zy(){return zy=(0,Fe.Z)(function*(n,e,t,r){const i=ut(n);let a=cn(),u=oo();for(const E of t){const I=e.Ji(E.metadata.name);E.document&&(a=a.add(I));const N=e.Yi(E);N.setReadTime(e.Xi(E.metadata.readTime)),u=u.insert(I,N)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),v=yield G3(i,(E=r,zs(k3(Mn.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>wD(E,f,u).next(I=>(f.apply(E),I)).next(I=>i.Cs.removeMatchingKeysForTargetId(E,v.targetId).next(()=>i.Cs.addMatchingKeys(E,a,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,I.Wi,I.zi)).next(()=>I.Wi)))}),zy.apply(this,arguments)}function KT(n,e){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,Fe.Z)(function*(n,e,t=cn()){const r=yield G3(n,zs(wy(e.bundledQuery))),i=ut(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=si(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(a,e);const f=r.withResumeToken(Hi.EMPTY_BYTE_STRING,u);return i.qi=i.qi.insert(f.targetId,f),i.Cs.updateTargetData(a,f).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),Fy.apply(this,arguments)}function AD(n,e){return`firestore_clients_${n}_${e}`}function SD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Vy(n,e){return`firestore_targets_${n}_${e}`}class em{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Ke(i.error.code,i.error.message))),u?new em(e,t,i.state,a):(zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ke(r.error.code,r.error.message))),a?new Yf(e,r.state,i):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Hp();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=Nw(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new tm(e,a):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Hy{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Hy(t.clientId,t.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class By{constructor(){this.activeTargetIds=Hp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uy{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Qr(Qt),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=AD(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new By),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(AD(e.persistenceKey,i));if(a){const u=tm.Zi(i,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Vy(this.persistenceKey,e));if(r){const i=Yf.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vy(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return et("SharedClientState","READ",e,t),t}setItem(e,t){et("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){et("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(et("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Fe.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let u=zo.at;if(null!=a)try{const f=JSON.parse(a);It("number"==typeof f),u=f}catch(f){zr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==zo.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new em(this.currentUser,e,t,r),a=SD(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=SD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Vy(this.persistenceKey,e),a=new Yf(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return tm.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return em.Zi(new Vi(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Yf.Zi(i,t)}yr(e){return Hy.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);et("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),u=[],f=[];return a.forEach(v=>{i.has(v)||u.push(v)}),i.forEach(v=>{a.has(v)||f.push(v)}),this.syncEngine.Br(u,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Hp();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class xD{constructor(){this.Lr=new By,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new By,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YT{Ur(e){}shutdown(){}}class TD{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const QT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XT{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class JT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const u=this.ho(e,t);et("RestConnection","Sending: ",u,r);const f={};return this.lo(f,i,a),this.fo(e,u,f,r).then(v=>(et("RestConnection","Received: ",v),v),v=>{throw Ya("RestConnection",`${e} failed with error: `,v,"url: ",u,"request:",r),v})}_o(e,t,r,i,a,u){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+H0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${QT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,u)=>{const f=new ww;f.setWithCredentials(!0),f.listenOnce(wf.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case V0.NO_ERROR:const E=f.getResponseJson();et("Connection","XHR received:",JSON.stringify(E)),a(E);break;case V0.TIMEOUT:et("Connection",'RPC "'+e+'" timed out'),u(new Ke(xe.DEADLINE_EXCEEDED,"Request time out"));break;case V0.HTTP_ERROR:const I=f.getStatus();if(et("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){let N=f.getResponseJson();Array.isArray(N)&&(N=N[0]);const j=N?.error;if(j&&j.status&&j.message){const re=function(ie){const Te=ie.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(Te)>=0?Te:xe.UNKNOWN}(j.status);u(new Ke(re,j.message))}else u(new Ke(xe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Ke(xe.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{et("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);f.send(t,"POST",v,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=lc(),u=Ap(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Mf({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=i.join("");et("Connection","Creating WebChannel: "+v,f);const E=a.createWebChannel(v,f);let I=!1,N=!1;const j=new XT({Hr:ie=>{N?et("Connection","Not sending because WebChannel is closed:",ie):(I||(et("Connection","Opening WebChannel transport."),E.open(),I=!0),et("Connection","WebChannel sending:",ie),E.send(ie))},Jr:()=>E.close()}),re=(ie,Te,ye)=>{ie.listen(Te,Le=>{try{ye(Le)}catch(He){setTimeout(()=>{throw He},0)}})};return re(E,uc.EventType.OPEN,()=>{N||et("Connection","WebChannel transport opened.")}),re(E,uc.EventType.CLOSE,()=>{N||(N=!0,et("Connection","WebChannel transport closed"),j.io())}),re(E,uc.EventType.ERROR,ie=>{N||(N=!0,Ya("Connection","WebChannel transport errored:",ie),j.io(new Ke(xe.UNAVAILABLE,"The operation could not be completed")))}),re(E,uc.EventType.MESSAGE,ie=>{var Te;if(!N){const ye=ie.data[0];It(!!ye);const He=ye.error||(null===(Te=ye[0])||void 0===Te?void 0:Te.error);if(He){et("Connection","WebChannel received error:",He);const Re=He.status;let qe=function(dt){const ln=Ei[dt];if(void 0!==ln)return yM(ln)}(Re),rt=He.message;void 0===qe&&(qe=xe.INTERNAL,rt="Unknown error status: "+Re+" with message "+He.message),N=!0,j.io(new Ke(qe,rt)),E.close()}else et("Connection","WebChannel received:",ye),j.ro(ye)}}),re(u,Z_.STAT_EVENT,ie=>{ie.stat===A3.PROXY?et("Connection","Detected buffering proxy"):ie.stat===A3.NOPROXY&&et("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.so()},0),j}}function ND(){return typeof window<"u"?window:null}function nm(){return typeof document<"u"?document:null}function Qf(n){return new $x(n,!0)}class jy{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class LD{constructor(e,t,r,i,a,u,f,v){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new jy(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Fe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Fe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Fe.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===xe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Ke(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Fe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eN extends LD{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function qx(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:gt(),i=e.targetChange.targetIds||[],a=function(v,E){return v.wt?(It(void 0===E||"string"==typeof E),Hi.fromBase64String(E||"")):(It(void 0===E||E instanceof Uint8Array),Hi.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(v){const E=void 0===v.code?xe.UNKNOWN:yM(v.code);return new Ke(E,v.message||"")}(u);t=new MM(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ja(n,r.document.name),a=si(r.document.updateTime),u=r.document.createTime?si(r.document.createTime):Nt.min(),f=new ds({mapValue:{fields:r.document.fields}}),v=_r.newFoundDocument(i,a,u,f);t=new Bp(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,i=Ja(n,r.document),a=r.readTime?si(r.readTime):Nt.min(),u=_r.newNoDocument(i,a);t=new Bp([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Ja(n,r.document);t=new Bp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return gt();{const r=e.filter,a=new kx(r.count||0);t=new wM(r.targetId,a)}}var v;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return Nt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Nt.min():a.readTime?si(a.readTime):Nt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Bf(this.yt),t.addTarget=function(i,a){let u;const f=a.target;return u=Op(f)?{documents:RM(i,f)}:{query:_y(i,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=SM(i,a.resumeToken):a.snapshotVersion.compareTo(Nt.min())>0&&(u.readTime=H3(i,a.snapshotVersion.toTimestamp())),u}(this.yt,e);const r=function Kx(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Bf(this.yt),t.removeTarget=e,this.Bo(t)}}class tN extends LD{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Zx(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,i){let a=si(r.updateTime?r.updateTime:i);return a.isEqual(Nt.min())&&(a=si(i)),new Lx(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.Zo(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Bf(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Uf(this.yt,r))};this.Bo(t)}}class nN extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Ke(xe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ke(xe.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection._o(e,t,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(xe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class iN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(zr(t),this.ou=!1):et("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class sN{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(f=>{r.enqueueAndForget((0,Fe.Z)(function*(){var v;fc(u)&&(et("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Fe.Z)(function*(E){const I=ut(E);I._u.add(4),yield q3(I),I.gu.set("Unknown"),I._u.delete(4),yield Xf(I)}),function(E){return v.apply(this,arguments)})(u))}))}),this.gu=new iN(r,i)}}function Xf(n){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,Fe.Z)(function*(n){if(fc(n))for(const e of n.wu)yield e(!0)}),Gy.apply(this,arguments)}function q3(n){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,Fe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Wy.apply(this,arguments)}function rm(n,e){const t=ut(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ky(t)?Zy(t):K3(t).ko()&&qy(t,e))}function Jf(n,e){const t=ut(n),r=K3(t);t.du.delete(e),r.ko()&&OD(t,e),0===t.du.size&&(r.ko()?r.Fo():fc(t)&&t.gu.set("Unknown"))}function qy(n,e){n.yu.Ot(e.targetId),K3(n).zo(e)}function OD(n,e){n.yu.Ot(e),K3(n).Ho(e)}function Zy(n){n.yu=new Hx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),K3(n).start(),n.gu.uu()}function Ky(n){return fc(n)&&!K3(n).No()&&n.du.size>0}function fc(n){return 0===ut(n)._u.size}function RD(n){n.yu=void 0}function oN(n){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,Fe.Z)(function*(n){n.du.forEach((e,t)=>{qy(n,e)})}),Yy.apply(this,arguments)}function aN(n,e){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,Fe.Z)(function*(n,e){RD(n),Ky(n)?(n.gu.hu(e),Zy(n)):n.gu.set("Unknown")}),Qy.apply(this,arguments)}function cN(n,e,t){return Xy.apply(this,arguments)}function Xy(){return Xy=(0,Fe.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof MM&&2===e.state&&e.cause)try{yield(r=(0,Fe.Z)(function*(i,a){const u=a.cause;for(const f of a.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.du.delete(f),i.yu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield im(n,r)}else if(e instanceof Bp?n.yu.Kt(e):e instanceof wM?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Nt.min()))try{const r=yield ED(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.yu.Zt(a);return u.targetChanges.forEach((f,v)=>{if(f.resumeToken.approximateByteSize()>0){const E=i.du.get(v);E&&i.du.set(v,E.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const v=i.du.get(f);if(!v)return;i.du.set(f,v.withResumeToken(Hi.EMPTY_BYTE_STRING,v.snapshotVersion)),OD(i,f);const E=new ql(v.target,f,1,v.sequenceNumber);qy(i,E)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){et("RemoteStore","Failed to raise snapshot:",r),yield im(n,r)}var r}),Xy.apply(this,arguments)}function im(n,e,t){return Jy.apply(this,arguments)}function Jy(){return Jy=(0,Fe.Z)(function*(n,e,t){if(!Sn(e))throw e;n._u.add(1),yield q3(n),n.gu.set("Offline"),t||(t=()=>ED(n.localStore)),n.asyncQueue.enqueueRetryable((0,Fe.Z)(function*(){et("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Xf(n)}))}),Jy.apply(this,arguments)}function kD(n,e){return e().catch(t=>im(n,t,e))}function Z3(n){return eC.apply(this,arguments)}function eC(){return eC=(0,Fe.Z)(function*(n){const e=ut(n),t=Ql(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;lN(e);)try{const i=yield qT(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,uN(e,i)}catch(i){yield im(e,i)}PD(e)&&zD(e)}),eC.apply(this,arguments)}function lN(n){return fc(n)&&n.fu.length<10}function uN(n,e){n.fu.push(e);const t=Ql(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function PD(n){return fc(n)&&!Ql(n).No()&&n.fu.length>0}function zD(n){Ql(n).start()}function dN(n){return tC.apply(this,arguments)}function tC(){return tC=(0,Fe.Z)(function*(n){Ql(n).eu()}),tC.apply(this,arguments)}function hN(n){return nC.apply(this,arguments)}function nC(){return nC=(0,Fe.Z)(function*(n){const e=Ql(n);for(const t of n.fu)e.Xo(t.mutations)}),nC.apply(this,arguments)}function fN(n,e,t){return rC.apply(this,arguments)}function rC(){return rC=(0,Fe.Z)(function*(n,e,t){const r=n.fu.shift(),i=by.from(r,e,t);yield kD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Z3(n)}),rC.apply(this,arguments)}function pN(n,e){return iC.apply(this,arguments)}function iC(){return iC=(0,Fe.Z)(function*(n,e){var t;e&&Ql(n).Yo&&(yield(t=(0,Fe.Z)(function*(r,i){if(_M(a=i.code)&&a!==xe.ABORTED){const u=r.fu.shift();Ql(r).Mo(),yield kD(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Z3(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),PD(n)&&zD(n)}),iC.apply(this,arguments)}function FD(n,e){return sC.apply(this,arguments)}function sC(){return sC=(0,Fe.Z)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=fc(t);t._u.add(3),yield q3(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Xf(t)}),sC.apply(this,arguments)}function oC(n,e){return aC.apply(this,arguments)}function aC(){return aC=(0,Fe.Z)(function*(n,e){const t=ut(n);e?(t._u.delete(2),yield Xf(t)):e||(t._u.add(2),yield q3(t),t.gu.set("Unknown"))}),aC.apply(this,arguments)}function K3(n){return n.pu||(n.pu=function(e,t,r){const i=ut(e);return i.su(),new eN(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:oN.bind(null,n),Zr:aN.bind(null,n),Wo:cN.bind(null,n)}),n.wu.push(function(){var e=(0,Fe.Z)(function*(t){t?(n.pu.Mo(),Ky(n)?Zy(n):n.gu.set("Unknown")):(yield n.pu.stop(),RD(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ql(n){return n.Iu||(n.Iu=function(e,t,r){const i=ut(e);return i.su(),new tN(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:dN.bind(null,n),Zr:pN.bind(null,n),tu:hN.bind(null,n),Zo:fN.bind(null,n)}),n.wu.push(function(){var e=(0,Fe.Z)(function*(t){t?(n.Iu.Mo(),yield Z3(n)):(yield n.Iu.stop(),n.fu.length>0&&(et("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class cC{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,f=new cC(e,t,u,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ke(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y3(n,e){if(zr("AsyncQueue",`${e}: ${n}`),Sn(n))return new Ke(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class Q3{constructor(e){this.comparator=e?(t,r)=>e(t,r)||s.comparator(t.key,r.key):(t,r)=>s.comparator(t.key,r.key),this.keyedMap=Pf(),this.sortedSet=new Qr(this.comparator)}static emptySet(e){return new Q3(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Q3)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Q3;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class VD{constructor(){this.Tu=new Qr(s.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):gt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class X3{constructor(e,t,r,i,a,u,f,v,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new X3(e,t,Q3.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class mN{constructor(){this.Au=void 0,this.listeners=[]}}class gN{constructor(){this.queries=new Wl(e=>nM(e),Of),this.onlineState="Unknown",this.Ru=new Set}}function lC(n,e){return uC.apply(this,arguments)}function uC(){return uC=(0,Fe.Z)(function*(n,e){const t=ut(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new mN),i)try{a.Au=yield t.onListen(r)}catch(u){const f=Y3(u,`Initialization of query '${hy(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&fC(t)}),uC.apply(this,arguments)}function dC(n,e){return hC.apply(this,arguments)}function hC(){return hC=(0,Fe.Z)(function*(n,e){const t=ut(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),hC.apply(this,arguments)}function vN(n,e){const t=ut(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Pu(i)&&(r=!0);u.Au=i}}r&&fC(t)}function _N(n,e,t){const r=ut(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function fC(n){n.Ru.forEach(e=>{e.next()})}class pC{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new X3(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=X3.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class yN{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class HD{constructor(e){this.yt=e}Ji(e){return Ja(this.yt,e)}Yi(e){return e.metadata.exists?OM(this.yt,e.document,!1):_r.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return si(e)}}class CN{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BD(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Mn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new HD(this.yt);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||cn()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,Fe.Z)(function*(){const t=yield function ZT(n,e,t,r){return zy.apply(this,arguments)}(e.localStore,new HD(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield KT(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function BD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class UD{constructor(e){this.key=e}}class jD{constructor(e){this.key=e}}class $D{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=cn(),this.mutatedKeys=cn(),this.Gu=iM(e),this.Qu=new Q3(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new VD,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,N)=>{const j=i.get(I),re=fy(this.query,N)?N:null,ie=!!j&&this.mutatedKeys.has(j.key),Te=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let ye=!1;j&&re?j.data.isEqual(re.data)?ie!==Te&&(r.track({type:3,doc:re}),ye=!0):this.Hu(j,re)||(r.track({type:2,doc:re}),ye=!0,(v&&this.Gu(re,v)>0||E&&this.Gu(re,E)<0)&&(f=!0)):!j&&re?(r.track({type:0,doc:re}),ye=!0):j&&!re&&(r.track({type:1,doc:j}),ye=!0,(v||E)&&(f=!0)),ye&&(re?(u=u.add(re),a=Te?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{Qu:u,zu:r,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((E,I)=>function(N,j){const re=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return re(N)-re(j)}(E.type,I.type)||this.Gu(E.doc,I.doc)),this.Ju(r);const u=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,v=f!==this.Uu;return this.Uu=f,0!==a.length||v?{snapshot:new X3(this.query,e.Qu,i,a,e.mutatedKeys,0===f,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new VD,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=cn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new jD(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new UD(r))}),t}tc(e){this.qu=e.Hi,this.Ku=cn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return X3.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class bN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class EN{constructor(e){this.key=e,this.nc=!1}}class wN{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Wl(f=>nM(f),Of),this.rc=new Map,this.oc=new Set,this.uc=new Qr(s.comparator),this.cc=new Map,this.ac=new Ty,this.hc={},this.lc=new Map,this.fc=t6.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function MN(n,e){return mC.apply(this,arguments)}function mC(){return mC=(0,Fe.Z)(function*(n,e){const t=FC(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const u=yield G3(t.localStore,zs(e));t.isPrimaryClient&&rm(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield gC(t,e,r,"current"===f,u.resumeToken)}return i}),mC.apply(this,arguments)}function gC(n,e,t,r,i){return vC.apply(this,arguments)}function vC(){return vC=(0,Fe.Z)(function*(n,e,t,r,i){n._c=(N,j,re)=>{return(ie=(0,Fe.Z)(function*(Te,ye,Le,He){let Re=ye.view.Wu(Le);Re.$i&&(Re=yield Jp(Te.localStore,ye.query,!1).then(({documents:dt})=>ye.view.Wu(dt,Re)));const qe=He&&He.targetChanges.get(ye.targetId),rt=ye.view.applyChanges(Re,Te.isPrimaryClient,qe);return AC(Te,ye.targetId,rt.Xu),rt.snapshot}),function(Te,ye,Le,He){return ie.apply(this,arguments)})(n,N,j,re);var ie};const a=yield Jp(n.localStore,e,!0),u=new $D(e,a.Hi),f=u.Wu(a.documents),v=Vf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=u.applyChanges(f,n.isPrimaryClient,v);AC(n,t,E.Xu);const I=new bN(e,t,u);return n.ic.set(e,I),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),E.snapshot}),vC.apply(this,arguments)}function DN(n,e){return _C.apply(this,arguments)}function _C(){return _C=(0,Fe.Z)(function*(n,e){const t=ut(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!Of(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield W3(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Jf(t.remoteStore,r.targetId),J3(t,r.targetId)}).catch(Oe))):(J3(t,r.targetId),yield W3(t.localStore,r.targetId,!0))}),_C.apply(this,arguments)}function yC(){return yC=(0,Fe.Z)(function*(n,e,t){const r=VC(n);try{const i=yield function(a,u){const f=ut(a),v=vr.now(),E=u.reduce((j,re)=>j.add(re.key),cn());let I,N;return f.persistence.runTransaction("Locally write mutations","readwrite",j=>{let re=oo(),ie=cn();return f.Gi.getEntries(j,E).next(Te=>{re=Te,re.forEach((ye,Le)=>{Le.isValidDocument()||(ie=ie.add(ye))})}).next(()=>f.localDocuments.getOverlayedDocuments(j,re)).next(Te=>{I=Te;const ye=[];for(const Le of u){const He=Rx(Le,I.get(Le.key).overlayedDocument);null!=He&&ye.push(new hc(Le.key,He,Qw(He.value.mapValue),Sr.exists(!0)))}return f.mutationQueue.addMutationBatch(j,v,ye,u)}).next(Te=>{N=Te;const ye=Te.applyToLocalDocumentSet(I,ie);return f.documentOverlayCache.saveOverlays(j,Te.batchId,ye)})}).then(()=>({batchId:N.batchId,changes:bM(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,f){let v=a.hc[a.currentUser.toKey()];v||(v=new Qr(Qt)),v=v.insert(u,f),a.hc[a.currentUser.toKey()]=v}(r,i.batchId,t),yield pc(r,i.changes),yield Z3(r.remoteStore)}catch(i){const a=Y3(i,"Failed to persist write");t.reject(a)}}),yC.apply(this,arguments)}function GD(n,e){return CC.apply(this,arguments)}function CC(){return CC=(0,Fe.Z)(function*(n,e){const t=ut(n);try{const r=yield WT(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.cc.get(a);u&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?It(u.nc):i.removedDocuments.size>0&&(It(u.nc),u.nc=!1))}),yield pc(t,r,e)}catch(r){yield Oe(r)}}),CC.apply(this,arguments)}function WD(n,e,t){const r=ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,u)=>{const f=u.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(a,u){const f=ut(a);f.onlineState=u;let v=!1;f.queries.forEach((E,I)=>{for(const N of I.listeners)N.bu(u)&&(v=!0)}),v&&fC(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AN(n,e,t){return bC.apply(this,arguments)}function bC(){return bC=(0,Fe.Z)(function*(n,e,t){const r=ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let u=new Qr(s.comparator);u=u.insert(a,_r.newNoDocument(a,Nt.min()));const f=cn().add(a),v=new Ff(Nt.min(),new Map,new tr(Qt),u,f);yield GD(r,v),r.uc=r.uc.remove(a),r.cc.delete(e),SC(r)}else yield W3(r.localStore,e,!1).then(()=>J3(r,e,t)).catch(Oe)}),bC.apply(this,arguments)}function SN(n,e){return EC.apply(this,arguments)}function EC(){return EC=(0,Fe.Z)(function*(n,e){const t=ut(n),r=e.batch.batchId;try{const i=yield GT(t.localStore,e);IC(t,r,null),DC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield pc(t,i)}catch(i){yield Oe(i)}}),EC.apply(this,arguments)}function xN(n,e,t){return wC.apply(this,arguments)}function wC(){return wC=(0,Fe.Z)(function*(n,e,t){const r=ut(n);try{const i=yield function(a,u){const f=ut(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return f.mutationQueue.lookupMutationBatch(v,u).next(I=>(It(null!==I),E=I.keys(),f.mutationQueue.removeMutationBatch(v,I))).next(()=>f.mutationQueue.performConsistencyCheck(v)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(v,E,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>f.localDocuments.getDocuments(v,E))})}(r.localStore,e);IC(r,e,t),DC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield pc(r,i)}catch(i){yield Oe(i)}}),wC.apply(this,arguments)}function MC(){return MC=(0,Fe.Z)(function*(n,e){const t=ut(n);fc(t.remoteStore)||et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=ut(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Y3(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),MC.apply(this,arguments)}function DC(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function IC(n,e,t){const r=ut(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function J3(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||qD(n,r)})}function qD(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Jf(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),SC(n))}function AC(n,e,t){for(const r of t)r instanceof UD?(n.ac.addReference(r.key,e),NN(n,r)):r instanceof jD?(et("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||qD(n,r.key)):gt()}function NN(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(et("SyncEngine","New document in limbo: "+t),n.oc.add(r),SC(n))}function SC(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new s(Mn.fromString(e)),r=n.fc.next();n.cc.set(r,new EN(t)),n.uc=n.uc.insert(t,r),rm(n.remoteStore,new ql(zs(k3(t.path)),r,2,zo.at))}}function pc(n,e,t){return xC.apply(this,arguments)}function xC(){return xC=(0,Fe.Z)(function*(n,e,t){const r=ut(n),i=[],a=[],u=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,v)=>{u.push(r._c(v,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const I=Ry.Ci(v.targetId,E);a.push(I)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(f=(0,Fe.Z)(function*(v,E){const I=ut(v);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>te.forEach(E,j=>te.forEach(j.Si,re=>I.persistence.referenceDelegate.addReference(N,j.targetId,re)).next(()=>te.forEach(j.Di,re=>I.persistence.referenceDelegate.removeReference(N,j.targetId,re)))))}catch(N){if(!Sn(N))throw N;et("LocalStore","Failed to update sequence numbers: "+N)}for(const N of E){const j=N.targetId;if(!N.fromCache){const re=I.qi.get(j),Te=re.withLastLimboFreeSnapshotVersion(re.snapshotVersion);I.qi=I.qi.insert(j,Te)}}}),function(v,E){return f.apply(this,arguments)})(r.localStore,a))}),xC.apply(this,arguments)}function LN(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,Fe.Z)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const r=yield bD(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(f=>{f.reject(new Ke(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pc(t,r.ji)}var i}),TC.apply(this,arguments)}function ON(n,e){const t=ut(n),r=t.cc.get(e);if(r&&r.nc)return cn().add(r.key);{let i=cn();const a=t.rc.get(e);if(!a)return i;for(const u of a){const f=t.ic.get(u);i=i.unionWith(f.view.ju)}return i}}function RN(n,e){return NC.apply(this,arguments)}function NC(){return NC=(0,Fe.Z)(function*(n,e){const t=ut(n),r=yield Jp(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&AC(t,e.targetId,i.Xu),i}),NC.apply(this,arguments)}function kN(n,e){return LC.apply(this,arguments)}function LC(){return LC=(0,Fe.Z)(function*(n,e){const t=ut(n);return DD(t.localStore,e).then(r=>pc(t,r))}),LC.apply(this,arguments)}function PN(n,e,t,r){return OC.apply(this,arguments)}function OC(){return OC=(0,Fe.Z)(function*(n,e,t,r){const i=ut(n),a=yield function(u,f){const v=ut(u),E=ut(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",I=>E.Tn(I,f).next(N=>N?v.localDocuments.getDocuments(I,N):te.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Z3(i.remoteStore):"acknowledged"===t||"rejected"===t?(IC(i,e,r||null),DC(i,e),f=e,ut(ut(i.localStore).mutationQueue).An(f)):gt(),yield pc(i,a)):et("SyncEngine","Cannot apply mutation batch with id: "+e)}),OC.apply(this,arguments)}function RC(){return RC=(0,Fe.Z)(function*(n,e){const t=ut(n);if(FC(t),VC(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield ZD(t,r.toArray());t.dc=!0,yield oC(t.remoteStore,!0);for(const a of i)rm(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(J3(t,u),W3(t.localStore,u,!0))),Jf(t.remoteStore,u)}),yield i,yield ZD(t,r),function(a){const u=ut(a);u.cc.forEach((f,v)=>{Jf(u.remoteStore,v)}),u.ac.fs(),u.cc=new Map,u.uc=new Qr(s.comparator)}(t),t.dc=!1,yield oC(t.remoteStore,!1)}}),RC.apply(this,arguments)}function ZD(n,e,t){return kC.apply(this,arguments)}function kC(){return kC=(0,Fe.Z)(function*(n,e,t){const r=ut(n),i=[],a=[];for(const u of e){let f;const v=r.rc.get(u);if(v&&0!==v.length){f=yield G3(r.localStore,zs(v[0]));for(const E of v){const I=r.ic.get(E),N=yield RN(r,I);N.snapshot&&a.push(N.snapshot)}}else{const E=yield MD(r.localStore,u);f=yield G3(r.localStore,E),yield gC(r,KD(E),u,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(a),i}),kC.apply(this,arguments)}function KD(n){return eM(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function FN(n){const e=ut(n);return ut(ut(e.localStore).persistence).vi()}function VN(n,e,t,r){return PC.apply(this,arguments)}function PC(){return PC=(0,Fe.Z)(function*(n,e,t,r){const i=ut(n);if(i.dc)return void et("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield DD(i.localStore,rM(a[0])),f=Ff.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Hi.EMPTY_BYTE_STRING);yield pc(i,u,f);break}case"rejected":yield W3(i.localStore,e,!0),J3(i,e,r);break;default:gt()}}),PC.apply(this,arguments)}function HN(n,e,t){return zC.apply(this,arguments)}function zC(){return zC=(0,Fe.Z)(function*(n,e,t){const r=FC(n);if(r.dc){for(const i of e){if(r.rc.has(i)){et("SyncEngine","Adding an already active target "+i);continue}const a=yield MD(r.localStore,i),u=yield G3(r.localStore,a);yield gC(r,KD(a),u.targetId,!1,u.resumeToken),rm(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield W3(r.localStore,i,!1).then(()=>{Jf(r.remoteStore,i),J3(r,i)}).catch(Oe))}}),zC.apply(this,arguments)}function FC(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ON.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AN.bind(null,e),e.sc.Wo=vN.bind(null,e.eventManager),e.sc.wc=_N.bind(null,e.eventManager),e}function VC(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xN.bind(null,e),e}class YD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Fe.Z)(function*(){t.yt=Qf(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return CD(this.persistence,new yD,e.initialUser,this.yt)}yc(e){return new vD(Qp.Bs,this.yt)}gc(e){return new xD}terminate(){var e=this;return(0,Fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class QD extends YD{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Fe.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield VC(r.Ac.syncEngine),yield Z3(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return CD(this.persistence,new yD,e.initialUser,this.yt)}Tc(e,t){return new TT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new px(t,this.persistence);return new fx(e.asyncQueue,r)}yc(e){const t=Oy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new Ly(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ND(),nm(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new xD}}class UN extends QD{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Fe.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof Uy&&(r.sharedClientState.syncEngine={Fr:PN.bind(null,i),$r:VN.bind(null,i),Br:HN.bind(null,i),vi:FN.bind(null,i),Mr:kN.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,Fe.Z)(function*(u){yield function zN(n,e){return RC.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}gc(e){const t=ND();if(!Uy.C(t))throw new Ke(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Oy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Uy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class HC{initialize(e,t){var r=this;return(0,Fe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>WD(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=LN.bind(null,r.syncEngine),yield oC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gN}createDatastore(e){const t=Qf(e.databaseInfo.databaseId),r=new JT(e.databaseInfo);return new nN(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>WD(this.syncEngine,f,0),u=TD.C()?new TD:new YT,new sN(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,f,v,E){const I=new wN(r,i,a,u,f,v);return E&&(I.dc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Fe.Z)(function*(t){const r=ut(t);et("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield q3(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function BC(n,e,t){if(!t)throw new Ke(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XD(n,e,t,r){if(!0===e&&!0===r)throw new Ke(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JD(n){if(!s.isDocumentKey(n))throw new Ke(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eI(n){if(s.isDocumentKey(n))throw new Ke(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":gt()}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sm(n);throw new Ke(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function tI(n,e){if(e<=0)throw new Ke(xe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const nI=new Map;class rI{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ke(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ke(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,XD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e5{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ke(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ke(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new X_;switch(t.type){case"gapi":return new ey(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ke(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nI.get(e);t&&(et("ComponentProvider","Removing Datastore"),nI.delete(e),t.terminate())}(this),Promise.resolve()}}function iI(n,e,t,r={}){var i;const a=(n=Cn(n,e5))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ya("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=Vi.MOCK_USER;else{u=(0,mn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ke(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vi(v)}n._authCredentials=new J_(new x3(u,f))}}class yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new t2(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class hs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class t2 extends hs{constructor(e,t,r){super(e,t,k3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new s(e))}withConverter(e){return new t2(this.firestore,e,this._path)}}function sI(n,e,...t){if(n=(0,mn.m9)(n),BC("collection","path",e),n instanceof e5){const r=Mn.fromString(e,...t);return eI(r),new t2(n,null,r)}{if(!(n instanceof yr||n instanceof t2))throw new Ke(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mn.fromString(e,...t));return eI(r),new t2(n.firestore,null,r)}}function om(n,e,...t){if(n=(0,mn.m9)(n),1===arguments.length&&(e=ny.R()),BC("doc","path",e),n instanceof e5){const r=Mn.fromString(e,...t);return JD(r),new yr(n,null,new s(r))}{if(!(n instanceof yr||n instanceof t2))throw new Ke(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mn.fromString(e,...t));return JD(r),new yr(n.firestore,n instanceof t2?n.converter:null,new s(r))}}function oI(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),(n instanceof yr||n instanceof t2)&&(e instanceof yr||e instanceof t2)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function UC(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),n instanceof hs&&e instanceof hs&&n.firestore===e.firestore&&Of(n._query,e._query)&&n.converter===e.converter}function aI(n,e=10240){let t=0;return{read:()=>(0,Fe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class am{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $N{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Kr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Fe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Fe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new yN(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Fe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class qN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ke(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Fe.Z)(function*(a,u){const f=ut(a),v=Bf(f.yt)+"/documents",E={documents:u.map(re=>Hf(f.yt,re))},I=yield f._o("BatchGetDocuments",v,E,u.length),N=new Map;I.forEach(re=>{const ie=function Wx(n,e){return"found"in e?function(t,r){It(!!r.found);const i=Ja(t,r.found.name),a=si(r.found.updateTime),u=r.found.createTime?si(r.found.createTime):Nt.min(),f=new ds({mapValue:{fields:r.found.fields}});return _r.newFoundDocument(i,a,u,f)}(n,e):"missing"in e?function(t,r){It(!!r.missing),It(!!r.readTime);const i=Ja(t,r.missing),a=si(r.readTime);return _r.newNoDocument(i,a)}(n,e):gt()}(f.yt,re);N.set(ie.key.toString(),ie)});const j=[];return u.forEach(re=>{const ie=N.get(re.toString());It(!!ie),j.push(ie)}),j}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new V3(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=s.fromPath(i);e.mutations.push(new py(a,e.precondition(a)))}),yield(r=(0,Fe.Z)(function*(i,a){const u=ut(i),f=Bf(u.yt)+"/documents",v={writes:a.map(E=>Uf(u.yt,E))};yield u.ao("Commit",f,v)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gt();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ke(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?Sr.exists(!1):Sr.updateTime(t):Sr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Ke(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sr.updateTime(t)}return Sr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ZN{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new jy(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Fe.Z)(function*(){const t=new qN(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!If(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!_M(t)}return!1}}class KN{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Vi.UNAUTHENTICATED,this.clientId=ny.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Fe.Z)(function*(f){et("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(et("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Y3(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function cI(n,e){return jC.apply(this,arguments)}function jC(){return jC=(0,Fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Fe.Z)(function*(a){r.isEqual(a)||(yield bD(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),jC.apply(this,arguments)}function lI(n,e){return $C.apply(this,arguments)}function $C(){return $C=(0,Fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield GC(n);et("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>FD(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>FD(e.remoteStore,a)),n.onlineComponents=e}),$C.apply(this,arguments)}function GC(n){return WC.apply(this,arguments)}function WC(){return WC=(0,Fe.Z)(function*(n){return n.offlineComponents||(et("FirestoreClient","Using default OfflineComponentProvider"),yield cI(n,new YD)),n.offlineComponents}),WC.apply(this,arguments)}function cm(n){return qC.apply(this,arguments)}function qC(){return qC=(0,Fe.Z)(function*(n){return n.onlineComponents||(et("FirestoreClient","Using default OnlineComponentProvider"),yield lI(n,new HC)),n.onlineComponents}),qC.apply(this,arguments)}function uI(n){return GC(n).then(e=>e.persistence)}function lm(n){return GC(n).then(e=>e.localStore)}function ZC(n){return cm(n).then(e=>e.remoteStore)}function KC(n){return cm(n).then(e=>e.syncEngine)}function e8(n){return YC.apply(this,arguments)}function YC(){return YC=(0,Fe.Z)(function*(n){const e=yield cm(n),t=e.eventManager;return t.onListen=MN.bind(null,e.syncEngine),t.onUnlisten=DN.bind(null,e.syncEngine),t}),YC.apply(this,arguments)}function hI(n,e,t={}){const r=new Kr;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(i,a,u,f,v){const E=new am({next:N=>{a.enqueueAndForget(()=>dC(i,I));const j=N.docs.has(u);!j&&N.fromCache?v.reject(new Ke(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&N.fromCache&&f&&"server"===f.source?v.reject(new Ke(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),I=new pC(k3(u.path),E,{includeMetadataChanges:!0,Nu:!0});return lC(i,I)}(yield e8(n),n.asyncQueue,e,t,r)})),r.promise}function fI(n,e,t={}){const r=new Kr;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(i,a,u,f,v){const E=new am({next:N=>{a.enqueueAndForget(()=>dC(i,I)),N.fromCache&&"server"===f.source?v.reject(new Ke(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),I=new pC(u,E,{includeMetadataChanges:!0,Nu:!0});return lC(i,I)}(yield e8(n),n.asyncQueue,e,t,r)})),r.promise}class rL{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new jy(this,"async_queue_retry"),this.Wc=()=>{const t=nm();t&&et("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=nm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=nm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Kr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Fe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Sn(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,zr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=cC.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.Uc.push(i),i}zc(){this.Kc&&gt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Fe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function QC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class iL{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Cr extends e5{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new rL,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pI(this),this._firestoreClient.terminate()}}function oL(n,e){const t="object"==typeof n?n:(0,h1.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,h1._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,mn.P0)("firestore");a&&iI(i,...a)}return i}function oi(n){return n._firestoreClient||pI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pI(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mx(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new KN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function mI(n,e,t){const r=new Kr;return n.asyncQueue.enqueue((0,Fe.Z)(function*(){try{yield cI(n,t),yield lI(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===xe.FAILED_PRECONDITION||u.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;Ya("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var u})).then(()=>r.promise)}function gI(n){if(n._initialized||n._terminated)throw new Ke(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class n2{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n2(Hi.fromBase64String(e))}catch(t){throw new Ke(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n2(Hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ke(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class r6{constructor(e){this._methodName=e}}class um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const mL=/^__.*__$/;class gL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new hc(e,this.data,this.fieldMask,t,this.fieldTransforms):new F3(e,this.data,t,this.fieldTransforms)}}class vI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new hc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _I(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class dm{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return pm(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(_I(this.sa)&&mL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class vL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Qf(e)}da(e,t,r,i=!1){return new dm({sa:e,methodName:t,fa:r,path:Fr.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function i6(n){const e=n._freezeSettings(),t=Qf(n._databaseId);return new vL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hm(n,e,t,r,i,a={}){const u=n.da(a.merge||a.mergeFields?2:0,e,t,i);tb("Data must be an object, but it was:",u,r);const f=bI(r,u);let v,E;if(a.merge)v=new Fo(u.fieldMask),E=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const N of a.mergeFields){const j=nb(e,N,t);if(!u.contains(j))throw new Ke(xe.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);wI(I,j)||I.push(j)}v=new Fo(I),E=u.fieldTransforms.filter(N=>v.covers(N.field))}else v=null,E=u.fieldTransforms;return new gL(new ds(f),v,E)}class t5 extends r6{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t5}}function yI(n,e,t){return new dm({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class XC extends r6{_toFieldTransform(e){return new Rf(e.path,new P3)}isEqual(e){return e instanceof XC}}class _L extends r6{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=yI(this,e,!0),r=this._a.map(a=>s6(a,t)),i=new Z0(r);return new Rf(e.path,i)}isEqual(e){return this===e}}class yL extends r6{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=yI(this,e,!0),r=this._a.map(a=>s6(a,t)),i=new K0(r);return new Rf(e.path,i)}isEqual(e){return this===e}}class CL extends r6{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new z3(e.yt,aM(e.yt,this.wa));return new Rf(e.path,t)}isEqual(e){return this===e}}function JC(n,e,t,r){const i=n.da(1,e,t);tb("Data must be an object, but it was:",i,r);const a=[],u=ds.empty();U0(r,(v,E)=>{const I=fm(e,v,t);E=(0,mn.m9)(E);const N=i.ca(I);if(E instanceof t5)a.push(I);else{const j=s6(E,N);null!=j&&(a.push(I),u.set(I,j))}});const f=new Fo(a);return new vI(u,f,i.fieldTransforms)}function eb(n,e,t,r,i,a){const u=n.da(1,e,t),f=[nb(e,r,t)],v=[i];if(a.length%2!=0)throw new Ke(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<a.length;j+=2)f.push(nb(e,a[j])),v.push(a[j+1]);const E=[],I=ds.empty();for(let j=f.length-1;j>=0;--j)if(!wI(E,f[j])){const re=f[j];let ie=v[j];ie=(0,mn.m9)(ie);const Te=u.ca(re);if(ie instanceof t5)E.push(re);else{const ye=s6(ie,Te);null!=ye&&(E.push(re),I.set(re,ye))}}const N=new Fo(E);return new vI(I,N,u.fieldTransforms)}function CI(n,e,t,r=!1){return s6(t,n.da(r?4:3,e))}function s6(n,e){if(EI(n=(0,mn.m9)(n)))return tb("Unsupported field value:",e,n),bI(n,e);if(n instanceof r6)return function(t,r){if(!_I(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let f=s6(u,r.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return aM(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=vr.fromDate(t);return{timestampValue:H3(r.yt,i)}}if(t instanceof vr){const i=new vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:H3(r.yt,i)}}if(t instanceof um)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof n2)return{bytesValue:SM(r.yt,t._byteString)};if(t instanceof yr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:my(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${sm(t)}`)}(n,e)}function bI(n,e){const t={};return Tw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):U0(n,(r,i)=>{const a=s6(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function EI(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof um||n instanceof n2||n instanceof yr||n instanceof r6)}function tb(n,e,t){if(!EI(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=sm(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function nb(n,e,t){if((e=(0,mn.m9)(e))instanceof mc)return e._internalPath;if("string"==typeof e)return fm(n,e);throw pm("Field path arguments must be of type string or ",n,!1,void 0,t)}const bL=new RegExp("[~\\*/\\[\\]]");function fm(n,e,t){if(e.search(bL)>=0)throw pm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mc(...e.split("."))._internalPath}catch{throw pm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pm(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let v="";return(a||u)&&(v+=" (found",a&&(v+=` in field ${r}`),u&&(v+=` in document ${i}`),v+=")"),new Ke(xe.INVALID_ARGUMENT,f+n+v)}function wI(n,e){return n.some(t=>t.isEqual(e))}class n5{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new EL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class EL extends n5{data(){return super.data()}}function mm(n,e){return"string"==typeof e?fm(n,e):e instanceof mc?e._internalPath:e._delegate._internalPath}function MI(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ke(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rb{}class r5 extends rb{}function Xl(n,e,...t){let r=[];e instanceof rb&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof t8).length,u=i.filter(f=>f instanceof s5).length;if(a>1||a>0&&u>0)throw new Ke(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class s5 extends r5{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new s5(e,t,r)}_apply(e){const t=this._parse(e);return SI(e._query,t),new hs(e.firestore,e.converter,dy(e._query,t))}_parse(e){const t=i6(e.firestore);return function(i,a,u,f,v,E,I){let N;if(v.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Ke(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){AI(I,E);const j=[];for(const re of I)j.push(II(f,i,re));N={arrayValue:{values:j}}}else N=II(f,i,I)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||AI(I,E),N=CI(u,"where",I,"in"===E||"not-in"===E);return yn.create(v,E,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class t8 extends rb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new t8(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:$n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const u=i.getFlattenedFilters();for(const f of u)SI(a,f),a=dy(a,f)}(e._query,t),new hs(e.firestore,e.converter,dy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ib extends r5{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ib(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ke(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ke(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new O3(i,a);return function(f,v){if(null===ly(f)){const E=kp(f);null!==E&&xI(0,E,v.field)}}(r,u),u}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new dc(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class gm extends r5{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new gm(e,t,r)}_apply(e){return new hs(e.firestore,e.converter,Pp(e._query,this._limit,this._limitType))}}class vm extends r5{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vm(e,t,r)}_apply(e){const t=DI(e,this.type,this._docOrFields,this._inclusive);return new hs(e.firestore,e.converter,(i=t,new dc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class _m extends r5{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _m(e,t,r)}_apply(e){const t=DI(e,this.type,this._docOrFields,this._inclusive);return new hs(e.firestore,e.converter,(i=t,new dc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function DI(n,e,t,r){if(t[0]=(0,mn.m9)(t[0]),t[0]instanceof n5)return function(i,a,u,f,v){if(!f)throw new Ke(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const E=[];for(const I of q0(i))if(I.field.isKeyField())E.push(G0(a,f.key));else{const N=f.data.field(I.field);if(iy(N))throw new Ke(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const j=I.field.canonicalString();throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}E.push(N)}return new Gl(E,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=i6(n.firestore);return function(a,u,f,v,E,I){const N=a.explicitOrderBy;if(E.length>N.length)throw new Ke(xe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let re=0;re<E.length;re++){const ie=E[re];if(N[re].field.isKeyField()){if("string"!=typeof ie)throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ie}`);if(!uy(a)&&-1!==ie.indexOf("/"))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ie}' contains a slash.`);const Te=a.path.child(Mn.fromString(ie));if(!s.isDocumentKey(Te))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Te}' is not because it contains an odd number of segments.`);const ye=new s(Te);j.push(G0(u,ye))}else{const Te=CI(f,v,ie);j.push(Te)}}return new Gl(j,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function II(n,e,t){if("string"==typeof(t=(0,mn.m9)(t))){if(""===t)throw new Ke(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uy(e)&&-1!==t.indexOf("/"))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Mn.fromString(t));if(!s.isDocumentKey(r))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G0(n,new s(r))}if(t instanceof yr)return G0(n,t._key);throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sm(t)}.`)}function AI(n,e){if(!Array.isArray(n)||0===n.length)throw new Ke(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ke(xe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function SI(n,e){if(e.isInequality()){const r=kp(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=ly(n);null!==a&&xI(0,i,a)}const t=function(r,i){for(const a of r)for(const u of a.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ke(xe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function xI(n,e,t){if(!t.isEqual(e))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sb{convertValue(e,t="none"){switch($0(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(j0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gt()}}convertObject(e,t){const r={};return U0(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new um(Yr(e.latitude),Yr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Lw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}convertTimestamp(e){const t=Ul(e);return new vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Mn.fromString(e);It(FM(r));const i=new Bl(r.get(1),r.get(3)),a=new s(r.popFirst(5));return i.isEqual(t)||zr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function ym(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class NL extends sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new n2(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}class o6{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gc extends n5{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new o5(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class o5 extends gc{data(e={}){return super.data(e)}}class Jl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new o6(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new o5(this._firestore,this._userDataWriter,r.key,r,new o6(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ke(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new o5(r._firestore,r._userDataWriter,u.doc.key,u.doc,new o6(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new o5(r._firestore,r._userDataWriter,u.doc.key,u.doc,new o6(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,E=-1;return 0!==u.type&&(v=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),E=a.indexOf(u.doc.key)),{type:LL(u.type),doc:f,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function LL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function NI(n,e){return n instanceof gc&&e instanceof gc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jl&&e instanceof Jl&&n._firestore===e._firestore&&UC(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class e4 extends sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new n2(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}function LI(n,e,t){n=Cn(n,yr);const r=Cn(n.firestore,Cr),i=ym(n.converter,e,t);return n8(r,[hm(i6(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Sr.none())])}function OI(n,e,t,...r){n=Cn(n,yr);const i=Cn(n.firestore,Cr),a=i6(i);let u;return u="string"==typeof(e=(0,mn.m9)(e))||e instanceof mc?eb(a,"updateDoc",n._key,e,t,r):JC(a,"updateDoc",n._key,e),n8(i,[u.toMutation(n._key,Sr.exists(!0))])}function RI(n,...e){var t,r,i;n=(0,mn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||QC(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(QC(e[u])){const N=e[u];e[u]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[u+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[u+2]=null===(i=N.complete)||void 0===i?void 0:i.bind(N)}let v,E,I;if(n instanceof yr)E=Cn(n.firestore,Cr),I=k3(n._key.path),v={next:N=>{e[u]&&e[u](ob(E,n,N))},error:e[u+1],complete:e[u+2]};else{const N=Cn(n,hs);E=Cn(N.firestore,Cr),I=N._query;const j=new e4(E);v={next:re=>{e[u]&&e[u](new Jl(E,j,N,re))},error:e[u+1],complete:e[u+2]},MI(n._query)}return function(N,j,re,ie){const Te=new am(ie),ye=new pC(j,Te,re);return N.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return lC(yield e8(N),ye)})),()=>{Te.bc(),N.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return dC(yield e8(N),ye)}))}}(oi(E),I,f,v)}function n8(n,e){return function(t,r){const i=new Kr;return t.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function IN(n,e,t){return yC.apply(this,arguments)}(yield KC(t),r,i)})),i.promise}(oi(n),e)}function ob(n,e,t){const r=t.docs.get(e._key),i=new e4(n);return new gc(n,i,e._key,r,new o6(t.hasPendingWrites,t.fromCache),e.converter)}const UL={maxAttempts:5};class kI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=i6(e)}set(e,t,r){this._verifyNotCommitted();const i=t4(e,this._firestore),a=ym(i.converter,t,r),u=hm(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Sr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=t4(e,this._firestore);let u;return u="string"==typeof(t=(0,mn.m9)(t))||t instanceof mc?eb(this._dataReader,"WriteBatch.update",a._key,t,r,i):JC(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=t4(e,this._firestore);return this._mutations=this._mutations.concat(new V3(t._key,Sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function t4(n,e){if((n=(0,mn.m9)(n)).firestore!==e)throw new Ke(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class jL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=i6(e)}get(e){const t=t4(e,this._firestore),r=new NL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return gt();const a=i[0];if(a.isFoundDocument())return new n5(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new n5(this._firestore,r,t._key,null,t.converter);throw gt()})}set(e,t,r){const i=t4(e,this._firestore),a=ym(i.converter,t,r),u=hm(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=t4(e,this._firestore);let u;return u="string"==typeof(t=(0,mn.m9)(t))||t instanceof mc?eb(this._dataReader,"Transaction.update",a._key,t,r,i):JC(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=t4(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=t4(e,this._firestore),r=new e4(this._firestore);return super.get(e).then(i=>new gc(this._firestore,r,t._key,i._document,new o6(!1,!1),t.converter))}}function ab(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function zI(){if(typeof Uint8Array>"u")throw new Ke("unimplemented","Uint8Arrays are not available in this environment.")}function FI(){if(!function gx(){return typeof atob<"u"}())throw new Ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){H0=h1.SDK_VERSION,(0,h1._registerComponent)(new Cl.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new Cr(new Mw(t.getProvider("auth-internal")),new ty(t.getProvider("app-check-internal")),function(f,v){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ke(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(f.options.projectId,v)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,h1.registerVersion)(K_,"3.8.0",n),(0,h1.registerVersion)(K_,"3.8.0","esm2017")}();class a5{constructor(e){this._delegate=e}static fromBase64String(e){return FI(),new a5(n2.fromBase64String(e))}static fromUint8Array(e){return zI(),new a5(n2.fromUint8Array(e))}toBase64(){return FI(),this._delegate.toBase64()}toUint8Array(){return zI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cb(n){return function XL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class JL{enableIndexedDbPersistence(e,t){return function aL(n,e){gI(n=Cn(n,Cr));const t=oi(n),r=n._freezeSettings(),i=new HC;return mI(t,i,new QD(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function cL(n){gI(n=Cn(n,Cr));const e=oi(n),t=n._freezeSettings(),r=new HC;return mI(e,r,new UN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function lL(n){if(n._initialized&&!n._terminated)throw new Ke(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{yield(t=(0,Fe.Z)(function*(r){if(!At.C())return Promise.resolve();const i=r+"main";yield At.delete(i)}),function(r){return t.apply(this,arguments)})(Oy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class VI{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ya("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){iI(this._delegate,e,t,r)}enableNetwork(){return function dL(n){return function YN(n){return n.asyncQueue.enqueue((0,Fe.Z)(function*(){const e=yield uI(n),t=yield ZC(n);return e.setNetworkEnabled(!0),function(r){const i=ut(r);return i._u.delete(0),Xf(i)}(t)}))}(oi(n=Cn(n,Cr)))}(this._delegate)}disableNetwork(){return function hL(n){return function QN(n){return n.asyncQueue.enqueue((0,Fe.Z)(function*(){const e=yield uI(n),t=yield ZC(n);return e.setNetworkEnabled(!1),(r=(0,Fe.Z)(function*(i){const a=ut(i);a._u.add(0),yield q3(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(oi(n=Cn(n,Cr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,XD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function uL(n){return function(e){const t=new Kr;return e.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function TN(n,e){return MC.apply(this,arguments)}(yield KC(e),t)})),t.promise}(oi(n=Cn(n,Cr)))}(this._delegate)}onSnapshotsInSync(e){return function BL(n,e){return function eL(n,e){const t=new am(e);return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return r=yield e8(n),i=t,ut(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return r=yield e8(n),i=t,void ut(r).Ru.delete(i);var r,i}))}}(oi(n=Cn(n,Cr)),QC(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new r8(this,sI(this._delegate,e))}catch(t){throw Vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new g1(this,om(this._delegate,e))}catch(t){throw Vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hs(this,function jN(n,e){if(n=Cn(n,e5),BC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ke(xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hs(n,null,(t=e,new dc(Mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function $L(n,e,t){n=Cn(n,Cr);const r=Object.assign(Object.assign({},UL),t);return function(i){if(i.maxAttempts<1)throw new Ke(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,u){const f=new Kr;return i.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){const v=yield function dI(n){return cm(n).then(e=>e.datastore)}(i);new ZN(i.asyncQueue,v,u,a,f).run()})),f.promise}(oi(n),i=>e(new jL(n,i)),r)}(this._delegate,t=>e(new HI(this,t)))}batch(){return oi(this._delegate),new BI(new kI(this._delegate,e=>n8(this._delegate,e)))}loadBundle(e){return function fL(n,e){const t=oi(n=Cn(n,Cr)),r=new iL;return function tL(n,e,t,r){const i=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,v=function(v,E){if(v instanceof Uint8Array)return aI(v,E);if(v instanceof ArrayBuffer)return aI(new Uint8Array(v),E);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new $N(v,u);var v}(t,Qf(e));n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){!function BN(n,e,t){const r=ut(n);var i;(i=(0,Fe.Z)(function*(a,u,f){try{const v=yield u.getMetadata();if(yield function(j,re){const ie=ut(j),Te=si(re.createTime);return ie.persistence.runTransaction("hasNewerBundle","readonly",ye=>ie.Ns.getBundleMetadata(ye,re.id)).then(ye=>!!ye&&ye.createTime.compareTo(Te)>=0)}(a.localStore,v))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(j=v).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);f._updateProgress(BD(v));const E=new CN(v,a.localStore,u.yt);let I=yield u.mc();for(;I;){const j=yield E.Fu(I);j&&f._updateProgress(j),I=yield u.mc()}const N=yield E.complete();return yield pc(a,N.Lu,void 0),yield function(j,re){const ie=ut(j);return ie.persistence.runTransaction("Save bundle","readwrite",Te=>ie.Ns.saveBundleMetadata(Te,re))}(a.localStore,v),f._completeWith(N.progress),Promise.resolve(N.Bu)}catch(v){return Ya("SyncEngine",`Loading bundle failed with ${v}`),f._failWith(v),Promise.resolve(new Set)}var j}),function(a,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield KC(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function pL(n,e){return function nL(n,e){return n.asyncQueue.enqueue((0,Fe.Z)(function*(){return function(t,r){const i=ut(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield lm(n),e)}))}(oi(n=Cn(n,Cr)),e).then(t=>t?new hs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Hs(this,t):null)}}class Cm extends sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new a5(new n2(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return g1.forKey(t,this.firestore,null)}}class HI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Cm(e)}get(e){const t=c6(e);return this._delegate.get(t).then(r=>new c5(this._firestore,new gc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=c6(e);return r?(ab("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=c6(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=c6(e);return this._delegate.delete(t),this}}class BI{constructor(e){this._delegate=e}set(e,t,r){const i=c6(e);return r?(ab("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=c6(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=c6(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class a6{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new o5(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new l5(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=a6.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new a6(e,new Cm(e),t),i.set(t,a)),a}}a6.INSTANCES=new WeakMap;class g1{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cm(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new g1(t,new yr(t._delegate,r,new s(e)))}static forKey(e,t,r){return new g1(t,new yr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new r8(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new r8(this.firestore,sI(this._delegate,e))}catch(t){throw Vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof yr&&oI(this._delegate,e)}set(e,t){t=ab("DocumentReference.set",t);try{return t?LI(this._delegate,e,t):LI(this._delegate,e)}catch(r){throw Vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?OI(this._delegate,e):OI(this._delegate,e,t,...r)}catch(i){throw Vs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function VL(n){return n8(Cn(n.firestore,Cr),[new V3(n._key,Sr.none())])}(this._delegate)}onSnapshot(...e){const t=UI(e),r=jI(e,i=>new c5(this.firestore,new gc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return RI(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function RL(n){n=Cn(n,yr);const e=Cn(n.firestore,Cr),t=oi(e),r=new e4(e);return function XN(n,e){const t=new Kr;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return(r=(0,Fe.Z)(function*(i,a,u){try{const f=yield function(v,E){const I=ut(v);return I.persistence.runTransaction("read document","readonly",N=>I.localDocuments.getDocument(N,E))}(i,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Ke(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const v=Y3(f,`Failed to get document '${a} from cache`);u.reject(v)}}),function(i,a,u){return r.apply(this,arguments)})(yield lm(n),e,t);var r})),t.promise}(t,n._key).then(i=>new gc(e,r,n._key,i,new o6(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function kL(n){n=Cn(n,yr);const e=Cn(n.firestore,Cr);return hI(oi(e),n._key,{source:"server"}).then(t=>ob(e,n,t))}(this._delegate):function OL(n){n=Cn(n,yr);const e=Cn(n.firestore,Cr);return hI(oi(e),n._key).then(t=>ob(e,n,t))}(this._delegate),t.then(r=>new c5(this.firestore,new gc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new g1(this.firestore,this._delegate.withConverter(e?a6.getInstance(this.firestore,e):null))}}function Vs(n,e,t){return n.message=n.message.replace(e,t),n}function UI(n){for(const e of n)if("object"==typeof e&&!cb(e))return e;return{}}function jI(n,e){var t,r;let i;return i=cb(n[0])?n[0]:cb(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class c5{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new g1(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return NI(this._delegate,e._delegate)}}class l5 extends c5{data(e){const t=this._delegate.data(e);return function Q_(n,e){n||gt()}(void 0!==t),t}}class Hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cm(e)}where(e,t,r){try{return new Hs(this.firestore,Xl(this._delegate,function wL(n,e,t){const r=e,i=mm("where",n);return s5._create(i,r,t)}(e,t,r)))}catch(i){throw Vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Hs(this.firestore,Xl(this._delegate,function ML(n,e="asc"){const t=e,r=mm("orderBy",n);return ib._create(r,t)}(e,t)))}catch(r){throw Vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hs(this.firestore,Xl(this._delegate,function DL(n){return tI("limit",n),gm._create("limit",n,"F")}(e)))}catch(t){throw Vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Hs(this.firestore,Xl(this._delegate,function IL(n){return tI("limitToLast",n),gm._create("limitToLast",n,"L")}(e)))}catch(t){throw Vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hs(this.firestore,Xl(this._delegate,function AL(...n){return vm._create("startAt",n,!0)}(...e)))}catch(t){throw Vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hs(this.firestore,Xl(this._delegate,function SL(...n){return vm._create("startAfter",n,!1)}(...e)))}catch(t){throw Vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hs(this.firestore,Xl(this._delegate,function xL(...n){return _m._create("endBefore",n,!1)}(...e)))}catch(t){throw Vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hs(this.firestore,Xl(this._delegate,function TL(...n){return _m._create("endAt",n,!0)}(...e)))}catch(t){throw Vs(t,"endAt()","Query.endAt()")}}isEqual(e){return UC(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function zL(n){n=Cn(n,hs);const e=Cn(n.firestore,Cr),t=oi(e),r=new e4(e);return function JN(n,e){const t=new Kr;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return(r=(0,Fe.Z)(function*(i,a,u){try{const f=yield Jp(i,a,!0),v=new $D(a,f.Hi),E=v.Wu(f.documents),I=v.applyChanges(E,!1);u.resolve(I.snapshot)}catch(f){const v=Y3(f,`Failed to execute query '${a} against cache`);u.reject(v)}}),function(i,a,u){return r.apply(this,arguments)})(yield lm(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Jl(e,r,n,i))}(this._delegate):"server"===e?.source?function FL(n){n=Cn(n,hs);const e=Cn(n.firestore,Cr),t=oi(e),r=new e4(e);return fI(t,n._query,{source:"server"}).then(i=>new Jl(e,r,n,i))}(this._delegate):function PL(n){n=Cn(n,hs);const e=Cn(n.firestore,Cr),t=oi(e),r=new e4(e);return MI(n._query),fI(t,n._query).then(i=>new Jl(e,r,n,i))}(this._delegate),t.then(r=>new lb(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=UI(e),r=jI(e,i=>new lb(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return RI(this._delegate,t,r)}withConverter(e){return new Hs(this.firestore,this._delegate.withConverter(e?a6.getInstance(this.firestore,e):null))}}class tO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new l5(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new l5(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new tO(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new l5(this._firestore,r))})}isEqual(e){return NI(this._delegate,e._delegate)}}class r8 extends Hs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new g1(this.firestore,e):null}doc(e){try{return new g1(this.firestore,void 0===e?om(this._delegate):om(this._delegate,e))}catch(t){throw Vs(t,"doc()","CollectionReference.doc()")}}add(e){return function HL(n,e){const t=Cn(n.firestore,Cr),r=om(n),i=ym(n.converter,e);return n8(t,[hm(i6(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Sr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new g1(this.firestore,t))}isEqual(e){return oI(this._delegate,e._delegate)}withConverter(e){return new r8(this.firestore,this._delegate.withConverter(e?a6.getInstance(this.firestore,e):null))}}function c6(n){return Cn(n,yr)}class ub{constructor(...e){this._delegate=new mc(...e)}static documentId(){return new ub(Fr.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof mc&&this._delegate._internalPath.isEqual(e._internalPath)}}class l6{constructor(e){this._delegate=e}static serverTimestamp(){const e=function WL(){return new XC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new l6(e)}static delete(){const e=function GL(){return new t5("deleteField")}();return e._methodName="FieldValue.delete",new l6(e)}static arrayUnion(...e){const t=function qL(...n){return new _L("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new l6(t)}static arrayRemove(...e){const t=function ZL(...n){return new yL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new l6(t)}static increment(e){const t=function KL(n){return new CL("increment",n)}(e);return t._methodName="FieldValue.increment",new l6(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const nO={Firestore:VI,GeoPoint:um,Timestamp:vr,Blob:a5,Transaction:HI,WriteBatch:BI,DocumentReference:g1,DocumentSnapshot:c5,Query:Hs,QueryDocumentSnapshot:l5,QuerySnapshot:lb,CollectionReference:r8,FieldPath:ub,FieldValue:l6,setLogLevel:function eO(n){!function Y_(n){ta.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function $I(n,e){return function sO(n,e=qu.z){return new Vn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function db(n,e){return $I(n,e).pipe((0,D.U)(t=>({payload:t,type:"query"})))}function bm(n,e){return db(n,e).pipe(n1(void 0),Zu(),(0,D.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const v=i.find(I=>I.doc.ref.isEqual(u.ref)),E=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(u.metadata)||!v&&E&&JSON.stringify(E.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function GI(n,e,t){return bm(n,t).pipe((0,Kc.R)((r,i)=>function aO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function cO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return hb(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return hb(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return hb(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),(0,Ku.x)(),(0,D.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function hb(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function WI(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function iO(n){(function rO(n,e){n.INTERNAL.registerComponent(new Cl.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},nO)))})(n,(e,t)=>new VI(e,t,new JL)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(d_.Z);class qI{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=bm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,D.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(n1(void 0),Zu(),(0,Ni.h)(([r,i])=>i.length>0||!r),(0,D.U)(([r,i])=>i),On.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Kc.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WI(e);return GI(this.query,t,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(e={}){return db(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),On.iC)}get(e){return(0,An.D)(this.query.get(e)).pipe(On.iC)}add(e){return this.ref.add(e)}doc(e){return new ZI(this.ref.doc(e),this.afs)}}class ZI{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=KI(r,t);return new qI(i,a,this.afs)}snapshotChanges(){return function oO(n,e){return $I(n,e).pipe(n1(void 0),Zu(),(0,D.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,D.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,An.D)(this.ref.get(e)).pipe(On.iC)}}class lO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bm(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,Ni.h)(t=>t.length>0),On.iC):bm(this.query,this.afs.schedulers.outsideAngular).pipe(On.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Kc.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WI(e);return GI(this.query,t,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(e={}){return db(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),On.iC)}get(e){return(0,An.D)(this.query.get(e)).pipe(On.iC)}}const uO=new l.OlP("angularfire2.enableFirestorePersistence"),dO=new l.OlP("angularfire2.firestore.persistenceSettings"),hO=new l.OlP("angularfire2.firestore.settings"),fO=new l.OlP("angularfire2.firestore.use-emulator");function KI(n,e=(t=>t)){return{query:e(n),ref:n}}let fb,pO=(()=>{class n{constructor(t,r,i,a,u,f,v,E,I,N,j,re,ie,Te,ye,Le,He){this.schedulers=v;const Re=(0,Ro.on)(t,f,r),qe=I;N&&xh(Re,f,j,ie,Te,ye,re,Le),[this.firestore,this.persistenceEnabled$]=(0,Ro.cc)(`${Re.name}.firestore`,"AngularFirestore",Re.name,()=>{const rt=f.runOutsideAngular(()=>Re.firestore());if(a&&rt.settings(a),qe&&rt.useEmulator(...qe),i&&!E1(u)){const dt=()=>{try{return(0,An.D)(rt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(ln){return typeof console<"u"&&console.warn(ln),(0,it.of)(!1)}};return[rt,f.runOutsideAngular(dt)]}return[rt,(0,it.of)(!1)]},[a,qe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=KI(i,r),f=this.schedulers.ngZone.run(()=>a);return new qI(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new lO(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new ZI(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ro.Dh),l.LFG(Ro.xv,8),l.LFG(uO,8),l.LFG(hO,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(On.HU),l.LFG(dO,8),l.LFG(fO,8),l.LFG(f0,8),l.LFG(x9,8),l.LFG(Ah,8),l.LFG(T9,8),l.LFG(Gu,8),l.LFG(N9,8),l.LFG(Sh,8),l.LFG(h0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class r2{constructor(e){this.afs=e,this.searchString$=new kr.X(""),this.budgetsColName="budgets",this.expensesColName="expenses",this.budgetsCol=this.afs.collection(this.budgetsColName,t=>t.orderBy("name")),this.expensesCol=this.afs.collection(this.expensesColName,t=>t.orderBy("name")),this.expenses$=_t({budgets:this.budgetsCol.valueChanges(),expenses:this.searchString$.pipe((0,vn.w)(t=>t?this.afs.collection(this.expensesColName,r=>r.orderBy("name").startAt(t).endAt(`${t}\uf8ff`)).valueChanges():this.expensesCol.valueChanges()))}).pipe((0,D.U)(t=>t.budgets.map(r=>{const i=t.expenses.filter(a=>r.id===a.budgetId);return{...r,expenses:i}})),(0,mi.K)(()=>(0,it.of)([])),s0({bufferSize:1,refCount:!0}))}getAll(){return this.budgetsCol.stateChanges()}get(e){return this.afs.collection(this.budgetsColName,t=>t.where("id","==",e)).valueChanges().pipe((0,pi.q)(1))}create(e){return(0,it.of)(this.budgetsCol.add({...e,id:Th()}))}update(e){return this.afs.collection(this.budgetsColName,t=>t.where("id","==",e.id)).snapshotChanges().pipe((0,pi.q)(1),(0,D.U)(t=>t?.[0]?.payload?.doc?.id),(0,vn.w)(t=>this.budgetsCol.doc(t).update(e)))}delete(e){return _t({budgets:this.afs.collection(this.budgetsColName,t=>t.where("id","==",e)).snapshotChanges(),expenses:this.afs.collection(this.expensesColName,t=>t.where("budgetId","==",e)).snapshotChanges()}).pipe((0,pi.q)(1),(0,vn.w)(t=>{const r=this.afs.firestore.batch();return t.budgets.forEach(i=>{const a=this.afs.collection(this.budgetsColName).doc(i?.payload?.doc?.id).ref;r.delete(a)}),t.expenses.forEach(i=>{const a=this.afs.collection(this.expensesColName).doc(i?.payload?.doc?.id).ref;r.delete(a)}),(0,it.of)(r.commit())}))}getExpense(e){return this.afs.collection(this.expensesColName,t=>t.where("id","==",e)).valueChanges().pipe((0,pi.q)(1))}createExpense(e){return(0,it.of)(this.expensesCol.add({...e,id:Th()}))}updateExpense(e){return this.afs.collection(this.expensesColName,t=>t.where("id","==",e.id)).snapshotChanges().pipe((0,pi.q)(1),(0,D.U)(t=>t?.[0]?.payload?.doc?.id),(0,vn.w)(t=>this.expensesCol.doc(t).update(e)))}deleteExpense(e){return this.afs.collection(this.expensesColName,t=>t.where("id","==",e)).snapshotChanges().pipe((0,pi.q)(1),(0,D.U)(t=>t?.[0]?.payload?.doc?.id),(0,vn.w)(t=>this.expensesCol.doc(t).delete()))}setSearchString(e){this.searchString$.next(e)}loadSampleData(){return _t({budgets:this.budgetsCol.snapshotChanges(),expenses:this.expensesCol.snapshotChanges()}).pipe((0,pi.q)(1),(0,vn.w)(e=>{const t=this.afs.firestore.batch();return e.budgets.forEach(r=>{const i=this.afs.collection(this.budgetsColName).doc(r?.payload?.doc?.id).ref;t.delete(i)}),e.expenses.forEach(r=>{const i=this.afs.collection(this.expensesColName).doc(r?.payload?.doc?.id).ref;t.delete(i)}),F9.forEach(r=>{const i=this.afs.collection(this.budgetsColName).doc(r.id).ref;t.set(i,r)}),Oh.forEach(r=>{const i=this.afs.collection(this.expensesColName).doc(r.id).ref;t.set(i,r)}),(0,it.of)(t.commit())}))}}r2.\u0275fac=function(e){return new(e||r2)(l.LFG(pO))},r2.\u0275prov=l.Yz7({token:r2,factory:r2.\u0275fac,providedIn:"root"});try{fb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fb=!1}let u5,Em,u6,pb,na=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ac(n){return n===Ic}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QI(n){return function mO(){if(null==u5&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>u5=!0}))}finally{u5=u5||!1}return u5}()?n:!!n.capture}function XI(){if(null==u6){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return u6=!1,u6;if("scrollBehavior"in document.documentElement.style)u6=!0;else{const n=Element.prototype.scrollTo;u6=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return u6}function d5(){if("object"!=typeof document||!document)return 0;if(null==Em){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Em=0,0===n.scrollLeft&&(n.scrollLeft=1,Em=0===n.scrollLeft?1:2),n.remove()}return Em}function mb(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function d6(n){return n.composedPath?n.composedPath()[0]:n.target}function JI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var eA=S(5684);function wm(n){return Array.isArray(n)?n:[n]}function wi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Mm(n){return n instanceof l.SBq?n.nativeElement:n}let AO=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[AO]}),n})();var tA=S(8372);const nA=new Set;let s8,xO=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):NO}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function TO(n){if(!nA.has(n))try{s8||(s8=document.createElement("style"),s8.setAttribute("type","text/css"),document.head.appendChild(s8)),s8.sheet&&(s8.sheet.insertRule(`@media ${n} {body{ }}`,0),nA.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(na))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NO(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let LO=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ln.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rA(wm(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=_t(rA(wm(t)).map(u=>this._registerQuery(u).observable));return a=Gi(a.pipe((0,pi.q)(1)),a.pipe((0,eA.T)(1),(0,tA.b)(0))),a.pipe((0,D.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:v,query:E})=>{f.matches=f.matches||v,f.breakpoints[E]=v}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Vn.y(u=>{const f=v=>this._zone.run(()=>u.next(v));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(n1(r),(0,D.U)(({matches:u})=>({query:t,matches:u})),(0,ks.R)(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xO),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rA(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let oA=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function PO(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function kO(n){try{return n.frameElement}catch{return null}}(function $O(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===cA(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=cA(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function UO(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function jO(n){return!function FO(n){return function HO(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function zO(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function VO(n){return function BO(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||aA(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(na))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aA(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function cA(n){if(!aA(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class GO{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,pi.q)(1)).subscribe(e)}}let WO=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new GO(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oA),l.LFG(l.R0b),l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KO=new l.OlP("cdk-input-modality-detector-options"),YO={ignoreKeys:[18,17,224,91,16]},o8=QI({passive:!0,capture:!0});let QO=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new kr.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=d6(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function qO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(u)?"keyboard":"mouse"),this._mostRecentTarget=d6(u))},this._onTouchstart=u=>{!function ZO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(u)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=d6(u)):this._modality.next("keyboard")},this._options={...YO,...a},this.modalityDetected=this._modality.pipe((0,eA.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ku.x)()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,o8),i.addEventListener("mousedown",this._onMousedown,o8),i.addEventListener("touchstart",this._onTouchstart,o8)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,o8),document.removeEventListener("mousedown",this._onMousedown,o8),document.removeEventListener("touchstart",this._onTouchstart,o8))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(na),l.LFG(l.R0b),l.LFG(X),l.LFG(KO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JO=new l.OlP("cdk-focus-monitor-default-options"),Dm=QI({passive:!0,capture:!0});let eR=(()=>{class n{constructor(t,r,i,a,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ln.x,this._rootNodeFocusAndBlurListener=f=>{for(let E=d6(f);E;E=E.parentElement)"focus"===f.type?this._onFocus(f,E):this._onBlur(f,E)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,r=!1){const i=Mm(t);if(!this._platform.isBrowser||1!==i.nodeType)return(0,it.of)(null);const a=function vO(n){if(function gO(){if(null==pb){const n=typeof document<"u"?document.head:null;pb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return pb}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const f={checkChildren:r,subject:new Ln.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=Mm(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=Mm(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,v])=>this._originChanged(f,r,v)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=d6(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Dm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Dm)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ks.R)(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Dm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Dm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(na),l.LFG(QO),l.LFG(X,8),l.LFG(JO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uA="cdk-high-contrast-black-on-white",dA="cdk-high-contrast-white-on-black",gb="cdk-high-contrast-active";let tR=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,l.f3M)(LO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gb,uA,dA),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(gb,uA):2===r&&t.add(gb,dA)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(na),l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nR=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(tR))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[SO]}),n})();var rR=S(1144);const iR=["addListener","removeListener"],sR=["addEventListener","removeEventListener"],oR=["on","off"];function Im(n,e,t,r){if((0,Ar.m)(t)&&(r=t,t=void 0),r)return Im(n,e,t).pipe(he(r));const[i,a]=function lR(n){return(0,Ar.m)(n.addEventListener)&&(0,Ar.m)(n.removeEventListener)}(n)?sR.map(u=>f=>n[u](e,f,t)):function aR(n){return(0,Ar.m)(n.addListener)&&(0,Ar.m)(n.removeListener)}(n)?iR.map(hA(n,e)):function cR(n){return(0,Ar.m)(n.on)&&(0,Ar.m)(n.off)}(n)?oR.map(hA(n,e)):[];if(!i&&(0,rR.z)(n))return(0,ni.z)(u=>Im(u,e,t))((0,rs.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Vn.y(u=>{const f=(...v)=>u.next(1<v.length?v:v[0]);return i(f),()=>a(f)})}function hA(n,e){return t=>r=>n[t](e,r)}var fA=S(4408);const h5={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=h5;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new k1.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=h5;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=h5;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var pA=S(7565);const hR=new class dR extends pA.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class uR extends fA.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=h5.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(h5.cancelAnimationFrame(t),e._scheduled=void 0)}});let vb,fR=1;const Am={};function mA(n){return n in Am&&(delete Am[n],!0)}const pR={setImmediate(n){const e=fR++;return Am[e]=!0,vb||(vb=Promise.resolve()),vb.then(()=>mA(e)&&n()),e},clearImmediate(n){mA(n)}},{setImmediate:mR,clearImmediate:gR}=pR,Sm={setImmediate(...n){const{delegate:e}=Sm;return(e?.setImmediate||mR)(...n)},clearImmediate(n){const{delegate:e}=Sm;return(e?.clearImmediate||gR)(n)},delegate:void 0},yR=new class _R extends pA.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class vR extends fA.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Sm.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(Sm.clearImmediate(t),e._scheduled=void 0)}});var bR=S(3532),ER=S(1165);function _b(n,e=qu.z){return function CR(n){return(0,ti.e)((e,t)=>{let r=!1,i=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const E=i;i=null,t.next(E)}u&&t.complete()},v=()=>{a=null,u&&t.complete()};e.subscribe((0,ct.x)(t,E=>{r=!0,i=E,a||(0,rs.Xf)(n(E)).subscribe(a=(0,ct.x)(t,f,v))},()=>{u=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function wR(n=0,e,t=qu.P){let r=-1;return null!=e&&((0,bR.K)(e)?t=e:r=e),new Vn.y(i=>{let a=(0,ER.q)(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}const MR=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function DR(){return(0,l.f3M)(X)}}),IR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let a8=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function AR(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?IR.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(MR,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const SR=["contentWrapper"],xR=["*"],TR=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let xm=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ln.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Vn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(_b(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,it.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe((0,Ni.h)(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Mm(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Im(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(na),l.LFG(X,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gA=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=a,this._destroyed=new Ln.x,this._elementScrolled=new Vn.y(u=>this.ngZone.runOutsideAngular(()=>Im(this.elementRef.nativeElement,"scroll").pipe((0,ks.R)(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=d5()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==d5()?t.left=t.right:1==d5()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;XI()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?i:r:"end"==t&&(t=u?r:i),u&&2==d5()?t==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==d5()?t==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(xm),l.Y36(l.R0b),l.Y36(a8,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Cb=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ln.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(_b(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(na),l.LFG(l.R0b),l.LFG(X,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vA=new l.OlP("VIRTUAL_SCROLLABLE");let OR=(()=>{class n extends gA{constructor(t,r,i,a){super(t,r,i,a)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(xm),l.Y36(l.R0b),l.Y36(a8,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const kR=typeof requestAnimationFrame<"u"?hR:yR;let PR=(()=>{class n extends OR{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function DO(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,r,i,a,u,f,v,E){super(t,f,i,u),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=a,this.scrollable=E,this._platform=(0,l.f3M)(na),this._detachedSubject=new Ln.x,this._renderedRangeSubject=new Ln.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Vn.y(I=>this._scrollStrategy.scrolledIndexChange.subscribe(N=>Promise.resolve().then(()=>this.ngZone.run(()=>I.next(N))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=k1.w0.EMPTY,this._viewportChanges=v.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(n1(null),_b(0,kR)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe((0,ks.R)(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function RR(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const a="horizontal"==this.orientation,u=a?"X":"Y";let v=`translate${u}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(v+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=v&&(this._renderedContentTransform=v,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",a="right",u="rtl"==this.dir?.value;r="start"==t?u?a:i:"end"==t?u?i:a:t||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-f}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(TR,8),l.Y36(a8,8),l.Y36(xm),l.Y36(Cb),l.Y36(vA,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&l.Gf(SR,7),2&t){let i;l.iGM(i=l.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:gA,useFactory:(e,t)=>e||t,deps:[[new l.FiY,new l.tBr(vA)],n]}]),l.qOj,l.jDz],ngContentSelectors:xR,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(3),l.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),_A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),yA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[yb,_A,PR,yb,_A]}),n})();class bb{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Eb extends bb{constructor(e,t,r,i,a){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=a}}class CA extends bb{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class zR extends bb{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class wb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Eb?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof CA?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof zR?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class FR extends wb{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const f=u.element,v=this._document.createComment("dom-portal");f.parentNode.insertBefore(v,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(f,v)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let bA=(()=>{class n extends wb{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(a,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(X))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),Mb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const EA=XI();class VR{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=wi(-this._previousScrollPosition.left),e.style.top=wi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),EA&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),EA&&(r.scrollBehavior=a,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class HR{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class wA{enable(){}disable(){}attach(){}}function Db(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function MA(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class BR{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Db(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let UR=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new wA,this.close=u=>new HR(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new VR(this._viewportRuler,this._document),this.reposition=u=>new BR(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xm),l.LFG(Cb),l.LFG(l.R0b),l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DA{constructor(e){if(this.scrollStrategy=new wA,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class jR{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let IA=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$R=(()=>{class n extends IA{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GR=(()=>{class n extends IA{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=d6(a)},this._clickListener=a=>{const u=d6(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let E=v.length-1;E>-1;E--){const I=v[E];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(f))break;const N=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>N.next(a)):N.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X),l.LFG(na),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ib=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||JI()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),JI()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X),l.LFG(na))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ab{constructor(e,t,r,i,a,u,f,v,E,I=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=v,this._outsideClickDispatcher=E,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new Ln.x,this._attachments=new Ln.x,this._detachments=new Ln.x,this._locationChanges=k1.w0.EMPTY,this._backdropClickHandler=N=>this._backdropClick.next(N),this._backdropTransitionendHandler=N=>{this._disposeBackdrop(N.target)},this._keydownEvents=new Ln.x,this._outsidePointerEvents=new Ln.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,pi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=wi(this._config.width),e.height=wi(this._config.height),e.minWidth=wi(this._config.minWidth),e.minHeight=wi(this._config.minHeight),e.maxWidth=wi(this._config.maxWidth),e.maxHeight=wi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=wm(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,ks.R)((0,r0.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const AA="cdk-overlay-connected-position-bounding-box",WR=/([A-Za-z%]+)$/;class qR{get positions(){return this._preferredPositions}constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ln.x,this._resizeSubscription=k1.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(AA),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let v=this._getOriginPoint(e,i,f),E=this._getOverlayPoint(v,t,f),I=this._getOverlayFit(E,t,r,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,v);this._canFitWithFlexibleDimensions(I,E,r)?a.push({position:f,origin:v,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(v,f)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:E,originPoint:v,position:f,overlayRect:t})}if(a.length){let f=null,v=-1;for(const E of a){const I=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);I>v&&(v=I,f=E)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&h6(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(AA),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?u:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=xA(t);let{x:u,y:f}=e,v=this._getOffset(i,"x"),E=this._getOffset(i,"y");v&&(u+=v),E&&(f+=E);let j=0-f,re=f+a.height-r.height,ie=this._subtractOverflows(a.width,0-u,u+a.width-r.width),Te=this._subtractOverflows(a.height,j,re),ye=ie*Te;return{visibleArea:ye,isCompletelyWithinViewport:a.width*a.height===ye,fitsInViewportVertically:Te===a.height,fitsInViewportHorizontally:ie==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,u=SA(this._overlayRef.getConfig().minHeight),f=SA(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=i)&&(e.fitsInViewportHorizontally||null!=f&&f<=a)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=xA(t),a=this._viewportRect,u=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),v=Math.max(a.top-r.top-e.y,0),E=Math.max(a.left-r.left-e.x,0);let I=0,N=0;return I=i.width<=a.width?E||-u:e.x<this._viewportMargin?a.left-r.left-e.x:0,N=i.height<=a.height?v||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:I,y:N},{x:e.x+I,y:e.y+N}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new jR(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,u,f,I,N,j;if("top"===t.overlayY)u=e.y,a=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const re=Math.min(r.bottom-e.y+r.top,e.y),ie=this._lastBoundingBoxSize.height;a=2*re,u=e.y-re,a>ie&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-ie/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)j=r.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)N=e.x,I=r.right-e.x;else{const re=Math.min(r.right-e.x+r.left,e.x),ie=this._lastBoundingBoxSize.width;I=2*re,N=e.x-re,I>ie&&!this._isInitialRender&&!this._growAfterOpen&&(N=e.x-ie/2)}return{top:u,left:N,bottom:f,right:j,width:I,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=wi(r.height),i.top=wi(r.top),i.bottom=wi(r.bottom),i.width=wi(r.width),i.left=wi(r.left),i.right=wi(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=wi(a)),u&&(i.maxWidth=wi(u))}this._lastBoundingBoxSize=r,h6(this._boundingBox.style,i)}_resetBoundingBoxStyles(){h6(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){h6(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const I=this._viewportRuler.getViewportScrollPosition();h6(r,this._getExactOverlayY(t,e,I)),h6(r,this._getExactOverlayX(t,e,I))}else r.position="static";let f="",v=this._getOffset(t,"x"),E=this._getOffset(t,"y");v&&(f+=`translateX(${v}px) `),E&&(f+=`translateY(${E}px)`),r.transform=f.trim(),u.maxHeight&&(i?r.maxHeight=wi(u.maxHeight):a&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=wi(u.maxWidth):a&&(r.maxWidth="")),h6(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=wi(a.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=wi(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:MA(e,r),isOriginOutsideView:Db(e,r),isOverlayClipped:MA(t,r),isOverlayOutsideView:Db(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&wm(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function h6(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function SA(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(WR);return t&&"px"!==t?null:parseFloat(e)}return n||null}function xA(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const TA="cdk-global-overlay-wrapper";class ZR{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TA),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:u,maxHeight:f}=r,v=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),E=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),I=this._xPosition,N=this._xOffset,j="rtl"===this._overlayRef.getConfig().direction;let re="",ie="",Te="";v?Te="flex-start":"center"===I?(Te="center",j?ie=N:re=N):j?"left"===I||"end"===I?(Te="flex-end",re=N):("right"===I||"start"===I)&&(Te="flex-start",ie=N):"left"===I||"start"===I?(Te="flex-start",re=N):("right"===I||"end"===I)&&(Te="flex-end",ie=N),e.position=this._cssPosition,e.marginLeft=v?"0":re,e.marginTop=E?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=v?"0":ie,t.justifyContent=Te,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(TA),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let KR=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new ZR}flexibleConnectedTo(t){return new qR(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cb),l.LFG(X),l.LFG(na),l.LFG(Ib))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YR=0,Tm=(()=>{class n{constructor(t,r,i,a,u,f,v,E,I,N,j,re){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=v,this._document=E,this._directionality=I,this._location=N,this._outsideClickDispatcher=j,this._animationsModuleType=re}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),u=new DA(t);return u.direction=u.direction||this._directionality.value,new Ab(a,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+YR++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new FR(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UR),l.LFG(Ib),l.LFG(l._Vd),l.LFG(KR),l.LFG($R),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(X),l.LFG(a8),l.LFG(Ne),l.LFG(GR),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JR={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Tm],useFactory:function XR(n){return()=>n.scrollStrategies.reposition()}};let ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Tm,JR],imports:[yb,Mb,yA,yA]}),n})();function tk(n,e){}class Sb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let nk=(()=>{class n extends wb{constructor(t,r,i,a,u,f,v,E){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=a,this._interactivityChecker=u,this._ngZone=f,this._overlayRef=v,this._focusMonitor=E,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=I=>{this._portalOutlet.hasAttached();const N=this._portalOutlet.attachDomPortal(I);return this._contentAttached(),N},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=mb(),a=this._elementRef.nativeElement;(!i||i===this._document.body||i===a||a.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=mb();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=mb())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(WO),l.Y36(X,8),l.Y36(Sb),l.Y36(oA),l.Y36(l.R0b),l.Y36(Ab),l.Y36(eR))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&l.Gf(bA,7),2&t){let i;l.iGM(i=l.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&l.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&l.YNc(0,tk,0,0,"ng-template",0)},dependencies:[bA],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class c8{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ln.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!function MO(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const NA=new l.OlP("DialogScrollStrategy"),rk=new l.OlP("DialogData"),ik=new l.OlP("DefaultDialogConfig"),ok={provide:NA,deps:[Tm],useFactory:function sk(n){return()=>n.scrollStrategies.block()}};let ak=0,xb=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,a,u,f){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ln.x,this._afterOpenedAtThisLevel=new Ln.x,this._ariaHiddenElements=new Map,this.afterAllClosed=t1(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(n1(void 0))),this._scrollStrategy=f}open(t,r){(r={...this._defaultOptions||new Sb,...r}).id=r.id||"cdk-dialog-"+ak++,r.id&&this.getDialogById(r.id);const a=this._getOverlayConfig(r),u=this._overlay.create(a),f=new c8(u,r),v=this._attachContainer(u,f,r);return f.containerInstance=v,this._attachDialogContent(t,f,v,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){Tb(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){Tb(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),Tb(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new DA({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const a=i.injector||i.viewContainerRef?.injector,u=[{provide:Sb,useValue:i},{provide:c8,useValue:r},{provide:Ab,useValue:t}];let f;i.container?"function"==typeof i.container?f=i.container:(f=i.container.type,u.push(...i.container.providers(i))):f=nk;const v=new Eb(f,i.viewContainerRef,l.zs3.create({parent:a||this._injector,providers:u}),i.componentFactoryResolver);return t.attach(v).instance}_attachDialogContent(t,r,i,a){if(t instanceof l.Rgc){const u=this._createInjector(a,r,i,void 0);let f={$implicit:a.data,dialogRef:r};a.templateContext&&(f={...f,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),i.attachTemplatePortal(new CA(t,null,f,u))}else{const u=this._createInjector(a,r,i,this._injector),f=i.attachComponentPortal(new Eb(t,a.viewContainerRef,u,a.componentFactoryResolver));r.componentInstance=f.instance}}_createInjector(t,r,i,a){const u=t.injector||t.viewContainerRef?.injector,f=[{provide:rk,useValue:t.data},{provide:c8,useValue:r}];return t.providers&&("function"==typeof t.providers?f.push(...t.providers(r,t,i)):f.push(...t.providers)),t.direction&&(!u||!u.get(a8,null,{optional:!0}))&&f.push({provide:a8,useValue:{value:t.direction,change:(0,it.of)()}}),l.zs3.create({parent:u||a,providers:f})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,u)=>{a?u.setAttribute("aria-hidden",a):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tm),l.LFG(l.zs3),l.LFG(ik,8),l.LFG(n,12),l.LFG(Ib),l.LFG(NA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Tb(n,e){let t=n.length;for(;t--;)e(n[t])}let ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[xb,ok],imports:[ek,Mb,nR,Mb]}),n})();var Nb={prefix:"fas",iconName:"save",icon:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"]},Lb={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},Ob={prefix:"fas",iconName:"undo",icon:[512,512,[],"f0e2","M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"]};function f5(n){return(f5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function LA(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function FJ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){FJ(n,i,t[i])})}return n}function Rb(n,e){return function HJ(n){if(Array.isArray(n))return n}(n)||function UJ(n,e){var t=[],r=!0,i=!1,a=void 0;try{for(var f,u=n[Symbol.iterator]();!(r=(f=u.next()).done)&&(t.push(f.value),!e||t.length!==e);r=!0);}catch(v){i=!0,a=v}finally{try{!r&&null!=u.return&&u.return()}finally{if(i)throw a}}return t}(n,e)||function $J(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Pb={},RA={};try{typeof window<"u"&&(Pb=window),typeof document<"u"&&(RA=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var zA=(Pb.navigator||{}).userAgent,FA=void 0===zA?"":zA,l8=Pb,Mi=RA,vc=!!Mi.documentElement&&!!Mi.head&&"function"==typeof Mi.addEventListener&&"function"==typeof Mi.createElement,_c=(~FA.indexOf("MSIE")||FA.indexOf("Trident/"),"___FONT_AWESOME___"),UA="svg-inline--fa",WA=[1,2,3,4,5,6,7,8,9,10],tee=WA.concat([11,12,13,14,15,16,17,18,19,20]),f6={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},qA=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",f6.GROUP,f6.SWAP_OPACITY,f6.PRIMARY,f6.SECONDARY].concat(WA.map(function(n){return"".concat(n,"x")})).concat(tee.map(function(n){return"w-".concat(n)})),l8.FontAwesomeConfig||{});Mi&&"function"==typeof Mi.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=Rb(n,2),r=e[1],i=function see(n){return""===n||"false"!==n&&("true"===n||n)}(function iee(n){var e=Mi.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(qA[r]=i)});var Vb=bn({},{familyPrefix:"fa",replacementClass:UA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},qA);Vb.autoReplaceSvg||(Vb.observeMutations=!1);var sn=bn({},Vb);l8.FontAwesomeConfig=sn;var yc=l8||{};yc[_c]||(yc[_c]={}),yc[_c].styles||(yc[_c].styles={}),yc[_c].hooks||(yc[_c].hooks={}),yc[_c].shims||(yc[_c].shims=[]);var ra=yc[_c],ZA=[];vc&&((Mi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Mi.readyState)||Mi.addEventListener("DOMContentLoaded",function n(){Mi.removeEventListener("DOMContentLoaded",n),ZA.map(function(e){return e()})}));var Bb,Hb="pending",KA="settled",Om="fulfilled",Rm="rejected",uee=function(){},YA=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,dee=typeof setImmediate>"u"?setTimeout:setImmediate,p5=[];function hee(){for(var n=0;n<p5.length;n++)p5[n][0](p5[n][1]);p5=[],Bb=!1}function km(n,e){p5.push([n,e]),Bb||(Bb=!0,dee(hee,0))}function QA(n){var e=n.owner,t=e._state,r=e._data,i=n[t],a=n.then;if("function"==typeof i){t=Om;try{r=i(r)}catch(u){m5(a,u)}}XA(a,r)||(t===Om&&Ub(a,r),t===Rm&&m5(a,r))}function XA(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===f5(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(i){t||(t=!0,e===i?JA(n,i):Ub(n,i))},function(i){t||(t=!0,m5(n,i))}),!0}}catch(i){return t||m5(n,i),!0}return!1}function Ub(n,e){(n===e||!XA(n,e))&&JA(n,e)}function JA(n,e){n._state===Hb&&(n._state=KA,n._data=e,km(pee,n))}function m5(n,e){n._state===Hb&&(n._state=KA,n._data=e,km(mee,n))}function eS(n){n._then=n._then.forEach(QA)}function pee(n){n._state=Om,eS(n)}function mee(n){n._state=Rm,eS(n),!n._handled&&YA&&global.process.emit("unhandledRejection",n._data,n)}function gee(n){global.process.emit("rejectionHandled",n)}function Vo(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Vo))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function fee(n,e){function r(i){m5(e,i)}try{n(function t(i){Ub(e,i)},r)}catch(i){r(i)}}(n,this)}Vo.prototype={constructor:Vo,_state:Hb,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(uee),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===Rm&&YA&&km(gee,this)),this._state===Om||this._state===Rm?km(QA,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},Vo.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Vo(function(e,t){var r=[],i=0;function a(v){return i++,function(E){r[v]=E,--i||e(r)}}for(var f,u=0;u<n.length;u++)(f=n[u])&&"function"==typeof f.then?f.then(a(u),t):r[u]=f;i||e(r)})},Vo.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Vo(function(e,t){for(var i,r=0;r<n.length;r++)(i=n[r])&&"function"==typeof i.then?i.then(e,t):e(i)})},Vo.resolve=function(n){return n&&"object"===f5(n)&&n.constructor===Vo?n:new Vo(function(e){e(n)})},Vo.reject=function(n){return new Vo(function(e,t){t(n)})};var Cc={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function g5(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function nS(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Pm(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function $b(n){return n.size!==Cc.size||n.x!==Cc.x||n.y!==Cc.y||n.rotate!==Cc.rotate||n.flipX||n.flipY}function rS(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(u," ").concat(f)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var Gb={x:0,y:0,width:"100%",height:"100%"};function iS(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function Eee(n){return"g"===n.tag?n.children:[n]}function Wb(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,a=n.iconName,u=n.transform,f=n.symbol,v=n.title,E=n.maskId,I=n.titleId,N=n.extra,j=n.watchable,re=void 0!==j&&j,ie=r.found?r:t,Te=ie.width,ye=ie.height,Le="fak"===i,He=Le?"":"fa-w-".concat(Math.ceil(Te/ye*16)),Re=[sn.replacementClass,a?"".concat(sn.familyPrefix,"-").concat(a):"",He].filter(function(C8){return-1===N.classes.indexOf(C8)}).filter(function(C8){return""!==C8||!!C8}).concat(N.classes).join(" "),qe={children:[],attributes:bn({},N.attributes,{"data-prefix":i,"data-icon":a,class:Re,role:N.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Te," ").concat(ye)})},rt=Le&&!~N.classes.indexOf("fa-fw")?{width:"".concat(Te/ye*16*.0625,"em")}:{};re&&(qe.attributes["data-fa-i2svg"]=""),v&&qe.children.push({tag:"title",attributes:{id:qe.attributes["aria-labelledby"]||"title-".concat(I||g5())},children:[v]});var dt=bn({},qe,{prefix:i,iconName:a,main:t,mask:r,maskId:E,transform:u,symbol:f,styles:bn({},rt,N.styles)}),ln=r.found&&t.found?function wee(n){var e=n.children,t=n.attributes,r=n.main,i=n.mask,a=n.maskId,v=r.icon,I=i.icon,N=rS({transform:n.transform,containerWidth:i.width,iconWidth:r.width}),j={tag:"rect",attributes:bn({},Gb,{fill:"white"})},re=v.children?{children:v.children.map(iS)}:{},ie={tag:"g",attributes:bn({},N.inner),children:[iS(bn({tag:v.tag,attributes:bn({},v.attributes,N.path)},re))]},Te={tag:"g",attributes:bn({},N.outer),children:[ie]},ye="mask-".concat(a||g5()),Le="clip-".concat(a||g5()),He={tag:"mask",attributes:bn({},Gb,{id:ye,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[j,Te]},Re={tag:"defs",children:[{tag:"clipPath",attributes:{id:Le},children:Eee(I)},He]};return e.push(Re,{tag:"rect",attributes:bn({fill:"currentColor","clip-path":"url(#".concat(Le,")"),mask:"url(#".concat(ye,")")},Gb)}),{children:e,attributes:t}}(dt):function Mee(n){var e=n.children,t=n.attributes,r=n.main,i=n.transform,u=Pm(n.styles);if(u.length>0&&(t.style=u),$b(i)){var f=rS({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:bn({},f.outer),children:[{tag:"g",attributes:bn({},f.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:bn({},r.icon.attributes,f.path)}]}]})}else e.push(r.icon);return{children:e,attributes:t}}(dt),wc=ln.attributes;return dt.children=ln.children,dt.attributes=wc,f?function Iee(n){var t=n.iconName,r=n.children,a=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:bn({},n.attributes,{id:!0===a?"".concat(n.prefix,"-").concat(sn.familyPrefix,"-").concat(t):a}),children:r}]}]}(dt):function Dee(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,a=n.styles,u=n.transform;if($b(u)&&t.found&&!r.found){var E={x:t.width/t.height/2,y:.5};i.style=Pm(bn({},a,{"transform-origin":"".concat(E.x+u.x/16,"em ").concat(E.y+u.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(dt)}var Kb=function(e,t,r,i){var v,E,I,a=Object.keys(e),u=a.length,f=void 0!==i?function(e,t){return function(r,i,a,u){return e.call(t,r,i,a,u)}}(t,i):t;for(void 0===r?(v=1,I=e[a[0]]):(v=0,I=r);v<u;v++)I=f(I,e[E=a[v]],E,e);return I};function lS(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,a=Object.keys(e).reduce(function(u,f){var v=e[f];return v.icon?u[v.iconName]=v.icon:u[f]=v,u},{});"function"!=typeof ra.hooks.addPack||i?ra.styles[n]=bn({},ra.styles[n]||{},a):ra.hooks.addPack(n,a),"fas"===n&&lS("fa",e)}var uS=ra.styles,Tee=ra.shims,pS=function(){var e=function(i){return Kb(uS,function(a,u,f){return a[f]=Kb(u,i,{}),a},{})};e(function(r,i,a){return i[3]&&(r[i[3]]=a),r}),e(function(r,i,a){var u=i[2];return r[a]=a,u.forEach(function(f){r[f]=a}),r});var t="far"in uS;Kb(Tee,function(r,i){var u=i[1];return"far"===u&&!t&&(u="fas"),r[i[0]]={prefix:u,iconName:i[2]},r},{})};function gS(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function h8(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,a=void 0===i?[]:i;return"string"==typeof n?nS(n):"<".concat(e," ").concat(function Cee(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(nS(n[t]),'" ')},"").trim()}(r),">").concat(a.map(h8).join(""),"</").concat(e,">")}pS();function _5(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(_5.prototype=Object.create(Error.prototype)).constructor=_5;var Vm={fill:"currentColor"},ES={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Jb=(bn({},Vm,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),bn({},ES,{attributeName:"opacity"}));function tE(n){var e=n[0],t=n[1],a=Rb(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(sn.familyPrefix,"-").concat(f6.GROUP)},children:[{tag:"path",attributes:{class:"".concat(sn.familyPrefix,"-").concat(f6.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(sn.familyPrefix,"-").concat(f6.PRIMARY),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}bn({},Vm,{cx:"256",cy:"364",r:"28"}),bn({},ES,{attributeName:"r",values:"28;14;28;28;14;28;"}),bn({},Jb,{values:"1;0;1;1;0;1;"}),bn({},Vm,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),bn({},Jb,{values:"1;0;0;0;0;1;"}),bn({},Vm,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),bn({},Jb,{values:"0;0;1;1;0;0;"});var ste=function(){function n(){(function PJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function zJ(n,e,t){e&&LA(n.prototype,e),t&&LA(n,t)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var u=i.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(f){t.definitions[f]=bn({},t.definitions[f]||{},u[f]),lS(f,u[f]),pS()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var u=i[a],f=u.prefix,v=u.iconName,E=u.icon;t[f]||(t[f]={}),t[f][v]=E}),t}}]),n}();function y5(){sn.autoAddCss&&!Bm&&(function tS(n){if(n&&vc){var e=Mi.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Mi.head.childNodes,r=null,i=t.length-1;i>-1;i--){var a=t[i],u=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=a)}return Mi.head.insertBefore(e,r),n}}(function rE(){var n="fa",e=UA,t=sn.familyPrefix,r=sn.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==n||r!==e){var a=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");i=i.replace(a,".".concat(t,"-")).replace(u,"--".concat(t,"-")).replace(f,".".concat(r))}return i}()),Bm=!0)}function Hm(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return h8(r)})}}),Object.defineProperty(n,"node",{get:function(){if(vc){var r=Mi.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function iE(n){var e=n.prefix,t=void 0===e?"fa":e,r=n.iconName;if(r)return gS(AS.definitions,t,r)||gS(ra.styles,t,r)}var AS=new ste,Bm=!1,SS_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),u=a[0],f=a.slice(1).join("-");if(u&&"h"===f)return r.flipX=!0,r;if(u&&"v"===f)return r.flipY=!0,r;if(f=parseFloat(f),isNaN(f))return r;switch(u){case"grow":r.size=r.size+f;break;case"shrink":r.size=r.size-f;break;case"left":r.x=r.x-f;break;case"right":r.x=r.x+f;break;case"up":r.y=r.y-f;break;case"down":r.y=r.y+f;break;case"rotate":r.rotate=r.rotate+f}return r},t):t}(e)},xS=function ote(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:iE(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:iE(i||{})),n(r,bn({},t,{mask:i}))}}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,r=void 0===t?Cc:t,i=e.symbol,a=void 0!==i&&i,u=e.mask,f=void 0===u?null:u,v=e.maskId,E=void 0===v?null:v,I=e.title,N=void 0===I?null:I,j=e.titleId,re=void 0===j?null:j,ie=e.classes,Te=void 0===ie?[]:ie,ye=e.attributes,Le=void 0===ye?{}:ye,He=e.styles,Re=void 0===He?{}:He;if(n){var qe=n.prefix,rt=n.iconName,dt=n.icon;return Hm(bn({type:"icon"},n),function(){return y5(),sn.autoA11y&&(N?Le["aria-labelledby"]="".concat(sn.replacementClass,"-title-").concat(re||g5()):(Le["aria-hidden"]="true",Le.focusable="false")),Wb({icons:{main:tE(dt),mask:f?tE(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:qe,iconName:rt,transform:bn({},Cc,r),symbol:a,title:N,maskId:E,titleId:re,extra:{attributes:Le,styles:Re,classes:Te}})})}});const pte=["*"],vte=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let Cte=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bte=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t)r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ete=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[l.TTD]}),n})(),wte=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[l.TTD],ngContentSelectors:pte,decls:1,vars:0,template:function(t,r){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2}),n})(),Um=(()=>{class n{constructor(t,r,i,a,u){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=u&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,t){const i=this.findIconDefinition(r);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?SS_transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...vte(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=xS(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ao),l.Y36(Cte),l.Y36(bte),l.Y36(Ete,8),l.Y36(wte,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(l.Ikx("innerHTML",r.renderedIconHTML,l.oJD),l.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[l.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),Mte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Dte(n,e){1&n&&(l.TgZ(0,"div",3)(1,"div",4),l._uU(2,"Loading..."),l.qZA()())}function Ite(n,e){1&n&&(l.TgZ(0,"div",3)(1,"div",4),l._uU(2,"There are no budgets."),l.qZA()())}const Ate=function(n,e){return{"border-left-color":n,"box-shadow":e}};function Ste(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",7),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw(3);return l.KtG(u.selected.emit(a))}),l.TgZ(1,"div",8)(2,"p",9),l._uU(3),l.qZA(),l.TgZ(4,"p",10),l._uU(5),l.ALo(6,"currency"),l.qZA()(),l.TgZ(7,"button",11),l.NdJ("click",function(i){const u=l.CHM(t).$implicit;return l.oxw(3).deleted.emit({id:u.id,name:u.name}),l.KtG(i.stopImmediatePropagation())}),l._UZ(8,"fa-icon",12),l._uU(9," Delete "),l.qZA()()}if(2&n){const t=e.$implicit,r=l.oxw(3);l.Q6J("ngStyle",l.WLB(7,Ate,t.color,t.id===r.currentId?"0 0 0 0.1rem "+t.color:"none")),l.xp6(3),l.hij(" ",t.name," "),l.xp6(2),l.hij(" Budget: ",l.xi3(6,4,t.value,"USD")," "),l.xp6(3),l.Q6J("icon",r.faTrash)}}function xte(n,e){if(1&n&&(l.TgZ(0,"ul",3),l.YNc(1,Ste,10,10,"li",6),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",t.budgets)("ngForTrackBy",t.budgetTrackBy)}}function Tte(n,e){if(1&n&&(l.ynx(0),l.YNc(1,xte,2,2,"ul",5),l.BQk()),2&n){const t=l.oxw(),r=l.MAs(3);l.xp6(1),l.Q6J("ngIf",t.budgets.length)("ngIfElse",r)}}class C5{constructor(){this.faTrash=Lb,this.selected=new l.vpe,this.deleted=new l.vpe}budgetTrackBy(e,t){return t.id}}C5.\u0275fac=function(e){return new(e||C5)},C5.\u0275cmp=l.Xpm({type:C5,selectors:[["app-budgets-list"]],inputs:{budgets:"budgets",currentId:"currentId"},outputs:{selected:"selected",deleted:"deleted"},decls:5,vars:2,consts:[["loading",""],["empty",""],[4,"ngIf","ngIfElse"],[1,"budgets"],[1,"alert","alert-info"],["class","budgets",4,"ngIf","ngIfElse"],["class","budgets-item",3,"ngStyle","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"budgets-item",3,"ngStyle","click"],[1,"budgets-item-details"],[1,"budgets-item-name"],[1,"budgets-item-value"],["type","button",1,"btn","btn-icon","btn-danger","budgets-item-delete",3,"click"],[3,"icon"]],template:function(e,t){if(1&e&&(l.YNc(0,Dte,3,0,"ng-template",null,0,l.W1O),l.YNc(2,Ite,3,0,"ng-template",null,1,l.W1O),l.YNc(4,Tte,2,2,"ng-container",2)),2&e){const r=l.MAs(1);l.xp6(4),l.Q6J("ngIf",t.budgets)("ngIfElse",r)}},dependencies:[Br,_n,B,Um,o2],styles:["[_nghost-%COMP%]{flex:1;order:1;margin-top:2rem}@media (min-width: 768px){[_nghost-%COMP%]{margin-top:0;order:0}}.budgets[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}@media (min-width: 768px){.budgets[_ngcontent-%COMP%]{margin:0 2rem 0 0}}.budgets-item[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1rem;display:flex;align-items:center;justify-content:space-between;border-radius:.375rem;cursor:pointer;transition:.15s ease;border-left:.5rem solid transparent}.budgets-item[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.budgets-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.budgets-item-name[_ngcontent-%COMP%]{margin:0;font-weight:700;color:#495057}.budgets-item-value[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#6c757d}.budgets-item-delete[_ngcontent-%COMP%]{padding:.5rem}"],changeDetection:0});class b5{constructor(){this.faSave=Nb,this.faUndo=Ob,this.saved=new l.vpe,this.reseted=new l.vpe}}b5.\u0275fac=function(e){return new(e||b5)},b5.\u0275cmp=l.Xpm({type:b5,selectors:[["app-budget-details"]],inputs:{form:"form",formState:"formState"},outputs:{saved:"saved",reseted:"reseted"},decls:21,vars:5,consts:[[1,"budgets-form",3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],[1,"budgets-form-item"],["for","name",1,"budgets-form-label"],["type","text","name","name","formControlName","name",1,"budgets-form-input","form-control"],["for","color",1,"budgets-form-label"],["type","color","name","color","formControlName","color","required","",1,"budgets-form-input","form-control","form-control-color"],["for","value",1,"budgets-form-label"],["type","text","name","value","formControlName","value",1,"budgets-form-input","form-control"],[1,"budgets-form-buttons"],["type","submit",1,"budgets-form-button","btn","btn-primary",3,"disabled"],[3,"icon"],["type","button",1,"budgets-form-button","btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"form",0),l.NdJ("ngSubmit",function(){return t.saved.emit()}),l._UZ(1,"input",1),l.TgZ(2,"div",2)(3,"label",3),l._uU(4,"Name"),l.qZA(),l._UZ(5,"input",4),l.qZA(),l.TgZ(6,"div",2)(7,"label",5),l._uU(8,"Color"),l.qZA(),l._UZ(9,"input",6),l.qZA(),l.TgZ(10,"div",2)(11,"label",7),l._uU(12,"Limit"),l.qZA(),l._UZ(13,"input",8),l.qZA(),l.TgZ(14,"div",9)(15,"button",10),l._UZ(16,"fa-icon",11),l._uU(17),l.qZA(),l.TgZ(18,"button",12),l.NdJ("click",function(){return t.reseted.emit()}),l._UZ(19,"fa-icon",11),l._uU(20," Reset "),l.qZA()()()),2&e&&(l.Q6J("formGroup",t.form),l.xp6(15),l.Q6J("disabled",t.form.invalid),l.xp6(1),l.Q6J("icon",t.faSave),l.xp6(1),l.hij(" ",t.formState," "),l.xp6(2),l.Q6J("icon",t.faUndo))},dependencies:[vl,za,Y2,j4,t0,Z1,yl,Um],styles:["[_nghost-%COMP%]{flex:1;padding:2rem;border:2px solid #e9ecef;border-radius:.375rem}@media (min-width: 768px){[_nghost-%COMP%]{position:sticky;top:2rem}}.budgets-form-item[_ngcontent-%COMP%]{margin-bottom:1rem}.budgets-form-label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;font-size:.9rem;display:block;color:#495057}.budgets-form-buttons[_ngcontent-%COMP%]{display:flex}.budgets-form-buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}"],changeDetection:0});const Nte=["dialogTemplate"];function Lte(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6)(1,"p",7),l._uU(2),l.qZA(),l.TgZ(3,"div",8)(4,"button",9),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.dialogRef.close(!1))}),l._uU(5," Cancel "),l.qZA(),l.TgZ(6,"button",10),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.dialogRef.close(!0))}),l._uU(7),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.text),l.xp6(5),l.hij(" ",t.buttonText," ")}}class E5{constructor(e,t,r,i,a,u){this.store=e,this.budgetsService=t,this.notificationService=r,this.formBuilder=i,this.dialog=a,this.dialogRef=u,this.budgets$=this.store.select(l_),this.emptyBudget={id:"",name:"",color:"#333333",value:0},this.currentId=this.emptyBudget.id,this.form=this.formBuilder.group({id:[this.emptyBudget.id],name:[this.emptyBudget.name,os.required],color:[this.emptyBudget.color,os.required],value:[this.emptyBudget.value,[os.required,os.min(1),os.pattern(/^[0-9]\d*$/)]]}),this.formState=Y1.Create,this._unsubscribeSub$=new Ln.x}ngOnInit(){}ngOnDestroy(){this._unsubscribeSub$.next(),this._unsubscribeSub$.complete()}setCurrentId(e){""!==e.id?this.currentId!==e.id?(this.form.patchValue({...e}),this.currentId=e.id,this.setFormState(Y1.Save)):this.reset():this.currentId=e.id}save(){const e=this.form.value;e.id?this.update(e):this.create(e)}create(e){this.budgetsService.create(e).pipe((0,ks.R)(this._unsubscribeSub$),(0,mi.K)(t=>(this.showGeneralError(t),(0,it.of)("error")))).subscribe(()=>{this.notificationService.show(`Budget "${e.name}" added.`),this.reset()})}update(e){this.budgetsService.update(e).pipe((0,ks.R)(this._unsubscribeSub$),(0,mi.K)(t=>(this.showGeneralError(t),(0,it.of)("error")))).subscribe(()=>{this.notificationService.show(`Budget "${e.name}" updated.`),this.reset()})}delete({id:e,name:t}){this.dialogRef=this.dialog.open(this.dialogTemplate,{data:{text:`Are you sure you want to delete ${t} budget?`,buttonText:"Delete"}}),this.dialogRef.closed.pipe((0,ks.R)(this._unsubscribeSub$),(0,vn.w)(r=>r?this.budgetsService.delete(e):is.E),(0,mi.K)(r=>(this.showGeneralError(r),(0,it.of)("error")))).subscribe(()=>{this.notificationService.show(`Budget "${t}" deleted.`),this.currentId===e&&this.reset()})}loadSampleData(){this.dialogRef=this.dialog.open(this.dialogTemplate,{data:{text:"Are you sure you want to load sample data? All your data will be replaced.",buttonText:"Load sample data"}}),this.dialogRef.closed.pipe((0,ks.R)(this._unsubscribeSub$),(0,vn.w)(e=>e?this.budgetsService.loadSampleData():is.E),(0,mi.K)(e=>(this.showGeneralError(e),(0,it.of)("error")))).subscribe(()=>{this.notificationService.show("Sample data loaded."),this.reset()})}reset(){this.setCurrentId(this.emptyBudget),this.form.reset(this.emptyBudget),this.setFormState(Y1.Create)}setFormState(e){this.formState=e}showGeneralError(e){this.notificationService.show("An error occured","danger"),console.error(e)}}function Ote(n,e){1&n&&(l.TgZ(0,"div",3)(1,"div",4),l._uU(2,"Loading..."),l.qZA()())}function Rte(n,e){1&n&&(l.TgZ(0,"div",3)(1,"div",4),l._uU(2,"There are no expenses."),l.qZA()())}function kte(n,e){1&n&&(l.TgZ(0,"div",4),l._uU(1,"No expenses."),l.qZA())}function Pte(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw().$implicit;return l.oxw(5).deleted.emit({expenseId:a.id,expenseName:a.name}),l.KtG(i.stopImmediatePropagation())}),l._UZ(1,"fa-icon",22),l._uU(2," Delete "),l.qZA()}if(2&n){const t=l.oxw(6);l.xp6(1),l.Q6J("icon",t.faTrash)}}E5.\u0275fac=function(e){return new(e||E5)(l.Y36(jn.yh),l.Y36(r2),l.Y36(p1),l.Y36(ih),l.Y36(xb),l.Y36(c8))},E5.\u0275cmp=l.Xpm({type:E5,selectors:[["app-budgets"]],viewQuery:function(e,t){if(1&e&&l.Gf(Nte,5),2&e){let r;l.iGM(r=l.CRH())&&(t.dialogTemplate=r.first)}},decls:9,vars:6,consts:[[1,"load-sample-data-wrapper"],["type","button",1,"btn","btn-primary","load-sample-data",3,"click"],[1,"budgets-container"],[3,"budgets","currentId","selected","deleted"],[3,"formState","form","saved","reseted"],["dialogTemplate",""],[1,"dialog-content"],[1,"dialog-content-message"],[1,"dialog-buttons"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(){return t.loadSampleData()}),l._uU(2," Load sample data "),l.qZA()(),l.TgZ(3,"div",2)(4,"app-budgets-list",3),l.NdJ("selected",function(i){return t.setCurrentId(i)})("deleted",function(i){return t.delete(i)}),l.ALo(5,"async"),l.qZA(),l.TgZ(6,"app-budget-details",4),l.NdJ("saved",function(){return t.save()})("reseted",function(){return t.reset()}),l.qZA()(),l.YNc(7,Lte,8,2,"ng-template",null,5,l.W1O)),2&e&&(l.xp6(4),l.Q6J("budgets",l.lcZ(5,4,t.budgets$))("currentId",t.currentId),l.xp6(2),l.Q6J("formState",t.formState)("form",t.form))},dependencies:[C5,b5,fn],styles:[".budgets-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 768px){.budgets-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}}"],changeDetection:0});const zte=function(n,e){return{"expenses-item-select":n,active:e}};function Fte(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",16),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw(2).$implicit,f=l.oxw(3);return l.KtG("static"!==f.mode&&f.selected.emit({expense:a,budgetId:u.id}))}),l.TgZ(1,"div")(2,"p",17),l._uU(3),l.qZA(),l.TgZ(4,"p",18),l._uU(5),l.ALo(6,"currency"),l.qZA(),l.TgZ(7,"p",19),l._uU(8),l.qZA(),l.TgZ(9,"p",19),l._uU(10),l.ALo(11,"currency"),l.qZA()(),l.YNc(12,Pte,3,1,"button",20),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw(5);l.Q6J("ngClass",l.WLB(12,zte,"static"!==r.mode,"static"!==r.mode&&t.id===r.currentId)),l.xp6(3),l.Oqu(t.name),l.xp6(2),l.hij(" price: ",l.xi3(6,6,t.price,"USD")," "),l.xp6(3),l.hij("amount: ",t.amount,""),l.xp6(2),l.hij(" total: ",l.xi3(11,9,t.price*t.amount,"USD")," "),l.xp6(2),l.Q6J("ngIf","static"!==r.mode)}}function Vte(n,e){if(1&n&&(l.TgZ(0,"ul",14),l.YNc(1,Fte,13,15,"li",15),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",t.expenses)("ngForTrackBy",r.expenseTrackBy)}}const Hte=function(n){return{"border-left-color":n}};function Bte(n,e){if(1&n&&(l.ynx(0),l.TgZ(1,"li",8)(2,"p",9)(3,"span",10),l._uU(4),l.qZA(),l.TgZ(5,"span",11),l._uU(6),l.ALo(7,"currency"),l.qZA()(),l.YNc(8,kte,2,0,"ng-template",null,12,l.W1O),l.YNc(10,Vte,2,2,"ul",13),l.qZA(),l.BQk()),2&n){const t=e.$implicit,r=l.MAs(9);l.xp6(2),l.Q6J("ngStyle",l.VKq(8,Hte,t.color)),l.xp6(2),l.Oqu(t.name),l.xp6(2),l.hij("Budget: ",l.xi3(7,5,t.value,"USD"),""),l.xp6(4),l.Q6J("ngIf",t.expenses&&t.expenses.length)("ngIfElse",r)}}const Ute=function(n){return{"budgets-static":n}};function jte(n,e){if(1&n&&(l.TgZ(0,"ul",6),l.YNc(1,Bte,11,10,"ng-container",7),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("ngClass",l.VKq(3,Ute,"static"===t.mode)),l.xp6(1),l.Q6J("ngForOf",t.budgets)("ngForTrackBy",t.budgetTrackBy)}}function $te(n,e){if(1&n&&(l.ynx(0),l.YNc(1,jte,2,5,"ul",5),l.BQk()),2&n){const t=l.oxw(),r=l.MAs(3);l.xp6(1),l.Q6J("ngIf",t.budgets.length)("ngIfElse",r)}}class f8{constructor(){this.faTrash=Lb,this.budgets=[],this.mode="",this.selected=new l.vpe,this.deleted=new l.vpe}budgetTrackBy(e,t){return t.id}expenseTrackBy(e,t){return t.id}}function Gte(n,e){if(1&n&&(l.TgZ(0,"option",16),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.id),l.xp6(1),l.hij(" ",t.name," ")}}f8.\u0275fac=function(e){return new(e||f8)},f8.\u0275cmp=l.Xpm({type:f8,selectors:[["app-expenses-list"]],inputs:{budgets:"budgets",currentId:"currentId",mode:"mode"},outputs:{selected:"selected",deleted:"deleted"},decls:5,vars:2,consts:[["loading",""],["empty",""],[4,"ngIf","ngIfElse"],[1,"budgets"],[1,"alert","alert-info"],["class","budgets",3,"ngClass",4,"ngIf","ngIfElse"],[1,"budgets",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"budgets-item"],[1,"budgets-item-details",3,"ngStyle"],[1,"budgets-item-name"],[1,"budgets-item-value"],["expensesEmpty",""],["class","expenses",4,"ngIf","ngIfElse"],[1,"expenses"],["class","expenses-item",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"expenses-item",3,"ngClass","click"],[1,"expenses-item-name"],[1,"expenses-item-price"],[1,"expenses-item-amount"],["type","button","class","btn btn-danger expenses-item-delete",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","expenses-item-delete",3,"click"],[3,"icon"]],template:function(e,t){if(1&e&&(l.YNc(0,Ote,3,0,"ng-template",null,0,l.W1O),l.YNc(2,Rte,3,0,"ng-template",null,1,l.W1O),l.YNc(4,$te,2,2,"ng-container",2)),2&e){const r=l.MAs(1);l.xp6(4),l.Q6J("ngIf",t.budgets)("ngIfElse",r)}},dependencies:[Lr,Br,_n,B,Um,o2],styles:["[_nghost-%COMP%]{flex:1;order:1;margin-top:2rem}@media (min-width: 768px){[_nghost-%COMP%]{margin-top:0;order:0}}.budgets[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}@media (min-width: 768px){.budgets[_ngcontent-%COMP%]{margin:0 2rem 0 0}}@media (min-width: 768px){.budgets-static[_ngcontent-%COMP%]{margin:0}}@media (min-width: 992px){.budgets-static[_ngcontent-%COMP%]{columns:2;margin:0 2rem 0 0}}@media (min-width: 992px){.budgets-static[_ngcontent-%COMP%]   .budgets-item[_ngcontent-%COMP%]{break-inside:avoid;min-width:300px}}.budgets-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2rem}.budgets-item-details[_ngcontent-%COMP%]{padding:1rem;background-color:#e9ecef;color:#495057;display:flex;align-items:center;justify-content:space-between;border-top-left-radius:.375rem;border-top-right-radius:.375rem;margin:0;font-weight:700;font-size:.9rem;border-left:5px solid transparent}.budgets-item-value[_ngcontent-%COMP%]{color:#6c757d;font-size:.8rem}.budgets[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]:not(:only-child){border-top-left-radius:0;border-top-right-radius:0}.expenses[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.expenses-item[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#495057;padding:.5rem 1rem;display:flex;align-items:center;justify-content:space-between;border:2px solid transparent}.expenses-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:2px solid #e9ecef}.expenses-item[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:.375rem;border-bottom-right-radius:.375rem}.expenses-item.active[_ngcontent-%COMP%]{border:2px solid #86b7fe}.expenses-item-select[_ngcontent-%COMP%]{cursor:pointer;transition:.15s ease}.expenses-item-select[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.expenses-item-name[_ngcontent-%COMP%]{margin:0;font-weight:700;color:#495057;margin-bottom:.25rem}.expenses-item-amount[_ngcontent-%COMP%], .expenses-item-price[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#6c757d}.expenses-item-delete[_ngcontent-%COMP%]{padding:.5rem}"],changeDetection:0});class w5{constructor(){this.faSave=Nb,this.faUndo=Ob,this.budgets=[],this.saved=new l.vpe,this.reseted=new l.vpe}}w5.\u0275fac=function(e){return new(e||w5)},w5.\u0275cmp=l.Xpm({type:w5,selectors:[["app-expense-details"]],inputs:{form:"form",budgets:"budgets",formState:"formState"},outputs:{saved:"saved",reseted:"reseted"},decls:27,vars:6,consts:[[1,"expenses-form",3,"formGroup","ngSubmit"],[1,"expenses-form-item"],["for","name",1,"expenses-form-label"],["type","text","name","name","formControlName","name","required","",1,"form-control","expenses-form-input"],["for","price",1,"expenses-form-label"],["type","text","name","price","formControlName","price","required","","pattern","\\d*",1,"form-control","expenses-form-input"],["for","amount",1,"expenses-form-label"],["type","text","name","amount","formControlName","amount","required","","pattern","\\d*",1,"form-control","expenses-form-input"],["for","budgetId",1,"expenses-form-label"],["name","budgetId","formControlName","budgetId","required","",1,"form-control","form-select"],["value","","disabled","","selected",""],["required","",3,"value",4,"ngFor","ngForOf"],[1,"expenses-form-buttons"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"icon"],["type","button",1,"btn","btn-secondary",3,"click"],["required","",3,"value"]],template:function(e,t){1&e&&(l.TgZ(0,"form",0),l.NdJ("ngSubmit",function(){return t.saved.emit()}),l.TgZ(1,"div",1)(2,"label",2),l._uU(3,"Name"),l.qZA(),l._UZ(4,"input",3),l.qZA(),l.TgZ(5,"div",1)(6,"label",4),l._uU(7,"Price"),l.qZA(),l._UZ(8,"input",5),l.qZA(),l.TgZ(9,"div",1)(10,"label",6),l._uU(11,"Amount"),l.qZA(),l._UZ(12,"input",7),l.qZA(),l.TgZ(13,"div",1)(14,"label",8),l._uU(15,"Budget"),l.qZA(),l.TgZ(16,"select",9)(17,"option",10),l._uU(18,"Select budget"),l.qZA(),l.YNc(19,Gte,2,2,"option",11),l.qZA()(),l.TgZ(20,"div",12)(21,"button",13),l._UZ(22,"fa-icon",14),l._uU(23),l.qZA(),l.TgZ(24,"button",15),l.NdJ("click",function(){return t.reseted.emit()}),l._UZ(25,"fa-icon",14),l._uU(26," Reset "),l.qZA()()()),2&e&&(l.Q6J("formGroup",t.form),l.xp6(19),l.Q6J("ngForOf",t.budgets),l.xp6(2),l.Q6J("disabled",t.form.invalid),l.xp6(1),l.Q6J("icon",t.faSave),l.xp6(1),l.hij(" ",t.formState," "),l.xp6(2),l.Q6J("icon",t.faUndo))},dependencies:[Br,vl,Gd,qd,za,J4,Y2,j4,t0,th,Z1,yl,Um],styles:["[_nghost-%COMP%]{flex:1;padding:2rem;border:2px solid #e9ecef;border-radius:.375rem}@media (min-width: 768px){[_nghost-%COMP%]{position:sticky;top:2rem}}.expenses-form-item[_ngcontent-%COMP%]{margin-bottom:1rem}.expenses-form-label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;font-size:.9rem;display:block;color:#495057}.expenses-form-buttons[_ngcontent-%COMP%]{display:flex}.expenses-form-buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}"],changeDetection:0});const Wte=["dialogTemplate"];function qte(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6)(1,"p",7),l._uU(2),l.qZA(),l.TgZ(3,"div",8)(4,"button",9),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.dialogRef.close(!1))}),l._uU(5," Cancel "),l.qZA(),l.TgZ(6,"button",10),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.dialogRef.close(!0))}),l._uU(7),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.text),l.xp6(5),l.hij(" ",t.buttonText," ")}}class M5{constructor(e,t,r,i,a){this.budgetsService=e,this.notificationService=t,this.formBuilder=r,this.dialog=i,this.dialogRef=a,this.emptyExpense={id:"",budgetId:"",name:"",amount:0,price:0},this.currentId=this.emptyExpense.id,this.formState=Y1.Create,this.form=this.formBuilder.group({id:[this.emptyExpense.id],name:[this.emptyExpense.name,os.required],price:[this.emptyExpense.price,[os.required,os.min(1),os.pattern(/^[0-9]\d*$/)]],amount:[this.emptyExpense.amount,[os.required,os.min(1),os.pattern(/^[0-9]\d*$/)]],budgetId:[this.emptyExpense.budgetId,os.required]}),this.budgets$=this.budgetsService.expenses$,this._unsubscribeSub$=new Ln.x}ngOnDestroy(){this._unsubscribeSub$.next(),this._unsubscribeSub$.complete()}setCurrentId({expense:e}){""!==e.id?this.currentId!==e.id?(this.currentId=e.id,this.form.patchValue({...e}),this.setFormState(Y1.Save)):this.reset():this.currentId=e.id}save(){const e=this.form.value;e.id?this.update(e):this.create(e)}create(e){this.budgetsService.createExpense(e).pipe((0,ks.R)(this._unsubscribeSub$),(0,mi.K)(t=>(this.showGeneralError(t),(0,it.of)("error")))).subscribe(()=>{this.notificationService.show(`Expense "${e.name}" added.`),this.reset()})}update(e){this.budgetsService.updateExpense(e).pipe((0,ks.R)(this._unsubscribeSub$),(0,mi.K)(t=>(this.showGeneralError(t),(0,it.of)("error")))).subscribe(()=>{this.notificationService.show(`Expense "${e.name}" updated.`),this.reset()})}delete({expenseId:e,expenseName:t}){this.dialogRef=this.dialog.open(this.dialogTemplate,{data:{text:`Are you sure you want to delete ${t} expense?`,buttonText:"Delete"}}),this.dialogRef.closed.pipe((0,ks.R)(this._unsubscribeSub$),(0,vn.w)(r=>r?this.budgetsService.deleteExpense(e):is.E),(0,mi.K)(r=>(this.showGeneralError(r),(0,it.of)("error")))).subscribe(()=>{this.notificationService.show(`Expense "${t}" deleted.`),this.currentId===e&&this.reset()})}loadSampleData(){this.dialogRef=this.dialog.open(this.dialogTemplate,{data:{text:"Are you sure you want to load sample data? All your data will be replaced.",buttonText:"Load sample data"}}),this.dialogRef.closed.pipe((0,ks.R)(this._unsubscribeSub$),(0,vn.w)(e=>e?this.budgetsService.loadSampleData():is.E),(0,mi.K)(e=>(this.showGeneralError(e),(0,it.of)("error")))).subscribe(()=>{this.notificationService.show("Sample data loaded."),this.reset()})}reset(){this.setCurrentId({expense:this.emptyExpense}),this.form.reset(this.emptyExpense),this.setFormState(Y1.Create)}setFormState(e){this.formState=e}showGeneralError(e){this.notificationService.show("An error occured","danger"),console.error(e)}}function Zte(n,e){1&n&&(l.TgZ(0,"div",3),l._uU(1,"Loading..."),l.qZA())}function Kte(n,e){1&n&&(l.TgZ(0,"div",3),l._uU(1,"No stats to show."),l.qZA())}M5.\u0275fac=function(e){return new(e||M5)(l.Y36(r2),l.Y36(p1),l.Y36(ih),l.Y36(xb),l.Y36(c8))},M5.\u0275cmp=l.Xpm({type:M5,selectors:[["app-expenses"]],viewQuery:function(e,t){if(1&e&&l.Gf(Wte,5),2&e){let r;l.iGM(r=l.CRH())&&(t.dialogTemplate=r.first)}},decls:10,vars:9,consts:[[1,"load-sample-data-wrapper"],["type","button",1,"btn","btn-primary","load-sample-data",3,"click"],[1,"expenses-container"],[3,"budgets","currentId","selected","deleted"],[3,"budgets","formState","form","saved","reseted"],["dialogTemplate",""],[1,"dialog-content"],[1,"dialog-content-message"],[1,"dialog-buttons"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(){return t.loadSampleData()}),l._uU(2," Load sample data "),l.qZA()(),l.TgZ(3,"div",2)(4,"app-expenses-list",3),l.NdJ("selected",function(i){return t.setCurrentId(i)})("deleted",function(i){return t.delete(i)}),l.ALo(5,"async"),l.qZA(),l.TgZ(6,"app-expense-details",4),l.NdJ("saved",function(){return t.save()})("reseted",function(){return t.reset()}),l.ALo(7,"async"),l.qZA()(),l.YNc(8,qte,8,2,"ng-template",null,5,l.W1O)),2&e&&(l.xp6(4),l.Q6J("budgets",l.lcZ(5,5,t.budgets$))("currentId",t.currentId),l.xp6(2),l.Q6J("budgets",l.lcZ(7,7,t.budgets$))("formState",t.formState)("form",t.form))},dependencies:[f8,w5,fn],styles:[".expenses-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 768px){.expenses-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}}"],changeDetection:0});const Yte=function(n){return{"stats-pie-chart-total":n}},Qte=function(n,e){return{"--percent.%":n,"--bg-color":e}},Xte=function(n){return{"stats-exceeded":n}};function Jte(n,e){if(1&n&&(l.TgZ(0,"li",7)(1,"p",8),l._uU(2),l.qZA(),l.TgZ(3,"div",9)(4,"p",10),l._uU(5),l.ALo(6,"number"),l.qZA(),l.TgZ(7,"p",11),l._uU(8),l.ALo(9,"currency"),l.ALo(10,"currency"),l.qZA()()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.budgetName),l.xp6(1),l.Q6J("ngClass",l.VKq(16,Yte,!0===t.isTotal))("ngStyle",l.WLB(18,Qte,t.ratio,t.budgetColor)),l.xp6(1),l.Q6J("ngClass",l.VKq(21,Xte,t.ratio>100)),l.xp6(1),l.hij(" ",l.xi3(6,7,t.ratio,"1.1-1"),"% "),l.xp6(3),l.AsE(" ",l.xi3(9,10,t.expensesValue,"USD")," / ",l.xi3(10,13,t.budgetValue,"USD")," ")}}const ene=function(n){return{"stats-home":n}};function tne(n,e){if(1&n&&(l.TgZ(0,"ul",5),l.YNc(1,Jte,11,23,"li",6),l.qZA()),2&n){const t=l.oxw().ngIf,r=l.oxw();l.Q6J("ngClass",l.VKq(2,ene,"home"===r.mode)),l.xp6(1),l.Q6J("ngForOf",t)}}function nne(n,e){if(1&n&&(l.ynx(0),l.YNc(1,tne,2,4,"ul",4),l.BQk()),2&n){const t=e.ngIf;l.oxw();const r=l.MAs(3);l.xp6(1),l.Q6J("ngIf",t.length)("ngIfElse",r)}}class p8{constructor(e){this.budgetsService=e,this.mode="",this.expenses$=this.budgetsService.expenses$}ngOnInit(){this.getStats()}getStats(){this.stats$=this.expenses$.pipe((0,D.U)(e=>{if(!e)return[];const t=e,r=t.map(u=>{const f=u.expenses.reduce((E,I)=>E+I.price*I.amount,0);return{budgetName:u.name,budgetValue:u.value,budgetColor:u.color,expensesValue:f,ratio:0===u.value?0:f/u.value*100,isTotal:!1}});return r.length?[this.getTotalStats(t),...r]:[]}))}getTotalStats(e){const t=e.reduce((a,u)=>a+u.value,0),r=e.reduce((a,u)=>a+u.expenses.reduce((f,v)=>f+v.price*v.amount,0),0);return{budgetName:"Total",budgetValue:t,budgetColor:"#adb5bd",expensesValue:r,ratio:0===t?0:r/t*100,isTotal:!0}}}p8.\u0275fac=function(e){return new(e||p8)(l.Y36(r2))},p8.\u0275cmp=l.Xpm({type:p8,selectors:[["app-stats"]],inputs:{mode:"mode"},decls:6,vars:4,consts:[["loading",""],["empty",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info"],["class","stats",3,"ngClass",4,"ngIf","ngIfElse"],[1,"stats",3,"ngClass"],["class","stats-item",4,"ngFor","ngForOf"],[1,"stats-item"],[1,"stats-name"],[1,"stats-pie-chart",3,"ngClass","ngStyle"],[1,"stats-value-percent",3,"ngClass"],[1,"stats-value"]],template:function(e,t){if(1&e&&(l.YNc(0,Zte,2,0,"ng-template",null,0,l.W1O),l.YNc(2,Kte,2,0,"ng-template",null,1,l.W1O),l.YNc(4,nne,2,2,"ng-container",2),l.ALo(5,"async")),2&e){const r=l.MAs(1);l.xp6(4),l.Q6J("ngIf",l.lcZ(5,2,t.stats$))("ngIfElse",r)}},dependencies:[Lr,Br,_n,B,fn,i4,o2],styles:['@property --percent{syntax: "<percentage>"; inherits: false; initial-value: 0%;}@keyframes _ngcontent-%COMP%_pie-chart{0%{--percent: 0%}}.stats[_ngcontent-%COMP%]{display:flex;gap:3rem;justify-content:center;flex-wrap:wrap;text-align:center;list-style:none;margin:0 auto;padding:0;max-width:900px}.stats-home[_ngcontent-%COMP%]{margin-top:3rem}@media (min-width: 768px){.stats-home[_ngcontent-%COMP%]{position:sticky;top:2rem;margin-top:0;max-width:500px}}.stats-item[_ngcontent-%COMP%]{flex:1}.stats-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;margin:0 0 1rem;color:#495057}.stats-value[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:.8rem;position:relative}.stats-value-percent[_ngcontent-%COMP%]{margin:0 0 .1rem;color:#6c757d;font-weight:700;font-size:.9rem;position:relative}.stats-pie-chart[_ngcontent-%COMP%]{--bg-color: #adb5bd;width:200px;height:200px;margin:0 auto 1rem;background-image:conic-gradient(var(--bg-color) var(--percent, 50%),transparent 0);border-radius:50%;border:5px solid #e9ecef;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;position:relative;animation:_ngcontent-%COMP%_pie-chart 1s ease-in-out}.stats-pie-chart[_ngcontent-%COMP%]:before{content:"";position:absolute;width:calc(100% - 10px);height:calc(100% - 10px);left:5px;top:5px;border-radius:50%;background-color:#fff}.stats-pie-chart-total[_ngcontent-%COMP%]:before{width:calc(100% - 20px);height:calc(100% - 20px);left:10px;top:10px}.stats-exceeded[_ngcontent-%COMP%]{color:#d65b4b}'],changeDetection:0});const rne=function(n){return{"search-form-loader-active":n}};class D5{constructor(e){this.budgetsService=e,this.search=new Oo(""),this.searchLoading$=new kr.X(!1),this.expenses$=this.budgetsService.expenses$.pipe((0,ri.b)(()=>{this.searchLoading$.next(!1)}))}ngOnInit(){this.search$=this.search.valueChanges.pipe((0,tA.b)(300),(0,Ku.x)(),(0,ri.b)(e=>{this.searchLoading$.next(!0),this.budgetsService.setSearchString(e)})).subscribe()}ngOnDestroy(){this.budgetsService.setSearchString(""),this.search$.unsubscribe()}}D5.\u0275fac=function(e){return new(e||D5)(l.Y36(r2))},D5.\u0275cmp=l.Xpm({type:D5,selectors:[["app-home"]],decls:8,vars:9,consts:[[1,"search-form"],["type","search","placeholder","Search expenses... (limited, Firestore does not support full-text search and it is case sensitive)",1,"form-control","search-form-input",3,"formControl"],[1,"search-form-loader",3,"ngClass"],[1,"home"],["mode","static",3,"budgets"],["mode","home"]],template:function(e,t){1&e&&(l.TgZ(0,"form",0),l._UZ(1,"input",1)(2,"div",2),l.ALo(3,"async"),l.qZA(),l.TgZ(4,"div",3),l._UZ(5,"app-expenses-list",4),l.ALo(6,"async"),l._UZ(7,"app-stats",5),l.qZA()),2&e&&(l.xp6(1),l.Q6J("formControl",t.search),l.xp6(1),l.Q6J("ngClass",l.VKq(7,rne,!0===l.lcZ(3,3,t.searchLoading$))),l.xp6(3),l.Q6J("budgets",l.lcZ(6,5,t.expenses$)))},dependencies:[Lr,vl,za,Y2,j4,q1,Hd,p8,f8,fn],styles:["@media (min-width: 992px){.home[_ngcontent-%COMP%]{display:flex}}.search-form[_ngcontent-%COMP%]{margin-bottom:2rem;position:relative;padding-right:3rem}.search-form-loader[_ngcontent-%COMP%]{position:absolute;right:95px;top:15px;width:30px;height:30px;border-radius:50%;border:3px solid #0d6efd;border-bottom-color:#dee2e6;opacity:0;visibility:hidden;animation:_ngcontent-%COMP%_search-form-loader 1s linear infinite}.search-form-loader-active[_ngcontent-%COMP%]{opacity:1;visibility:visible}@keyframes _ngcontent-%COMP%_search-form-loader{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0});const sE=(0,D.U)(n=>!!n);let oE=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,a)=>{const u=i.data.authGuardPipe||(()=>sE);return this.auth.user.pipe((0,pi.q)(1),u(i,a),(0,D.U)(f=>"boolean"==typeof f?f:Array.isArray(f)?this.router.createUrlTree(f):this.router.parseUrl(f)))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_i),l.LFG(f0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class m8 extends iu{constructor(e){super(),this.title=e}updateTitle(e){const t=this.buildTitle(e);void 0!==t&&this.title.setTitle(`${t} | Budget Tracker`)}}m8.\u0275fac=function(e){return new(e||m8)(l.LFG(bs))},m8.\u0275prov=l.Yz7({token:m8,factory:m8.\u0275fac,providedIn:"root"});const ane=[{path:"",canActivate:[oE],data:{authGuardPipe:()=>(n=>(0,ei.z)(sE,(0,D.U)(e=>e||n)))(["login"])},children:[{path:"home",title:"Home",component:D5},{path:"expenses",title:"Expenses",component:M5},{path:"budgets",title:"Budgets",component:E5},{path:"stats",title:"Stats",component:p8}]},{path:"login",title:"Login",canActivate:[oE],data:{authGuardPipe:()=>(n=>(0,ei.z)(sE,(0,D.U)(e=>e&&n||!0)))(["home"])},component:Dl},{path:"**",redirectTo:"/home"}];class g8{}g8.\u0275fac=function(e){return new(e||g8)},g8.\u0275mod=l.oAB({type:g8}),g8.\u0275inj=l.cJS({providers:[{provide:iu,useClass:m8}],imports:[pd.forRoot(ane),pd]});const cne=function(n){return{"notification-danger":n}};function lne(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",3),l._uU(1),l.TgZ(2,"button",4),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw(2);return l.KtG(u.hide(a.id))}),l.qZA()()}if(2&n){const t=e.$implicit;l.Q6J("ngClass",l.VKq(2,cne,"danger"===t.type)),l.xp6(1),l.hij(" ",t.message," ")}}function une(n,e){if(1&n&&(l.ynx(0),l.TgZ(1,"div",1),l.YNc(2,lne,3,4,"div",2),l.qZA(),l.BQk()),2&n){const t=e.ngIf;l.xp6(2),l.Q6J("ngForOf",t)}}class I5{constructor(e){this.notificationService=e,this.notifications$=this.notificationService.notifications$}hide(e){this.notificationService.hide(e)}}function dne(n,e){if(1&n&&(l.TgZ(0,"a",11),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("routerLink",t.path),l.xp6(1),l.Oqu(t.title)}}function hne(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"nav",8),l.YNc(1,dne,2,2,"a",9),l.TgZ(2,"button",10),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.logout())}),l._uU(3,"Logout"),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.links)}}I5.\u0275fac=function(e){return new(e||I5)(l.Y36(p1))},I5.\u0275cmp=l.Xpm({type:I5,selectors:[["app-notifications"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"notifications-container"],["class","notification",3,"ngClass",4,"ngFor","ngForOf"],[1,"notification",3,"ngClass"],[1,"btn","notification-close",3,"click"]],template:function(e,t){1&e&&(l.YNc(0,une,3,1,"ng-container",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,t.notifications$))},dependencies:[Lr,Br,_n,fn],styles:['.notifications-container[_ngcontent-%COMP%]{position:fixed;right:2rem;top:2rem}.notification[_ngcontent-%COMP%]{background-color:#e8f3ee;color:#198754;padding:1rem 3rem 1rem 1.5rem;border-radius:.375rem;display:flex;align-items:center;justify-content:space-between;position:relative;font-size:.9rem;font-weight:700}.notification[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.notification-danger[_ngcontent-%COMP%]{color:#d65b4b;background-color:#fbefed}.notification-close[_ngcontent-%COMP%]{padding:0;width:1.5rem;height:1.5rem;display:flex;align-items:center;justify-content:center;position:absolute;right:.75rem;top:50%;margin-top:-.75rem;opacity:.7;transition:opacity .15s ease}.notification-close[_ngcontent-%COMP%]:before, .notification-close[_ngcontent-%COMP%]:after{content:"";position:absolute;left:2rem/2;height:calc(1.5rem - 1px);width:2px;background-color:#6c757d;transform:rotate(45deg)}.notification-close[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.notification-close[_ngcontent-%COMP%]:hover{opacity:1}'],changeDetection:0});class A5{constructor(e,t,r){this.authService=e,this.router=t,this.auth=r,this.isLoggedIn$=this.auth.authState,this.links=[{path:"home",title:"Home"},{path:"budgets",title:"Budgets"},{path:"expenses",title:"Expenses"},{path:"stats",title:"Stats"}]}ngOnInit(){"/"===this.router.url&&this.router.navigate(["/home"])}logout(){this.authService.logout()}}A5.\u0275fac=function(e){return new(e||A5)(l.Y36(Ua),l.Y36(_i),l.Y36(f0))},A5.\u0275cmp=l.Xpm({type:A5,selectors:[["app-root"]],decls:15,vars:3,consts:[[1,"main-wrapper"],[1,"main-heading"],[1,"main-heading-secondary"],["class","nav",4,"ngIf"],[1,"container"],[1,"footer"],[1,"footer-logo"],[1,"footer-logo-secondary"],[1,"nav"],["class","nav-link","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["type","button",1,"nav-link",3,"click"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"h1",1),l._uU(2," budget"),l.TgZ(3,"span",2),l._uU(4,"Tracker"),l.qZA()(),l.YNc(5,hne,4,1,"nav",3),l.ALo(6,"async"),l.TgZ(7,"main",4),l._UZ(8,"router-outlet"),l.qZA(),l.TgZ(9,"footer",5)(10,"span",6),l._uU(11,"budget"),l.TgZ(12,"span",7),l._uU(13,"Tracker"),l.qZA()()()(),l._UZ(14,"app-notifications")),2&e&&(l.xp6(5),l.Q6J("ngIf",l.lcZ(6,1,t.isLoggedIn$)))},dependencies:[Br,_n,W5,V4,_7,I5,fn],styles:[".main-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.main-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.main-wrapper[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;flex:1;margin-bottom:2rem}@media (min-width: 768px){.main-wrapper[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{margin-bottom:4rem}}.main-heading[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:700;color:#adb5bd;margin:2rem 0;padding:0 1rem;letter-spacing:.025rem;line-height:1}@media (min-width: 768px){.main-heading[_ngcontent-%COMP%]{font-size:2rem;margin:3rem 0}}.main-heading-secondary[_ngcontent-%COMP%]{color:#495057}.nav[_ngcontent-%COMP%]{padding:0 1rem 2rem}@media (min-width: 768px){.nav[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:0 1rem 4rem}}.nav-link[_ngcontent-%COMP%]{font-size:18px;text-decoration:none;color:#6c757d;font-weight:700;transition:.1s ease;background:none;border:none;display:block;width:100%;text-align:center;padding:0;cursor:pointer}@media (min-width: 768px){.nav-link[_ngcontent-%COMP%]{width:auto}}.nav-link[_ngcontent-%COMP%]:focus, .nav-link[_ngcontent-%COMP%]:hover{text-decoration:none}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{color:#0d6efd}.nav-link[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}@media (min-width: 768px){.nav-link[_ngcontent-%COMP%]:not(:last-child){margin-right:3rem;margin-bottom:0}}.footer[_ngcontent-%COMP%]{border-top:1px solid #ddd;padding:15px;text-align:center;color:#adb5bd;font-weight:700;margin-top:auto}.footer-logo-secondary[_ngcontent-%COMP%]{color:#495057}"],changeDetection:0});var fne=S(552);class aE{constructor(e){return e}}class NS{constructor(){return(0,On.vb)("auth")}}const cE=new l.OlP("angularfire2.auth-instances");function mne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new aE(r)}}const gne={provide:NS,deps:[[new l.FiY,cE]]},vne={provide:aE,useFactory:function pne(n,e){const t=(0,On.JM)("auth",n,e);return t&&new aE(t)},deps:[[new l.FiY,cE],qi]};let _ne=(()=>{class n{constructor(){(0,ki.KN)("angularfire",On.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vne,gne]}),n})();const Cne=(0,On.u3)(fne.n,!0);class lE{constructor(e){return e}}const LS="firestore",uE=new l.OlP("angularfire2.firestore-instances");function wne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new lE(r)}}const Mne={provide:class bne{constructor(){return(0,On.vb)(LS)}},deps:[[new l.FiY,uE]]},Dne={provide:lE,useFactory:function Ene(n,e){const t=(0,On.JM)(LS,n,e);return t&&new lE(t)},deps:[[new l.FiY,uE],qi]};let Ine=(()=>{class n{constructor(){(0,ki.KN)("angularfire",On.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Dne,Mne]}),n})();const Sne=(0,On.u3)(oL,!0);class jm{}class dE{}class bc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof bc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new bc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof bc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class xne{encodeKey(e){return OS(e)}encodeValue(e){return OS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Nne=/%(\d[a-f0-9])/gi,Lne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OS(n){return encodeURIComponent(n).replace(Nne,(e,t)=>Lne[t]??e)}function $m(n){return`${n}`}class r4{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xne,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tne(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[u,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],v=t.get(u)||[];v.push(f),t.set(u,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map($m):[$m(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new r4({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push($m(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf($m(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class One{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function RS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function kS(n){return typeof Blob<"u"&&n instanceof Blob}function PS(n){return typeof FormData<"u"&&n instanceof FormData}class S5{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Rne(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new bc),this.context||(this.context=new One),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new r4,this.urlWithParams=t}serializeBody(){return null===this.body?null:RS(this.body)||kS(this.body)||PS(this.body)||function kne(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof r4?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||PS(this.body)?null:kS(this.body)?this.body.type||null:RS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof r4?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,E=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((N,j)=>N.set(j,e.setHeaders[j]),v)),e.setParams&&(E=Object.keys(e.setParams).reduce((N,j)=>N.set(j,e.setParams[j]),E)),new S5(t,r,a,{params:E,headers:v,context:I,reportProgress:f,responseType:i,withCredentials:u})}}var Di=(()=>((Di=Di||{})[Di.Sent=0]="Sent",Di[Di.UploadProgress=1]="UploadProgress",Di[Di.ResponseHeader=2]="ResponseHeader",Di[Di.DownloadProgress=3]="DownloadProgress",Di[Di.Response=4]="Response",Di[Di.User=5]="User",Di))();class hE{constructor(e,t=200,r="OK"){this.headers=e.headers||new bc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class fE extends hE{constructor(e={}){super(e),this.type=Di.ResponseHeader}clone(e={}){return new fE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Gm extends hE{constructor(e={}){super(e),this.type=Di.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Gm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zS extends hE{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function pE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Pne=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof S5)a=t;else{let v,E;v=i.headers instanceof bc?i.headers:new bc(i.headers),i.params&&(E=i.params instanceof r4?i.params:new r4({fromObject:i.params})),a=new S5(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=(0,it.of)(a).pipe((0,Js.b)(v=>this.handler.handle(v)));if(t instanceof S5||"events"===i.observe)return u;const f=u.pipe((0,Ni.h)(v=>v instanceof Gm));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,D.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return f.pipe((0,D.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return f.pipe((0,D.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return f.pipe((0,D.U)(v=>v.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new r4).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,pE(i,r))}post(t,r,i={}){return this.request("POST",t,pE(i,r))}put(t,r,i={}){return this.request("PUT",t,pE(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function FS(n,e){return e(n)}function zne(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Vne=new l.OlP("HTTP_INTERCEPTORS"),x5=new l.OlP("HTTP_INTERCEPTOR_FNS");function Hne(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(Vne,{optional:!0})??[]).reduceRight(zne,FS)),n(e,t))}let VS=(()=>{class n extends jm{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(x5)));this.chain=r.reduceRight((i,a)=>function Fne(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(i,a,this.injector),FS)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dE),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const $ne=/^\)\]\}',?\n/;let BS=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((re,ie)=>i.setRequestHeader(re,ie.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const re=t.detectContentTypeHeader();null!==re&&i.setRequestHeader("Content-Type",re)}if(t.responseType){const re=t.responseType.toLowerCase();i.responseType="json"!==re?re:"text"}const a=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const re=i.statusText||"OK",ie=new bc(i.getAllResponseHeaders()),Te=function Gne(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new fE({headers:ie,status:i.status,statusText:re,url:Te}),u},v=()=>{let{headers:re,status:ie,statusText:Te,url:ye}=f(),Le=null;204!==ie&&(Le=typeof i.response>"u"?i.responseText:i.response),0===ie&&(ie=Le?200:0);let He=ie>=200&&ie<300;if("json"===t.responseType&&"string"==typeof Le){const Re=Le;Le=Le.replace($ne,"");try{Le=""!==Le?JSON.parse(Le):null}catch(qe){Le=Re,He&&(He=!1,Le={error:qe,text:Le})}}He?(r.next(new Gm({body:Le,headers:re,status:ie,statusText:Te,url:ye||void 0})),r.complete()):r.error(new zS({error:Le,headers:re,status:ie,statusText:Te,url:ye||void 0}))},E=re=>{const{url:ie}=f(),Te=new zS({error:re,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ie||void 0});r.error(Te)};let I=!1;const N=re=>{I||(r.next(f()),I=!0);let ie={type:Di.DownloadProgress,loaded:re.loaded};re.lengthComputable&&(ie.total=re.total),"text"===t.responseType&&i.responseText&&(ie.partialText=i.responseText),r.next(ie)},j=re=>{let ie={type:Di.UploadProgress,loaded:re.loaded};re.lengthComputable&&(ie.total=re.total),r.next(ie)};return i.addEventListener("load",v),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",N),null!==a&&i.upload&&i.upload.addEventListener("progress",j)),i.send(a),r.next({type:Di.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",v),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",N),null!==a&&i.upload&&i.upload.removeEventListener("progress",j)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const mE=new l.OlP("XSRF_ENABLED"),US="XSRF-TOKEN",jS=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>US}),$S="X-XSRF-TOKEN",GS=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>$S});class WS{}let Wne=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=gr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(X),l.LFG(l.Lbi),l.LFG(jS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function qne(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(mE)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,l.f3M)(WS).getToken(),i=(0,l.f3M)(GS);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ai=(()=>((ai=ai||{})[ai.Interceptors=0]="Interceptors",ai[ai.LegacyInterceptors=1]="LegacyInterceptors",ai[ai.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ai[ai.NoXsrfProtection=3]="NoXsrfProtection",ai[ai.JsonpSupport=4]="JsonpSupport",ai[ai.RequestsMadeViaParent=5]="RequestsMadeViaParent",ai))();function v8(n,e){return{\u0275kind:n,\u0275providers:e}}function Zne(...n){const e=[Pne,BS,VS,{provide:jm,useExisting:VS},{provide:dE,useExisting:BS},{provide:x5,useValue:qne,multi:!0},{provide:mE,useValue:!0},{provide:WS,useClass:Wne}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const qS=new l.OlP("LEGACY_INTERCEPTOR_FN");function Yne({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:jS,useValue:n}),void 0!==e&&t.push({provide:GS,useValue:e}),v8(ai.CustomXsrfConfiguration,t)}let Qne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Zne(v8(ai.LegacyInterceptors,[{provide:qS,useFactory:Hne},{provide:x5,useExisting:qS,multi:!0}]),Yne({cookieName:US,headerName:$S}))]}),n})();const p6_firebase_projectId="angular-resume-app",p6_firebase_appId="1:186768901863:web:61cd776f6d1192f5d88442",p6_firebase_storageBucket="angular-resume-app.appspot.com",p6_firebase_apiKey="AIzaSyD5XYUW-HFrraZbNLK7doiHXUGC7G6h9R4",p6_firebase_authDomain="angular-resume-app.firebaseapp.com",p6_firebase_messagingSenderId="186768901863";var Xne=S(5032);class Ec{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){return ZS(this,e)}do(e,t,r){const{kind:i,value:a,error:u}=this;return"N"===i?e?.(a):"E"===i?t?.(u):r?.()}accept(e,t,r){var i;return(0,Ar.m)(null===(i=e)||void 0===i?void 0:i.next)?this.observe(e):this.do(e,t,r)}toObservable(){const{kind:e,value:t,error:r}=this,i="N"===e?(0,it.of)(t):"E"===e?So(()=>r):"C"===e?is.E:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new Ec("N",e)}static createError(e){return new Ec("E",void 0,e)}static createComplete(){return Ec.completeNotification}}function ZS(n,e){var t,r,i;const{kind:a,value:u,error:f}=n;if("string"!=typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(t=e.next)||void 0===t||t.call(e,u):"E"===a?null===(r=e.error)||void 0===r||r.call(e,f):null===(i=e.complete)||void 0===i||i.call(e)}function KS(n,e,t,r){return(0,ti.e)((i,a)=>{let u;e&&"function"!=typeof e?({duration:t,element:u,connector:r}=e):u=e;const f=new Map,v=ie=>{f.forEach(ie),ie(a)},E=ie=>v(Te=>Te.error(ie));let I=0,N=!1;const j=new ct.Q(a,ie=>{try{const Te=n(ie);let ye=f.get(Te);if(!ye){f.set(Te,ye=r?r():new Ln.x);const Le=function re(ie,Te){const ye=new Vn.y(Le=>{I++;const He=Te.subscribe(Le);return()=>{He.unsubscribe(),0==--I&&N&&j.unsubscribe()}});return ye.key=ie,ye}(Te,ye);if(a.next(Le),t){const He=(0,ct.x)(ye,()=>{ye.complete(),He?.unsubscribe()},void 0,void 0,()=>f.delete(Te));j.add((0,rs.Xf)(t(Le)).subscribe(He))}}ye.next(u?u(ie):ie)}catch(Te){E(Te)}},()=>v(ie=>ie.complete()),E,()=>f.clear(),()=>(N=!0,0===I));i.subscribe(j)})}function YS(n,e){return e?t=>t.pipe(YS((r,i)=>(0,rs.Xf)(n(r,i)).pipe((0,D.U)((a,u)=>e(r,a,i,u))))):(0,ti.e)((t,r)=>{let i=0,a=null,u=!1;t.subscribe((0,ct.x)(r,f=>{a||(a=(0,ct.x)(r,void 0,()=>{a=null,u&&r.complete()}),(0,rs.Xf)(n(f,i++)).subscribe(a))},()=>{u=!0,!a&&r.complete()}))})}Ec.completeNotification=new Ec("C");const nre={dispatch:!0,useEffectsErrorHandler:!0},Wm="__@ngrx/effects_create__";function XS(n){return Object.getPrototypeOf(n)}function sre(n,e,t){const r=XS(n).constructor.name,i=function QS(n){return function ire(n){return Object.getOwnPropertyNames(n).filter(r=>!(!n[r]||!n[r].hasOwnProperty(Wm))&&n[r][Wm].hasOwnProperty("dispatch")).map(r=>({propertyName:r,...n[r][Wm]}))}(n)}(n).map(({propertyName:a,dispatch:u,useEffectsErrorHandler:f})=>{const v="function"==typeof n[a]?n[a]():n[a],E=f?t(v,e):v;return!1===u?E.pipe(function Jne(){return(0,ti.e)((n,e)=>{n.subscribe((0,ct.x)(e,Xne.Z))})}()):E.pipe(function ere(){return(0,ti.e)((n,e)=>{n.subscribe((0,ct.x)(e,t=>{e.next(Ec.createNext(t))},()=>{e.next(Ec.createComplete()),e.complete()},t=>{e.next(Ec.createError(t)),e.complete()}))})}()).pipe((0,D.U)(N=>({effect:n[a],notification:N,propertyName:a,sourceName:r,sourceInstance:n})))});return(0,r0.T)(...i)}function JS(n,e,t=10){return n.pipe((0,mi.K)(r=>(e&&e.handleError(r),t<=1?n:JS(n,e,t-1))))}const ex=new l.OlP("@ngrx/effects Internal Root Guard"),qm=new l.OlP("@ngrx/effects User Provided Effects"),gE=new l.OlP("@ngrx/effects Internal Root Effects"),tx=new l.OlP("@ngrx/effects Root Effects"),nx=new l.OlP("@ngrx/effects Internal Feature Effects"),rx=new l.OlP("@ngrx/effects Feature Effects"),are=new l.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>JS}),ix="@ngrx/effects/init";function _re(n){return vE(n,"ngrxOnInitEffects")}function vE(n,e){return n&&e in n&&"function"==typeof n[e]}(0,jn.PH)(ix);let _E=(()=>{class n extends Ln.x{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(KS(XS),(0,ni.z)(t=>t.pipe(KS(yre))),(0,ni.z)(t=>{const r=t.pipe(YS(a=>function Cre(n,e){return t=>{const r=sre(t,n,e);return function gre(n){return vE(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(r):r}}(this.errorHandler,this.effectsErrorHandler)(a)),(0,D.U)(a=>(function lre(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function ure(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function dre({propertyName:n,sourceInstance:e,sourceName:t}){const r="function"==typeof e[n];return`"${t}.${String(n)}${r?"()":""}"`}(n)} dispatched an invalid action: ${function hre(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(a,this.errorHandler),a.notification)),(0,Ni.h)(a=>"N"===a.kind&&null!=a.value),function tre(){return(0,ti.e)((n,e)=>{n.subscribe((0,ct.x)(e,t=>ZS(t,e)))})}()),i=t.pipe((0,pi.q)(1),(0,Ni.h)(_re),(0,D.U)(a=>a.ngrxOnInitEffects()));return(0,r0.T)(r,i)}))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.qLn),l.LFG(are))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yre(n){return function pre(n){return vE(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let yE=(()=>{class n{constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_E),l.LFG(jn.yh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sx=(()=>{class n{constructor(t,r,i,a,u,f,v){this.sources=t,r.start(),a.forEach(E=>t.addEffects(E)),i.dispatch({type:ix})}addEffects(t){this.sources.addEffects(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_E),l.LFG(yE),l.LFG(jn.yh),l.LFG(tx),l.LFG(jn.cr,8),l.LFG(jn.CK,8),l.LFG(ex,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),bre=(()=>{class n{constructor(t,r,i,a){r.forEach(u=>u.forEach(f=>t.addEffects(f)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sx),l.LFG(rx),l.LFG(jn.cr,8),l.LFG(jn.CK,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Ere=(()=>{class n{static forFeature(...t){const r=t.flat();return{ngModule:bre,providers:[r,{provide:nx,multi:!0,useValue:r},{provide:qm,multi:!0,useValue:[]},{provide:rx,multi:!0,useFactory:ox,deps:[nx,qm]}]}}static forRoot(...t){const r=t.flat();return{ngModule:sx,providers:[r,{provide:gE,useValue:[r]},{provide:ex,useFactory:Mre},{provide:qm,multi:!0,useValue:[]},{provide:tx,useFactory:ox,deps:[gE,qm]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function ox(n,e){const t=[];for(const r of n)t.push(...r);for(const r of e)t.push(...r);return function wre(n){return n.map(e=>(0,l.f3M)(e))}(t)}function Mre(){const n=(0,l.f3M)(yE,{optional:!0,skipSelf:!0}),e=(0,l.f3M)(gE,{self:!0});if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}class _8{constructor(e,t){this.budgetsService=e,this.authService=t,this.budgets$=function rre(n,e){const t=n(),r={...nre,...e};return Object.defineProperty(t,Wm,{value:r}),t}(()=>this.authService.userToken$.pipe((0,vn.w)(r=>r?this.budgetsService.getAll().pipe((0,ni.z)(i=>i),(0,D.U)(i=>({type:`[Budgets Data] ${i.type}`,payload:{id:i.payload.doc.id,...i.payload.doc.data()}}))):is.E)))}}_8.\u0275fac=function(e){return new(e||_8)(l.LFG(r2),l.LFG(Ua))},_8.\u0275prov=l.Yz7({token:_8,factory:_8.\u0275fac});var Dre=S(825);const ax={apiKey:p6_firebase_apiKey,authDomain:p6_firebase_authDomain,projectId:p6_firebase_projectId,storageBucket:p6_firebase_storageBucket,messagingSenderId:p6_firebase_messagingSenderId,appId:p6_firebase_appId};class y8{}y8.\u0275fac=function(e){return new(e||y8)},y8.\u0275mod=l.oAB({type:y8,bootstrap:[A5]}),y8.\u0275inj=l.cJS({providers:[{provide:c8,useValue:{}}],imports:[Bc,g8,_v,Qne,yv,ck,Ro.hO.initializeApp(ax),function o0(n,...e){return{ngModule:oh,providers:[{provide:sh,useFactory:wv(n),multi:!0,deps:[l.R0b,l.zs3,On.HU,...e]}]}}(()=>i9(ax)),function yne(n,...e){return{ngModule:_ne,providers:[{provide:cE,useFactory:mne(n),multi:!0,deps:[l.R0b,l.zs3,On.HU,Rs,[new l.FiY,h0],...e]}]}}(()=>Cne()),function Ane(n,...e){return{ngModule:Ine,providers:[{provide:uE,useFactory:wne(n),multi:!0,deps:[l.R0b,l.zs3,On.HU,Rs,[new l.FiY,NS],[new l.FiY,h0],...e]}]}}(()=>Sne()),Mte,jn.Aw.forRoot({budgets:c_}),Ere.forRoot([_8]),Dre.FT.instrument({maxAge:25,logOnly:!(0,l.X6Q)(),trace:!0,traceLimit:25})]}),(0,l.G48)(),E2().bootstrapModule(y8).catch(n=>console.error(n))},1135:(ce,K,S)=>{S.d(K,{X:()=>P});var l=S(7579);class P extends l.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const W=super._subscribe(ee);return!W.closed&&ee.next(this._value),W}getValue(){const{hasError:ee,thrownError:W,_value:X}=this;if(ee)throw W;return this._throwIfClosed(),X}next(ee){super.next(this._value=ee)}}},9751:(ce,K,S)=>{S.d(K,{y:()=>ne});var l=S(930),P=S(727),T=S(8822),ee=S(9635),W=S(2416),X=S(576),se=S(2806);let ne=(()=>{class q{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ue=new q;return Ue.source=this,Ue.operator=Ae,Ue}subscribe(Ae,Ue,tt){const we=function H(q){return q&&q instanceof l.Lv||function F(q){return q&&(0,X.m)(q.next)&&(0,X.m)(q.error)&&(0,X.m)(q.complete)}(q)&&(0,P.Nn)(q)}(Ae)?Ae:new l.Hp(Ae,Ue,tt);return(0,se.x)(()=>{const{operator:De,source:Se}=this;we.add(De?De.call(we,Se):Se?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ue){Ae.error(Ue)}}forEach(Ae,Ue){return new(Ue=Q(Ue))((tt,we)=>{const De=new l.Hp({next:Se=>{try{Ae(Se)}catch(Ne){we(Ne),De.unsubscribe()}},error:we,complete:tt});this.subscribe(De)})}_subscribe(Ae){var Ue;return null===(Ue=this.source)||void 0===Ue?void 0:Ue.subscribe(Ae)}[T.L](){return this}pipe(...Ae){return(0,ee.U)(Ae)(this)}toPromise(Ae){return new(Ae=Q(Ae))((Ue,tt)=>{let we;this.subscribe(De=>we=De,De=>tt(De),()=>Ue(we))})}}return q.create=be=>new q(be),q})();function Q(q){var be;return null!==(be=q??W.v.Promise)&&void 0!==be?be:Promise}},4707:(ce,K,S)=>{S.d(K,{t:()=>T});var l=S(7579),P=S(6063);class T extends l.x{constructor(W=1/0,X=1/0,se=P.l){super(),this._bufferSize=W,this._windowTime=X,this._timestampProvider=se,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=X===1/0,this._bufferSize=Math.max(1,W),this._windowTime=Math.max(1,X)}next(W){const{isStopped:X,_buffer:se,_infiniteTimeWindow:ne,_timestampProvider:Q,_windowTime:F}=this;X||(se.push(W),!ne&&se.push(Q.now()+F)),this._trimBuffer(),super.next(W)}_subscribe(W){this._throwIfClosed(),this._trimBuffer();const X=this._innerSubscribe(W),{_infiniteTimeWindow:se,_buffer:ne}=this,Q=ne.slice();for(let F=0;F<Q.length&&!W.closed;F+=se?1:2)W.next(Q[F]);return this._checkFinalizedStatuses(W),X}_trimBuffer(){const{_bufferSize:W,_timestampProvider:X,_buffer:se,_infiniteTimeWindow:ne}=this,Q=(ne?1:2)*W;if(W<1/0&&Q<se.length&&se.splice(0,se.length-Q),!ne){const F=X.now();let H=0;for(let q=1;q<se.length&&se[q]<=F;q+=2)H=q;H&&se.splice(0,H+1)}}}},7579:(ce,K,S)=>{S.d(K,{x:()=>se});var l=S(9751),P=S(727);const ee=(0,S(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=S(8737),X=S(2806);let se=(()=>{class Q extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const q=new ne(this,this);return q.operator=H,q}_throwIfClosed(){if(this.closed)throw new ee}next(H){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(H)}})}error(H){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:q}=this;for(;q.length;)q.shift().error(H)}})}complete(){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:q,isStopped:be,observers:Ae}=this;return q||be?P.Lc:(this.currentObservers=null,Ae.push(H),new P.w0(()=>{this.currentObservers=null,(0,W.P)(Ae,H)}))}_checkFinalizedStatuses(H){const{hasError:q,thrownError:be,isStopped:Ae}=this;q?H.error(be):Ae&&H.complete()}asObservable(){const H=new l.y;return H.source=this,H}}return Q.create=(F,H)=>new ne(F,H),Q})();class ne extends se{constructor(F,H){super(),this.destination=F,this.source=H}next(F){var H,q;null===(q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===q||q.call(H,F)}error(F){var H,q;null===(q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===q||q.call(H,F)}complete(){var F,H;null===(H=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===H||H.call(F)}_subscribe(F){var H,q;return null!==(q=null===(H=this.source)||void 0===H?void 0:H.subscribe(F))&&void 0!==q?q:P.Lc}}},930:(ce,K,S)=>{S.d(K,{Hp:()=>tt,Lv:()=>q});var l=S(576),P=S(727),T=S(2416),ee=S(7849),W=S(5032);const X=Q("C",void 0,void 0);function Q(Pe,Ve,ze){return{kind:Pe,value:Ve,error:ze}}var F=S(3410),H=S(2806);class q extends P.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,P.Nn)(Ve)&&Ve.add(this)):this.destination=Ne}static create(Ve,ze,Je){return new tt(Ve,ze,Je)}next(Ve){this.isStopped?Se(function ne(Pe){return Q("N",Pe,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?Se(function se(Pe){return Q("E",void 0,Pe)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?Se(X,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const be=Function.prototype.bind;function Ae(Pe,Ve){return be.call(Pe,Ve)}class Ue{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Ve)}catch(Je){we(Je)}}error(Ve){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Ve)}catch(Je){we(Je)}else we(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(ze){we(ze)}}}class tt extends q{constructor(Ve,ze,Je){let fe;if(super(),(0,l.m)(Ve)||!Ve)fe={next:Ve??void 0,error:ze??void 0,complete:Je??void 0};else{let Ee;this&&T.v.useDeprecatedNextContext?(Ee=Object.create(Ve),Ee.unsubscribe=()=>this.unsubscribe(),fe={next:Ve.next&&Ae(Ve.next,Ee),error:Ve.error&&Ae(Ve.error,Ee),complete:Ve.complete&&Ae(Ve.complete,Ee)}):fe=Ve}this.destination=new Ue(fe)}}function we(Pe){T.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Pe):(0,ee.h)(Pe)}function Se(Pe,Ve){const{onStoppedNotification:ze}=T.v;ze&&F.z.setTimeout(()=>ze(Pe,Ve))}const Ne={closed:!0,next:W.Z,error:function De(Pe){throw Pe},complete:W.Z}},727:(ce,K,S)=>{S.d(K,{Lc:()=>X,w0:()=>W,Nn:()=>se});var l=S(576);const T=(0,S(3888).d)(Q=>function(H){Q(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((q,be)=>`${be+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ee=S(8737);class W{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ae of H)Ae.remove(this);else H.remove(this);const{initialTeardown:q}=this;if((0,l.m)(q))try{q()}catch(Ae){F=Ae instanceof T?Ae.errors:[Ae]}const{_finalizers:be}=this;if(be){this._finalizers=null;for(const Ae of be)try{ne(Ae)}catch(Ue){F=F??[],Ue instanceof T?F=[...F,...Ue.errors]:F.push(Ue)}}if(F)throw new T(F)}}add(F){var H;if(F&&F!==this)if(this.closed)ne(F);else{if(F instanceof W){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(F)}}_hasParent(F){const{_parentage:H}=this;return H===F||Array.isArray(H)&&H.includes(F)}_addParent(F){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(F),H):H?[H,F]:F}_removeParent(F){const{_parentage:H}=this;H===F?this._parentage=null:Array.isArray(H)&&(0,ee.P)(H,F)}remove(F){const{_finalizers:H}=this;H&&(0,ee.P)(H,F),F instanceof W&&F._removeParent(this)}}W.EMPTY=(()=>{const Q=new W;return Q.closed=!0,Q})();const X=W.EMPTY;function se(Q){return Q instanceof W||Q&&"closed"in Q&&(0,l.m)(Q.remove)&&(0,l.m)(Q.add)&&(0,l.m)(Q.unsubscribe)}function ne(Q){(0,l.m)(Q)?Q():Q.unsubscribe()}},2416:(ce,K,S)=>{S.d(K,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ce,K,S)=>{S.d(K,{E:()=>P});const P=new(S(9751).y)(W=>W.complete())},8996:(ce,K,S)=>{S.d(K,{D:()=>Ve});var l=S(8421),P=S(5363),T=S(9468),X=S(9751),ne=S(2202),Q=S(576),F=S(9672);function q(ze,Je){if(!ze)throw new Error("Iterable cannot be null");return new X.y(fe=>{(0,F.f)(fe,Je,()=>{const Ee=ze[Symbol.asyncIterator]();(0,F.f)(fe,Je,()=>{Ee.next().then(ke=>{ke.done?fe.complete():fe.next(ke.value)})},0,!0)})})}var be=S(3670),Ae=S(8239),Ue=S(1144),tt=S(6495),we=S(2206),De=S(4532),Se=S(3260);function Ve(ze,Je){return Je?function Pe(ze,Je){if(null!=ze){if((0,be.c)(ze))return function ee(ze,Je){return(0,l.Xf)(ze).pipe((0,T.R)(Je),(0,P.Q)(Je))}(ze,Je);if((0,Ue.z)(ze))return function se(ze,Je){return new X.y(fe=>{let Ee=0;return Je.schedule(function(){Ee===ze.length?fe.complete():(fe.next(ze[Ee++]),fe.closed||this.schedule())})})}(ze,Je);if((0,Ae.t)(ze))return function W(ze,Je){return(0,l.Xf)(ze).pipe((0,T.R)(Je),(0,P.Q)(Je))}(ze,Je);if((0,we.D)(ze))return q(ze,Je);if((0,tt.T)(ze))return function H(ze,Je){return new X.y(fe=>{let Ee;return(0,F.f)(fe,Je,()=>{Ee=ze[ne.h](),(0,F.f)(fe,Je,()=>{let ke,le;try{({value:ke,done:le}=Ee.next())}catch(ue){return void fe.error(ue)}le?fe.complete():fe.next(ke)},0,!0)}),()=>(0,Q.m)(Ee?.return)&&Ee.return()})}(ze,Je);if((0,Se.L)(ze))return function Ne(ze,Je){return q((0,Se.Q)(ze),Je)}(ze,Je)}throw(0,De.z)(ze)}(ze,Je):(0,l.Xf)(ze)}},8421:(ce,K,S)=>{S.d(K,{Xf:()=>be});var l=S(655),P=S(1144),T=S(8239),ee=S(9751),W=S(3670),X=S(2206),se=S(4532),ne=S(6495),Q=S(3260),F=S(576),H=S(7849),q=S(8822);function be(Pe){if(Pe instanceof ee.y)return Pe;if(null!=Pe){if((0,W.c)(Pe))return function Ae(Pe){return new ee.y(Ve=>{const ze=Pe[q.L]();if((0,F.m)(ze.subscribe))return ze.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,P.z)(Pe))return function Ue(Pe){return new ee.y(Ve=>{for(let ze=0;ze<Pe.length&&!Ve.closed;ze++)Ve.next(Pe[ze]);Ve.complete()})}(Pe);if((0,T.t)(Pe))return function tt(Pe){return new ee.y(Ve=>{Pe.then(ze=>{Ve.closed||(Ve.next(ze),Ve.complete())},ze=>Ve.error(ze)).then(null,H.h)})}(Pe);if((0,X.D)(Pe))return De(Pe);if((0,ne.T)(Pe))return function we(Pe){return new ee.y(Ve=>{for(const ze of Pe)if(Ve.next(ze),Ve.closed)return;Ve.complete()})}(Pe);if((0,Q.L)(Pe))return function Se(Pe){return De((0,Q.Q)(Pe))}(Pe)}throw(0,se.z)(Pe)}function De(Pe){return new ee.y(Ve=>{(function Ne(Pe,Ve){var ze,Je,fe,Ee;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ze=(0,l.KL)(Pe);!(Je=yield ze.next()).done;)if(Ve.next(Je.value),Ve.closed)return}catch(ke){fe={error:ke}}finally{try{Je&&!Je.done&&(Ee=ze.return)&&(yield Ee.call(ze))}finally{if(fe)throw fe.error}}Ve.complete()})})(Pe,Ve).catch(ze=>Ve.error(ze))})}},6451:(ce,K,S)=>{S.d(K,{T:()=>X});var l=S(8189),P=S(8421),T=S(515),ee=S(3269),W=S(8996);function X(...se){const ne=(0,ee.yG)(se),Q=(0,ee._6)(se,1/0),F=se;return F.length?1===F.length?(0,P.Xf)(F[0]):(0,l.J)(Q)((0,W.D)(F,ne)):T.E}},9646:(ce,K,S)=>{S.d(K,{of:()=>T});var l=S(3269),P=S(8996);function T(...ee){const W=(0,l.yG)(ee);return(0,P.D)(ee,W)}},5403:(ce,K,S)=>{S.d(K,{Q:()=>T,x:()=>P});var l=S(930);function P(ee,W,X,se,ne){return new T(ee,W,X,se,ne)}class T extends l.Lv{constructor(W,X,se,ne,Q,F){super(W),this.onFinalize=Q,this.shouldUnsubscribe=F,this._next=X?function(H){try{X(H)}catch(q){W.error(q)}}:super._next,this._error=ne?function(H){try{ne(H)}catch(q){W.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(H){W.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:X}=this;super.unsubscribe(),!X&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},262:(ce,K,S)=>{S.d(K,{K:()=>ee});var l=S(8421),P=S(5403),T=S(4482);function ee(W){return(0,T.e)((X,se)=>{let F,ne=null,Q=!1;ne=X.subscribe((0,P.x)(se,void 0,void 0,H=>{F=(0,l.Xf)(W(H,ee(W)(X))),ne?(ne.unsubscribe(),ne=null,F.subscribe(se)):Q=!0})),Q&&(ne.unsubscribe(),ne=null,F.subscribe(se))})}},4351:(ce,K,S)=>{S.d(K,{b:()=>T});var l=S(5577),P=S(576);function T(ee,W){return(0,P.m)(W)?(0,l.z)(ee,W,1):(0,l.z)(ee,1)}},8372:(ce,K,S)=>{S.d(K,{b:()=>ee});var l=S(4986),P=S(4482),T=S(5403);function ee(W,X=l.z){return(0,P.e)((se,ne)=>{let Q=null,F=null,H=null;const q=()=>{if(Q){Q.unsubscribe(),Q=null;const Ae=F;F=null,ne.next(Ae)}};function be(){const Ae=H+W,Ue=X.now();if(Ue<Ae)return Q=this.schedule(void 0,Ae-Ue),void ne.add(Q);q()}se.subscribe((0,T.x)(ne,Ae=>{F=Ae,H=X.now(),Q||(Q=X.schedule(be,W),ne.add(Q))},()=>{q(),ne.complete()},void 0,()=>{F=Q=null}))})}},1884:(ce,K,S)=>{S.d(K,{x:()=>ee});var l=S(4671),P=S(4482),T=S(5403);function ee(X,se=l.y){return X=X??W,(0,P.e)((ne,Q)=>{let F,H=!0;ne.subscribe((0,T.x)(Q,q=>{const be=se(q);(H||!X(F,be))&&(H=!1,F=be,Q.next(q))}))})}function W(X,se){return X===se}},9300:(ce,K,S)=>{S.d(K,{h:()=>T});var l=S(4482),P=S(5403);function T(ee,W){return(0,l.e)((X,se)=>{let ne=0;X.subscribe((0,P.x)(se,Q=>ee.call(W,Q,ne++)&&se.next(Q)))})}},4004:(ce,K,S)=>{S.d(K,{U:()=>T});var l=S(4482),P=S(5403);function T(ee,W){return(0,l.e)((X,se)=>{let ne=0;X.subscribe((0,P.x)(se,Q=>{se.next(ee.call(W,Q,ne++))}))})}},8189:(ce,K,S)=>{S.d(K,{J:()=>T});var l=S(5577),P=S(4671);function T(ee=1/0){return(0,l.z)(P.y,ee)}},5577:(ce,K,S)=>{S.d(K,{z:()=>ne});var l=S(4004),P=S(8421),T=S(4482),ee=S(9672),W=S(5403),se=S(576);function ne(Q,F,H=1/0){return(0,se.m)(F)?ne((q,be)=>(0,l.U)((Ae,Ue)=>F(q,Ae,be,Ue))((0,P.Xf)(Q(q,be))),H):("number"==typeof F&&(H=F),(0,T.e)((q,be)=>function X(Q,F,H,q,be,Ae,Ue,tt){const we=[];let De=0,Se=0,Ne=!1;const Pe=()=>{Ne&&!we.length&&!De&&F.complete()},Ve=Je=>De<q?ze(Je):we.push(Je),ze=Je=>{Ae&&F.next(Je),De++;let fe=!1;(0,P.Xf)(H(Je,Se++)).subscribe((0,W.x)(F,Ee=>{be?.(Ee),Ae?Ve(Ee):F.next(Ee)},()=>{fe=!0},void 0,()=>{if(fe)try{for(De--;we.length&&De<q;){const Ee=we.shift();Ue?(0,ee.f)(F,Ue,()=>ze(Ee)):ze(Ee)}Pe()}catch(Ee){F.error(Ee)}}))};return Q.subscribe((0,W.x)(F,Ve,()=>{Ne=!0,Pe()})),()=>{tt?.()}}(q,be,Q,H)))}},5363:(ce,K,S)=>{S.d(K,{Q:()=>ee});var l=S(9672),P=S(4482),T=S(5403);function ee(W,X=0){return(0,P.e)((se,ne)=>{se.subscribe((0,T.x)(ne,Q=>(0,l.f)(ne,W,()=>ne.next(Q),X),()=>(0,l.f)(ne,W,()=>ne.complete(),X),Q=>(0,l.f)(ne,W,()=>ne.error(Q),X)))})}},5026:(ce,K,S)=>{S.d(K,{R:()=>ee});var l=S(4482),P=S(5403);function T(W,X,se,ne,Q){return(F,H)=>{let q=se,be=X,Ae=0;F.subscribe((0,P.x)(H,Ue=>{const tt=Ae++;be=q?W(be,Ue,tt):(q=!0,Ue),ne&&H.next(be)},Q&&(()=>{q&&H.next(be),H.complete()})))}}function ee(W,X){return(0,l.e)(T(W,X,arguments.length>=2,!0))}},3099:(ce,K,S)=>{S.d(K,{B:()=>W});var l=S(8421),P=S(7579),T=S(930),ee=S(4482);function W(se={}){const{connector:ne=(()=>new P.x),resetOnError:Q=!0,resetOnComplete:F=!0,resetOnRefCountZero:H=!0}=se;return q=>{let be,Ae,Ue,tt=0,we=!1,De=!1;const Se=()=>{Ae?.unsubscribe(),Ae=void 0},Ne=()=>{Se(),be=Ue=void 0,we=De=!1},Pe=()=>{const Ve=be;Ne(),Ve?.unsubscribe()};return(0,ee.e)((Ve,ze)=>{tt++,!De&&!we&&Se();const Je=Ue=Ue??ne();ze.add(()=>{tt--,0===tt&&!De&&!we&&(Ae=X(Pe,H))}),Je.subscribe(ze),!be&&tt>0&&(be=new T.Hp({next:fe=>Je.next(fe),error:fe=>{De=!0,Se(),Ae=X(Ne,Q,fe),Je.error(fe)},complete:()=>{we=!0,Se(),Ae=X(Ne,F),Je.complete()}}),(0,l.Xf)(Ve).subscribe(be))})(q)}}function X(se,ne,...Q){if(!0===ne)return void se();if(!1===ne)return;const F=new T.Hp({next:()=>{F.unsubscribe(),se()}});return(0,l.Xf)(ne(...Q)).subscribe(F)}},5684:(ce,K,S)=>{S.d(K,{T:()=>P});var l=S(9300);function P(T){return(0,l.h)((ee,W)=>T<=W)}},9468:(ce,K,S)=>{S.d(K,{R:()=>P});var l=S(4482);function P(T,ee=0){return(0,l.e)((W,X)=>{X.add(T.schedule(()=>W.subscribe(X),ee))})}},3900:(ce,K,S)=>{S.d(K,{w:()=>ee});var l=S(8421),P=S(4482),T=S(5403);function ee(W,X){return(0,P.e)((se,ne)=>{let Q=null,F=0,H=!1;const q=()=>H&&!Q&&ne.complete();se.subscribe((0,T.x)(ne,be=>{Q?.unsubscribe();let Ae=0;const Ue=F++;(0,l.Xf)(W(be,Ue)).subscribe(Q=(0,T.x)(ne,tt=>ne.next(X?X(be,tt,Ue,Ae++):tt),()=>{Q=null,q()}))},()=>{H=!0,q()}))})}},5698:(ce,K,S)=>{S.d(K,{q:()=>ee});var l=S(515),P=S(4482),T=S(5403);function ee(W){return W<=0?()=>l.E:(0,P.e)((X,se)=>{let ne=0;X.subscribe((0,T.x)(se,Q=>{++ne<=W&&(se.next(Q),W<=ne&&se.complete())}))})}},2722:(ce,K,S)=>{S.d(K,{R:()=>W});var l=S(4482),P=S(5403),T=S(8421),ee=S(5032);function W(X){return(0,l.e)((se,ne)=>{(0,T.Xf)(X).subscribe((0,P.x)(ne,()=>ne.complete(),ee.Z)),!ne.closed&&se.subscribe(ne)})}},8505:(ce,K,S)=>{S.d(K,{b:()=>W});var l=S(576),P=S(4482),T=S(5403),ee=S(4671);function W(X,se,ne){const Q=(0,l.m)(X)||se||ne?{next:X,error:se,complete:ne}:X;return Q?(0,P.e)((F,H)=>{var q;null===(q=Q.subscribe)||void 0===q||q.call(Q);let be=!0;F.subscribe((0,T.x)(H,Ae=>{var Ue;null===(Ue=Q.next)||void 0===Ue||Ue.call(Q,Ae),H.next(Ae)},()=>{var Ae;be=!1,null===(Ae=Q.complete)||void 0===Ae||Ae.call(Q),H.complete()},Ae=>{var Ue;be=!1,null===(Ue=Q.error)||void 0===Ue||Ue.call(Q,Ae),H.error(Ae)},()=>{var Ae,Ue;be&&(null===(Ae=Q.unsubscribe)||void 0===Ae||Ae.call(Q)),null===(Ue=Q.finalize)||void 0===Ue||Ue.call(Q)}))}):ee.y}},7414:(ce,K,S)=>{S.d(K,{V:()=>Q});var l=S(4986),P=S(1165),T=S(4482),ee=S(8421),W=S(3888),X=S(5403),se=S(9672);const ne=(0,W.d)(H=>function(be=null){H(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=be});function Q(H,q){const{first:be,each:Ae,with:Ue=F,scheduler:tt=q??l.z,meta:we=null}=(0,P.q)(H)?{first:H}:"number"==typeof H?{each:H}:H;if(null==be&&null==Ae)throw new TypeError("No timeout provided.");return(0,T.e)((De,Se)=>{let Ne,Pe,Ve=null,ze=0;const Je=fe=>{Pe=(0,se.f)(Se,tt,()=>{try{Ne.unsubscribe(),(0,ee.Xf)(Ue({meta:we,lastValue:Ve,seen:ze})).subscribe(Se)}catch(Ee){Se.error(Ee)}},fe)};Ne=De.subscribe((0,X.x)(Se,fe=>{Pe?.unsubscribe(),ze++,Se.next(Ve=fe),Ae>0&&Je(Ae)},void 0,void 0,()=>{Pe?.closed||Pe?.unsubscribe(),Ve=null})),!ze&&Je(null!=be?"number"==typeof be?be:+be-tt.now():Ae)})}function F(H){throw new ne(H)}},1365:(ce,K,S)=>{S.d(K,{M:()=>se});var l=S(4482),P=S(5403),T=S(8421),ee=S(4671),W=S(5032),X=S(3269);function se(...ne){const Q=(0,X.jO)(ne);return(0,l.e)((F,H)=>{const q=ne.length,be=new Array(q);let Ae=ne.map(()=>!1),Ue=!1;for(let tt=0;tt<q;tt++)(0,T.Xf)(ne[tt]).subscribe((0,P.x)(H,we=>{be[tt]=we,!Ue&&!Ae[tt]&&(Ae[tt]=!0,(Ue=Ae.every(ee.y))&&(Ae=null))},W.Z));F.subscribe((0,P.x)(H,tt=>{if(Ue){const we=[tt,...be];H.next(Q?Q(...we):we)}}))})}},4408:(ce,K,S)=>{S.d(K,{o:()=>W});var l=S(727);class P extends l.w0{constructor(se,ne){super()}schedule(se,ne=0){return this}}const T={setInterval(X,se,...ne){const{delegate:Q}=T;return Q?.setInterval?Q.setInterval(X,se,...ne):setInterval(X,se,...ne)},clearInterval(X){const{delegate:se}=T;return(se?.clearInterval||clearInterval)(X)},delegate:void 0};var ee=S(8737);class W extends P{constructor(se,ne){super(se,ne),this.scheduler=se,this.work=ne,this.pending=!1}schedule(se,ne=0){var Q;if(this.closed)return this;this.state=se;const F=this.id,H=this.scheduler;return null!=F&&(this.id=this.recycleAsyncId(H,F,ne)),this.pending=!0,this.delay=ne,this.id=null!==(Q=this.id)&&void 0!==Q?Q:this.requestAsyncId(H,this.id,ne),this}requestAsyncId(se,ne,Q=0){return T.setInterval(se.flush.bind(se,this),Q)}recycleAsyncId(se,ne,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return ne;null!=ne&&T.clearInterval(ne)}execute(se,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(se,ne);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,ne){let F,Q=!1;try{this.work(se)}catch(H){Q=!0,F=H||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),F}unsubscribe(){if(!this.closed){const{id:se,scheduler:ne}=this,{actions:Q}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(Q,this),null!=se&&(this.id=this.recycleAsyncId(ne,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(ce,K,S)=>{S.d(K,{v:()=>T});var l=S(6063);class P{constructor(W,X=P.now){this.schedulerActionCtor=W,this.now=X}schedule(W,X=0,se){return new this.schedulerActionCtor(this,W).schedule(se,X)}}P.now=l.l.now;class T extends P{constructor(W,X=P.now){super(W,X),this.actions=[],this._active=!1}flush(W){const{actions:X}=this;if(this._active)return void X.push(W);let se;this._active=!0;do{if(se=W.execute(W.state,W.delay))break}while(W=X.shift());if(this._active=!1,se){for(;W=X.shift();)W.unsubscribe();throw se}}}},4986:(ce,K,S)=>{S.d(K,{P:()=>ee,z:()=>T});var l=S(4408);const T=new(S(7565).v)(l.o),ee=T},6063:(ce,K,S)=>{S.d(K,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},233:(ce,K,S)=>{S.d(K,{N:()=>W});var l=S(4408),T=S(7565);const W=new class ee extends T.v{}(class P extends l.o{constructor(ne,Q){super(ne,Q),this.scheduler=ne,this.work=Q}schedule(ne,Q=0){return Q>0?super.schedule(ne,Q):(this.delay=Q,this.state=ne,this.scheduler.flush(this),this)}execute(ne,Q){return Q>0||this.closed?super.execute(ne,Q):this._execute(ne,Q)}requestAsyncId(ne,Q,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(ne,Q,F):(ne.flush(this),0)}})},3410:(ce,K,S)=>{S.d(K,{z:()=>l});const l={setTimeout(P,T,...ee){const{delegate:W}=l;return W?.setTimeout?W.setTimeout(P,T,...ee):setTimeout(P,T,...ee)},clearTimeout(P){const{delegate:T}=l;return(T?.clearTimeout||clearTimeout)(P)},delegate:void 0}},2202:(ce,K,S)=>{S.d(K,{h:()=>P});const P=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ce,K,S)=>{S.d(K,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ce,K,S)=>{S.d(K,{_6:()=>X,jO:()=>ee,yG:()=>W});var l=S(576),P=S(3532);function T(se){return se[se.length-1]}function ee(se){return(0,l.m)(T(se))?se.pop():void 0}function W(se){return(0,P.K)(T(se))?se.pop():void 0}function X(se,ne){return"number"==typeof T(se)?se.pop():ne}},8737:(ce,K,S)=>{function l(P,T){if(P){const ee=P.indexOf(T);0<=ee&&P.splice(ee,1)}}S.d(K,{P:()=>l})},3888:(ce,K,S)=>{function l(P){const ee=P(W=>{Error.call(W),W.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}S.d(K,{d:()=>l})},2806:(ce,K,S)=>{S.d(K,{O:()=>ee,x:()=>T});var l=S(2416);let P=null;function T(W){if(l.v.useDeprecatedSynchronousErrorHandling){const X=!P;if(X&&(P={errorThrown:!1,error:null}),W(),X){const{errorThrown:se,error:ne}=P;if(P=null,se)throw ne}}else W()}function ee(W){l.v.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=W)}},9672:(ce,K,S)=>{function l(P,T,ee,W=0,X=!1){const se=T.schedule(function(){ee(),X?P.add(this.schedule(null,W)):this.unsubscribe()},W);if(P.add(se),!X)return se}S.d(K,{f:()=>l})},4671:(ce,K,S)=>{function l(P){return P}S.d(K,{y:()=>l})},1144:(ce,K,S)=>{S.d(K,{z:()=>l});const l=P=>P&&"number"==typeof P.length&&"function"!=typeof P},2206:(ce,K,S)=>{S.d(K,{D:()=>P});var l=S(576);function P(T){return Symbol.asyncIterator&&(0,l.m)(T?.[Symbol.asyncIterator])}},1165:(ce,K,S)=>{function l(P){return P instanceof Date&&!isNaN(P)}S.d(K,{q:()=>l})},576:(ce,K,S)=>{function l(P){return"function"==typeof P}S.d(K,{m:()=>l})},3670:(ce,K,S)=>{S.d(K,{c:()=>T});var l=S(8822),P=S(576);function T(ee){return(0,P.m)(ee[l.L])}},6495:(ce,K,S)=>{S.d(K,{T:()=>T});var l=S(2202),P=S(576);function T(ee){return(0,P.m)(ee?.[l.h])}},8239:(ce,K,S)=>{S.d(K,{t:()=>P});var l=S(576);function P(T){return(0,l.m)(T?.then)}},3260:(ce,K,S)=>{S.d(K,{L:()=>ee,Q:()=>T});var l=S(655),P=S(576);function T(W){return(0,l.FC)(this,arguments,function*(){const se=W.getReader();try{for(;;){const{value:ne,done:Q}=yield(0,l.qq)(se.read());if(Q)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ne)}}finally{se.releaseLock()}})}function ee(W){return(0,P.m)(W?.getReader)}},3532:(ce,K,S)=>{S.d(K,{K:()=>P});var l=S(576);function P(T){return T&&(0,l.m)(T.schedule)}},4482:(ce,K,S)=>{S.d(K,{A:()=>P,e:()=>T});var l=S(576);function P(ee){return(0,l.m)(ee?.lift)}function T(ee){return W=>{if(P(W))return W.lift(function(X){try{return ee(X,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ce,K,S)=>{function l(){}S.d(K,{Z:()=>l})},9635:(ce,K,S)=>{S.d(K,{U:()=>T,z:()=>P});var l=S(4671);function P(...ee){return T(ee)}function T(ee){return 0===ee.length?l.y:1===ee.length?ee[0]:function(X){return ee.reduce((se,ne)=>ne(se),X)}}},7849:(ce,K,S)=>{S.d(K,{h:()=>T});var l=S(2416),P=S(3410);function T(ee){P.z.setTimeout(()=>{const{onUnhandledError:W}=l.v;if(!W)throw ee;W(ee)})}},4532:(ce,K,S)=>{function l(P){return new TypeError(`You provided ${null!==P&&"object"==typeof P?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(K,{z:()=>l})},655:(ce,K,S)=>{function ee(le,ue){var Ie={};for(var ge in le)Object.prototype.hasOwnProperty.call(le,ge)&&ue.indexOf(ge)<0&&(Ie[ge]=le[ge]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(ge=Object.getOwnPropertySymbols(le);Ye<ge.length;Ye++)ue.indexOf(ge[Ye])<0&&Object.prototype.propertyIsEnumerable.call(le,ge[Ye])&&(Ie[ge[Ye]]=le[ge[Ye]])}return Ie}function ne(le,ue,Ie,ge){return new(Ie||(Ie=Promise))(function(Xe,Ct){function on(jt){try{Tt(ge.next(jt))}catch(Et){Ct(Et)}}function gn(jt){try{Tt(ge.throw(jt))}catch(Et){Ct(Et)}}function Tt(jt){jt.done?Xe(jt.value):function Ye(Xe){return Xe instanceof Ie?Xe:new Ie(function(Ct){Ct(Xe)})}(jt.value).then(on,gn)}Tt((ge=ge.apply(le,ue||[])).next())})}function we(le){return this instanceof we?(this.v=le,this):new we(le)}function De(le,ue,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,ge=Ie.apply(le,ue||[]),Xe=[];return Ye={},Ct("next"),Ct("throw"),Ct("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye;function Ct(an){ge[an]&&(Ye[an]=function(Gn){return new Promise(function(Wt,Dt){Xe.push([an,Gn,Wt,Dt])>1||on(an,Gn)})})}function on(an,Gn){try{!function gn(an){an.value instanceof we?Promise.resolve(an.value.v).then(Tt,jt):Et(Xe[0][2],an)}(ge[an](Gn))}catch(Wt){Et(Xe[0][3],Wt)}}function Tt(an){on("next",an)}function jt(an){on("throw",an)}function Et(an,Gn){an(Gn),Xe.shift(),Xe.length&&on(Xe[0][0],Xe[0][1])}}function Ne(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ue=le[Symbol.asyncIterator];return ue?ue.call(le):(le=function q(le){var ue="function"==typeof Symbol&&Symbol.iterator,Ie=ue&&le[ue],ge=0;if(Ie)return Ie.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&ge>=le.length&&(le=void 0),{value:le&&le[ge++],done:!le}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),Ie={},ge("next"),ge("throw"),ge("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function ge(Xe){Ie[Xe]=le[Xe]&&function(Ct){return new Promise(function(on,gn){!function Ye(Xe,Ct,on,gn){Promise.resolve(gn).then(function(Tt){Xe({value:Tt,done:on})},Ct)}(on,gn,(Ct=le[Xe](Ct)).done,Ct.value)})}}}S.d(K,{FC:()=>De,KL:()=>Ne,_T:()=>ee,mG:()=>ne,qq:()=>we})},4650:(ce,K,S)=>{S.d(K,{$8M:()=>w2,$WT:()=>Zn,$Z:()=>w7,AFp:()=>lp,ALo:()=>ko,AaK:()=>ne,AsE:()=>f1,BQk:()=>Z1,CHM:()=>c4,CRH:()=>Kh,CZH:()=>v3,CqO:()=>Ud,D6c:()=>ty,EJc:()=>N0,EiD:()=>Z6,EpF:()=>Tu,F$t:()=>Wd,F4k:()=>Nu,FYo:()=>r7,FiY:()=>G,G48:()=>Cp,Gf:()=>Zh,GfV:()=>s7,Gpc:()=>H,Hsn:()=>Q7,Ikx:()=>ph,JOm:()=>Li,JVY:()=>nl,JZr:()=>tt,KtG:()=>Nc,L6k:()=>j5,LAX:()=>G6,LFG:()=>nt,Lbi:()=>J1,Lck:()=>a_,MAs:()=>zd,MMx:()=>Lh,MR2:()=>dg,NdJ:()=>jd,OlP:()=>wn,Oqu:()=>Cl,P3R:()=>Y5,PXZ:()=>U_,Q6J:()=>Fd,QGY:()=>Bd,QbO:()=>up,Qsj:()=>bg,R0b:()=>Ps,RDi:()=>Jm,Rgc:()=>b0,SBq:()=>z4,Sil:()=>P_,Suo:()=>i3,TTD:()=>mo,TgZ:()=>X4,Udp:()=>s0,VKq:()=>V9,W1O:()=>Ci,WLB:()=>zi,X6Q:()=>yp,XFs:()=>pt,Xpm:()=>Bs,Xts:()=>Z8,Y36:()=>Z2,YKP:()=>z9,YNc:()=>Z7,Yjl:()=>Ms,Yz7:()=>Dt,Z0I:()=>xn,ZZ4:()=>xe,_Bn:()=>P9,_UZ:()=>Vd,_Vd:()=>al,_c5:()=>ey,_uU:()=>h1,aQg:()=>x3,c2e:()=>hr,cJS:()=>fr,cg1:()=>vh,dDg:()=>R0,dqk:()=>Ot,eBb:()=>rg,eFA:()=>vf,ekj:()=>Ru,eoX:()=>k0,f3M:()=>lt,g9A:()=>qa,h0i:()=>Al,hGG:()=>Sp,hij:()=>mn,iGM:()=>qh,ifc:()=>$e,ip1:()=>g3,jDz:()=>F9,kL8:()=>Hu,lG2:()=>js,lcZ:()=>j9,lqb:()=>$2,lri:()=>mp,mCW:()=>Ra,n5z:()=>Bc,oAB:()=>Us,oJD:()=>K6,oxw:()=>Gd,pB0:()=>$5,q3G:()=>Pr,q4F:()=>o7,qLn:()=>F4,qOj:()=>B7,qZA:()=>_l,qzn:()=>H2,rWj:()=>O0,sBO:()=>D3,sIi:()=>Iu,s_b:()=>$a,soG:()=>Za,tBr:()=>R,tb:()=>T0,tp0:()=>ve,uIk:()=>Od,vHH:()=>we,vpe:()=>io,wAp:()=>kt,xi3:()=>sc,xp6:()=>ld,ynx:()=>xu,z2F:()=>ac,z3N:()=>c1,zSh:()=>Y8,zs3:()=>W2});var l=S(7579),P=S(727),T=S(9751),ee=S(6451),W=S(3099);function X(s){for(let o in s)if(s[o]===X)return o;throw Error("Could not find renamed property on target object.")}function se(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function Q(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const F=X({__forward_ref__:X});function H(s){return s.__forward_ref__=H,s.toString=function(){return ne(this())},s}function q(s){return be(s)?s():s}function be(s){return"function"==typeof s&&s.hasOwnProperty(F)&&s.__forward_ref__===H}function Ae(s){return s&&!!s.\u0275providers}const tt="https://g.co/ng/security#xss";class we extends Error{constructor(o,c){super(function De(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function Je(s,o){throw new we(-201,!1)}function jt(s,o){null==s&&function Et(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Dt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function fr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Wn(s){return Ii(s,Hr)||Ii(s,hn)}function xn(s){return null!==Wn(s)}function Ii(s,o){return s.hasOwnProperty(o)?s[o]:null}function qn(s){return s&&(s.hasOwnProperty(Si)||s.hasOwnProperty(nr))?s[Si]:null}const Hr=X({\u0275prov:X}),Si=X({\u0275inj:X}),hn=X({ngInjectableDef:X}),nr=X({ngInjectorDef:X});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let Bn;function kn(s){const o=Bn;return Bn=s,o}function rr(s,o,c){const d=Wn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&pt.Optional?null:void 0!==o?o:void Je(ne(s))}const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ar={},Fn="__NG_DI_FLAG__",xr="ngTempTokenPath",li=/\n/gm,xi="__source";let qt;function Tr(s){const o=qt;return qt=s,o}function Un(s,o=pt.Default){if(void 0===qt)throw new we(-203,!1);return null===qt?rr(s,void 0,o):qt.get(s,o&pt.Optional?null:void 0,o)}function nt(s,o=pt.Default){return(function br(){return Bn}()||Un)(q(s),o)}function lt(s,o=pt.Default){return nt(s,xt(o))}function xt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Lt(s){const o=[];for(let c=0;c<s.length;c++){const d=q(s[c]);if(Array.isArray(d)){if(0===d.length)throw new we(900,!1);let h,p=pt.Default;for(let _=0;_<d.length;_++){const C=d[_],w=J(C);"number"==typeof w?-1===w?h=C.token:p|=w:h=C}o.push(nt(h,p))}else o.push(nt(d))}return o}function Xt(s,o){return s[Fn]=o,s.prototype[Fn]=o,s}function J(s){return s[Fn]}function $(s){return{toString:s}.toString()}var k=(()=>((k=k||{})[k.OnPush=0]="OnPush",k[k.Default=1]="Default",k))(),$e=(()=>{return(s=$e||($e={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",$e;var s})();const mt={},at=[],Ht=X({\u0275cmp:X}),yt=X({\u0275dir:X}),Tn=X({\u0275pipe:X}),pr=X({\u0275mod:X}),zt=X({\u0275fac:X}),Nr=X({__NG_ELEMENT_ID__:X});let v1=0;function Bs(s){return $(()=>{const c=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===k.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||at,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||$e.Emulated,id:"c"+v1++,styles:s.styles||at,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=s.dependencies,_=s.features;return h.inputs=y1(s.inputs,d),h.outputs=y1(s.outputs),_&&_.forEach(C=>C(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(_1).filter(mr):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(wr).filter(mr):null,h})}function _1(s){return dn(s)||Pn(s)}function mr(s){return null!==s}function Us(s){return $(()=>({type:s.type,bootstrap:s.bootstrap||at,declarations:s.declarations||at,imports:s.imports||at,exports:s.exports||at,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function y1(s,o){if(null==s)return mt;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,o&&(o[h]=p)}return c}const js=Bs;function Ms(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function dn(s){return s[Ht]||null}function Pn(s){return s[yt]||null}function wr(s){return s[Tn]||null}function Zn(s){const o=dn(s)||Pn(s)||wr(s);return null!==o&&o.standalone}function gr(s,o){const c=s[pr]||null;if(!c&&!0===o)throw new Error(`Type ${ne(s)} does not have '\u0275mod' property.`);return c}const B=18;function Ur(s){return Array.isArray(s)&&"object"==typeof s[1]}function jr(s){return Array.isArray(s)&&!0===s[1]}function Is(s){return 0!=(4&s.flags)}function b1(s){return s.componentOffset>-1}function s2(s){return 1==(1&s.flags)}function Rr(s){return null!==s.template}function m6(s){return 0!=(256&s[2])}function fo(s,o){return s.hasOwnProperty(zt)?s[zt]:null}class po{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function mo(){return go}function go(s){return s.type.prototype.ngOnChanges&&(s.setInput=w1),ca}function ca(){const s=la(this),o=s?.current;if(o){const c=s.previous;if(c===mt)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function w1(s,o,c,d){const h=this.declaredInputs[c],p=la(s)||function M1(s,o){return s[vo]=o}(s,{previous:mt,current:null}),_=p.current||(p.current={}),C=p.previous,w=C[h];_[h]=new po(w&&w.currentValue,o,C===mt),s[d]=o}mo.ngInherit=!0;const vo="__ngSimpleChanges__";function la(s){return s[vo]||null}function sr(s){for(;Array.isArray(s);)s=s[0];return s}function Ws(s,o){return sr(o[s])}function ui(s,o){return sr(o[s.index])}function ha(s,o){return s.data[o]}function ms(s,o){return s[o]}function Mr(s,o){const c=o[s];return Ur(c)?c:c[0]}function $o(s){return 64==(64&s[2])}function ji(s,o){return null==o?null:s[o]}function a2(s){s[B]=0}function _o(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Gt={lFrame:b6(null),bindingsEnabled:!0};function Tc(){return Gt.bindingsEnabled}function We(){return Gt.lFrame.lView}function un(){return Gt.lFrame.tView}function c4(s){return Gt.lFrame.contextLView=s,s[8]}function Nc(s){return Gt.lFrame.contextLView=null,s}function Dr(){let s=ma();for(;null!==s&&64===s.type;)s=s.parent;return s}function ma(){return Gt.lFrame.currentTNode}function gs(s,o){const c=Gt.lFrame;c.currentTNode=s,c.isParent=o}function qo(){return Gt.lFrame.isParent}function ga(){Gt.lFrame.isParent=!1}function ur(){const s=Gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function es(){return Gt.lFrame.bindingIndex++}function vs(s){const o=Gt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function _a(s,o){const c=Gt.lFrame;c.bindingIndex=c.bindingRootIndex=s,yo(o)}function yo(s){Gt.lFrame.currentDirectiveIndex=s}function u4(){return Gt.lFrame.currentQueryIndex}function u2(s){Gt.lFrame.currentQueryIndex=s}function Lc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function d4(s,o,c){if(c&pt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||c&pt.Host||(h=Lc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Gt.lFrame=C6();return d.currentTNode=o,d.lView=s,!0}function ya(s){const o=C6(),c=s[1];Gt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function C6(){const s=Gt.lFrame,o=null===s?null:s.child;return null===o?b6(s):o}function b6(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function E6(){const s=Gt.lFrame;return Gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const d2=E6;function w6(){const s=E6();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ti(){return Gt.lFrame.selectedIndex}function Zs(s){Gt.lFrame.selectedIndex=s}function Dn(){const s=Gt.lFrame;return ha(s.tView,s.selectedIndex)}function Ks(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:w,ngAfterViewChecked:x,ngOnDestroy:O}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-c,_),C&&((s.contentHooks||(s.contentHooks=[])).push(c,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,C)),w&&(s.viewHooks||(s.viewHooks=[])).push(-c,w),x&&((s.viewHooks||(s.viewHooks=[])).push(c,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,x)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(c,O)}}function _s(s,o,c){Rc(s,o,3,c)}function Co(s,o,c,d){(3&s[2])===c&&Rc(s,o,c,d)}function Ss(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Rc(s,o,c,d){const p=d??-1,_=o.length-1;let C=0;for(let w=void 0!==d?65535&s[B]:0;w<_;w++)if("number"==typeof o[w+1]){if(C=o[w],null!=d&&C>=d)break}else o[w]<0&&(s[B]+=65536),(C<p||-1==p)&&(kc(s,c,o,w),s[B]=(4294901760&s[B])+w+2),w++}function kc(s,o,c,d){const h=c[d]<0,p=c[d+1],C=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[B]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class Ca{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function T1(s,o,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const p=c[d++],_=c[d++],C=c[d++];s.setAttribute(o,_,C,p)}else{const p=h,_=c[++d];Ea(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),d++}}return d}function Qs(s){return 3===s||4===s||6===s}function Ea(s){return 64===s.charCodeAt(0)}function ys(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||Pc(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function Pc(s,o,c,d,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const C=s[p++];if("number"==typeof C){if(C===o){_=-1;break}if(C>o){_=p-1;break}}}for(;p<s.length;){const C=s[p];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function zc(s){return-1!==s}function N1(s){return 32767&s}function xs(s,o){let c=function g2(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let bo=!0;function Cs(s){const o=bo;return bo=s,o}let v2=0;const hi={};function Xs(s,o){const c=_2(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Mo(d.data,s),Mo(o,null),Mo(d.blueprint,null));const h=wa(s,o),p=s.injectorIndex;if(zc(h)){const _=N1(h),C=xs(h,o),w=C[1].data;for(let x=0;x<8;x++)o[p+x]=C[_+x]|w[_+x]}return o[p+8]=h,p}function Mo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function _2(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function wa(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){if(d=v4(h),null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Vc(s,o,c){!function p4(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Nr)&&(d=c[Nr]),null==d&&(d=c[Nr]=v2++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function m4(s,o,c){if(c&pt.Optional||void 0!==s)return s;Je()}function y2(s,o,c,d){if(c&pt.Optional&&void 0===d&&(d=null),!(c&(pt.Self|pt.Host))){const h=s[9],p=kn(void 0);try{return h?h.get(o,d,c&pt.Optional):rr(o,d,c&pt.Optional)}finally{kn(p)}}return m4(d,0,c)}function C2(s,o,c,d=pt.Default,h){if(null!==s){if(1024&o[2]){const _=function D6(s,o,c,d,h){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const C=ts(p,_,c,d|pt.Self,hi);if(C!==hi)return C;let w=p.parent;if(!w){const x=_[21];if(x){const O=x.get(c,hi,d);if(O!==hi)return O}w=v4(_),_=_[15]}p=w}return h}(s,o,c,d,hi);if(_!==hi)return _}const p=ts(s,o,c,d,hi);if(p!==hi)return p}return y2(o,c,d,h)}function ts(s,o,c,d,h){const p=function b2(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Nr)?s[Nr]:void 0;return"number"==typeof o?o>=0?255&o:g4:o}(c);if("function"==typeof p){if(!d4(o,s,d))return d&pt.Host?m4(h,0,d):y2(o,c,d,h);try{const _=p(d);if(null!=_||d&pt.Optional)return _;Je()}finally{d2()}}else if("number"==typeof p){let _=null,C=_2(s,o),w=-1,x=d&pt.Host?o[16][6]:null;for((-1===C||d&pt.SkipSelf)&&(w=-1===C?wa(s,o):o[C+8],-1!==w&&fi(d,!1)?(_=o[1],C=N1(w),o=xs(w,o)):C=-1);-1!==C;){const O=o[1];if(E2(p,C,O.data)){const V=Hc(C,o,c,_,d,x);if(V!==hi)return V}w=o[C+8],-1!==w&&fi(d,o[1].data[C+8]===x)&&E2(p,C,o)?(_=O,C=N1(w),o=xs(w,o)):C=-1}}return h}function Hc(s,o,c,d,h,p){const _=o[1],C=_.data[s+8],O=Qo(C,_,c,null==d?b1(C)&&bo:d!=_&&0!=(3&C.type),h&pt.Host&&p===C);return null!==O?ns(o,_,O,C):hi}function Qo(s,o,c,d,h){const p=s.providerIndexes,_=o.data,C=1048575&p,w=s.directiveStart,O=p>>20,oe=h?C+O:s.directiveEnd;for(let me=d?C:C+O;me<oe;me++){const Oe=_[me];if(me<w&&c===Oe||me>=w&&Oe.type===c)return me}if(h){const me=_[w];if(me&&Rr(me)&&me.type===c)return w}return null}function ns(s,o,c,d){let h=s[c];const p=o.data;if(function di(s){return s instanceof Ca}(h)){const _=h;_.resolving&&function Pe(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Ne(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}(p[c]));const C=Cs(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?kn(_.injectImpl):null;d4(s,d,pt.Default);try{h=s[c]=_.factory(void 0,p,s,d),o.firstCreatePass&&c>=d.directiveStart&&function f2(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const _=go(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,_)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],o)}finally{null!==w&&kn(w),Cs(C),_.resolving=!1,d2()}}return h}function E2(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function fi(s,o){return!(s&pt.Self||s&pt.Host&&o)}class Ts{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return C2(this._tNode,this._lView,o,xt(d),c)}}function g4(){return new Ts(Dr(),We())}function Bc(s){return $(()=>{const o=s.prototype.constructor,c=o[zt]||Ma(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[zt]||Ma(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ma(s){return be(s)?()=>{const o=Ma(q(s));return o&&o()}:fo(s)}function v4(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function w2(s){return function Yo(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Qs(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===o)return c[h+1];h+=2}}}return null}(Dr(),s)}const L1="__parameters__";function Jo(s,o,c){return $(()=>{const d=function _4(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const _=new h(...p);return C.annotation=_,C;function C(w,x,O){const V=w.hasOwnProperty(L1)?w[L1]:Object.defineProperty(w,L1,{value:[]})[L1];for(;V.length<=O;)V.push(null);return(V[O]=V[O]||[]).push(_),w}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class wn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Dt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ls(s,o){s.forEach(c=>Array.isArray(c)?Ls(c,o):o(c))}function x6(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function $c(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ao(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function it(s,o,c){let d=Gr(s,o);return d>=0?s[1|d]=c:(d=~d,function R1(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function kr(s,o){const c=Gr(s,o);if(c>=0)return s[1|c]}function Gr(s,o){return function Vn(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const p=d+(h-d>>1),_=s[p<<c];if(o===_)return p<<c;_>o?h=p:d=p+1}return~(h<<c)}(s,o,1)}const R=Xt(Jo("Inject",s=>({token:s})),-1),G=Xt(Jo("Optional"),8),ve=Xt(Jo("SkipSelf"),4);var Li=(()=>((Li=Li||{})[Li.Important=1]="Important",Li[Li.DashCase=2]="DashCase",Li))();const Yc=new Map;let Qc=0;const Xc="__ngContext__";function vi(s,o){Ur(o)?(s[Xc]=o[20],function Wr(s){Yc.set(s[20],s)}(o)):s[Xc]=o}function je(s,o){return undefined(s,o)}function Mt(s){const o=s[3];return jr(o)?o[3]:o}function Wi(s){return Na(s[13])}function ss(s){return Na(s[4])}function Na(s){for(;null!==s&&!jr(s);)s=s[4];return s}function s1(s,o,c,d,h){if(null!=d){let p,_=!1;jr(d)?p=d:Ur(d)&&(_=!0,d=d[0]);const C=sr(d);0===s&&null!==c?null==h?Jc(o,c,C):To(o,c,C,h||null,!0):1===s&&null!==c?To(o,c,C,h||null,!0):2===s?function H6(s,o,c){const d=x4(s,o);d&&function k5(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}(o,C,_):3===s&&o.destroyNode(C),null!=p&&function z2(s,o,c,d,h){const p=c[7];p!==sr(c)&&s1(o,s,d,p,h);for(let C=10;C<c.length;C++){const w=c[C];F1(w[1],w,s,o,d,p)}}(o,s,p,c,h)}}function o1(s,o,c){return s.createElement(o,c)}function k2(s,o){const c=s[9],d=c.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,_o(h,-1)),c.splice(d,1)}function T8(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&k2(h,d),o>0&&(s[c-1][4]=d[4]);const p=$c(s,10+o);!function R6(s,o){F1(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const _=p[19];null!==_&&_.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function La(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&F1(s,o,c,3,null,null),function P6(s){let o=s[13];if(!o)return S4(s[1],s);for(;o;){let c=null;if(Ur(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Ur(o)&&S4(o[1],o),o=o[3];null===o&&(o=s),Ur(o)&&S4(o[1],o),c=o&&o[4]}o=c}}(o)}}function S4(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Zm(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof Ca)){const p=c[d+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const C=h[p[_]],w=p[_+1];try{w.call(C)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function CE(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const _=c[p+3];_>=0?d[h=_]():d[h=-_].unsubscribe(),p+=2}else{const _=d[h=c[p+1]];c[p].call(_)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&jr(o[3])){c!==o[3]&&k2(c,o);const d=o[19];null!==d&&d.detachView(s)}!function Sa(s){Yc.delete(s[20])}(o)}}function O5(s,o,c){return function R5(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===$e.None||p===$e.Emulated)return null}return ui(d,c)}}(s,o.parent,c)}function To(s,o,c,d,h){s.insertBefore(o,c,d,h)}function Jc(s,o,c){s.appendChild(o,c)}function P2(s,o,c,d,h){null!==d?To(s,o,c,d,h):Jc(s,o,c)}function x4(s,o){return s.parentNode(o)}function P5(s,o,c){return N8(s,o,c)}let $6,P8,T4,N8=function z5(s,o,c){return 40&s.type?ui(s,c):null};function Oa(s,o,c,d){const h=O5(s,d,o),p=o[11],C=P5(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let w=0;w<c.length;w++)P2(p,h,c[w],C,!1);else P2(p,h,c,C,!1)}function F6(s,o){if(null!==o){const c=o.type;if(3&c)return ui(o,s);if(4&c)return O8(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return F6(s,d);{const h=s[o.index];return jr(h)?O8(-1,h):sr(h)}}if(32&c)return je(o,s)()||sr(s[o.index]);{const d=V6(s,o);return null!==d?Array.isArray(d)?d[0]:F6(Mt(s[16]),d):F6(s,o.next)}}return null}function V6(s,o){return null!==o?s[16][6].projection[o.projection]:null}function O8(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return F6(d,h)}return o[7]}function B6(s,o,c,d,h,p,_){for(;null!=c;){const C=d[c.index],w=c.type;if(_&&0===o&&(C&&vi(sr(C),d),c.flags|=2),32!=(32&c.flags))if(8&w)B6(s,o,c.child,d,h,p,!1),s1(o,s,h,C,p);else if(32&w){const x=je(c,d);let O;for(;O=x();)s1(o,s,h,O,p);s1(o,s,h,C,p)}else 16&w?U6(s,o,d,c,h,p):s1(o,s,h,C,p);c=_?c.projectionNext:c.next}}function F1(s,o,c,d,h,p){B6(c,d,s.firstChild,o,h,p,!1)}function U6(s,o,c,d,h,p){const _=c[16],w=_[6].projection[d.projection];if(Array.isArray(w))for(let x=0;x<w.length;x++)s1(o,s,h,w[x],p);else B6(s,o,w,_[3],h,p,!0)}function R8(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function V5(s,o,c){const{mergedAttrs:d,classes:h,styles:p}=c;null!==d&&T1(s,o,d),null!==h&&R8(s,o,h),null!==p&&function F5(s,o,c){s.setAttribute(o,"style",c)}(s,o,p)}function F2(s){return function k8(){if(void 0===$6&&($6=null,Ot.trustedTypes))try{$6=Ot.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return $6}()?.createHTML(s)||s}function Jm(s){P8=s}function z8(){if(void 0===T4&&(T4=null,Ot.trustedTypes))try{T4=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return T4}function eg(s){return z8()?.createHTML(s)||s}function tg(s){return z8()?.createScriptURL(s)||s}class V2{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tt})`}}class U5 extends V2{getTypeName(){return"HTML"}}class F8 extends V2{getTypeName(){return"Style"}}class V8 extends V2{getTypeName(){return"Script"}}class V1 extends V2{getTypeName(){return"URL"}}class tl extends V2{getTypeName(){return"ResourceURL"}}function c1(s){return s instanceof V2?s.changingThisBreaksApplicationSecurity:s}function H2(s,o){const c=function ng(s){return s instanceof V2&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see ${tt})`)}return c===o}function nl(s){return new U5(s)}function j5(s){return new F8(s)}function rg(s){return new V8(s)}function G6(s){return new V1(s)}function $5(s){return new tl(s)}class G5{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(F2(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class H8{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=F2(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=F2(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const _=c.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const ig=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ra(s){return(s=String(s)).match(ig)?s:"unsafe:"+s}function H1(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function N4(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const q6=H1("area,br,col,hr,img,wbr"),U8=H1("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),j8=H1("rp,rt"),B2=N4(q6,N4(U8,H1("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),N4(j8,H1("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),N4(j8,U8)),rl=H1("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),q5=N4(rl,H1("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),H1("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$8=H1("script,style,template");class Z5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!B2.hasOwnProperty(c))return this.sanitizedSomething=!0,!$8.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),_=p.name,C=_.toLowerCase();if(!q5.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let w=p.value;rl[C]&&(w=Ra(w)),this.buf.push(" ",_,'="',ag(w),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();B2.hasOwnProperty(c)&&!q6.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(ag(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const ME=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,DE=/([^\#-~ |!])/g;function ag(s){return s.replace(/&/g,"&amp;").replace(ME,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(DE,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let G8;function Z6(s,o){let c=null;try{G8=G8||function W6(s){const o=new H8(s);return function B8(){try{return!!(new window.DOMParser).parseFromString(F2(""),"text/html")}catch{return!1}}()?new G5(o):o}(s);let d=o?String(o):"";c=G8.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=G8.getInertBodyElement(d)}while(d!==p);return F2((new Z5).sanitizeChildren(W8(c)||c))}finally{if(c){const d=W8(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function W8(s){return"content"in s&&function cg(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Pr=(()=>((Pr=Pr||{})[Pr.NONE=0]="NONE",Pr[Pr.HTML=1]="HTML",Pr[Pr.STYLE=2]="STYLE",Pr[Pr.SCRIPT=3]="SCRIPT",Pr[Pr.URL=4]="URL",Pr[Pr.RESOURCE_URL=5]="RESOURCE_URL",Pr))();function K6(s){const o=B1();return o?eg(o.sanitize(Pr.HTML,s)||""):H2(s,"HTML")?eg(c1(s)):Z6(function H5(){return void 0!==P8?P8:typeof document<"u"?document:void 0}(),Se(s))}function q8(s){const o=B1();return o?o.sanitize(Pr.URL,s)||"":H2(s,"URL")?c1(s):Ra(Se(s))}function il(s){const o=B1();if(o)return tg(o.sanitize(Pr.RESOURCE_URL,s)||"");if(H2(s,"ResourceURL"))return tg(c1(s));throw new we(904,!1)}function Y5(s,o,c){return function Y6(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?il:q8}(o,c)(s)}function B1(){const s=We();return s&&s[12]}const Z8=new wn("ENVIRONMENT_INITIALIZER"),Q5=new wn("INJECTOR",-1),sl=new wn("INJECTOR_DEF_TYPES");class ol{get(o,c=ar){if(c===ar){const d=new Error(`NullInjectorError: No provider for ${ne(o)}!`);throw d.name="NullInjectorError",d}return c}}function dg(s){return{\u0275providers:s}}function hg(...s){return{\u0275providers:X5(0,s),\u0275fromNgModule:!0}}function X5(s,...o){const c=[],d=new Set;let h;return Ls(o,p=>{const _=p;K8(_,c,[],d)&&(h||(h=[]),h.push(_))}),void 0!==h&&J5(h,c),c}function J5(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];e7(h,p=>{o.push(p)})}}function K8(s,o,c,d){if(!(s=q(s)))return!1;let h=null,p=qn(s);const _=!p&&dn(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const w=s.ngModule;if(p=qn(w),!p)return!1;h=w}const C=d.has(h);if(_){if(C)return!1;if(d.add(h),_.dependencies){const w="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const x of w)K8(x,o,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let x;d.add(h);try{Ls(p.imports,O=>{K8(O,o,c,d)&&(x||(x=[]),x.push(O))})}finally{}void 0!==x&&J5(x,o)}if(!C){const x=fo(h)||(()=>new h);o.push({provide:h,useFactory:x,deps:at},{provide:sl,useValue:h,multi:!0},{provide:Z8,useValue:()=>nt(h),multi:!0})}const w=p.providers;null==w||C||e7(w,O=>{o.push(O)})}}return h!==s&&void 0!==s.providers}function e7(s,o){for(let c of s)Ae(c)&&(c=c.\u0275providers),Array.isArray(c)?e7(c,o):o(c)}const fg=X({provide:String,useValue:X});function O4(s){return null!==s&&"object"==typeof s&&fg in s}function j2(s){return"function"==typeof s}const Y8=new wn("Set Injector scope."),Q6={},mg={};let Q8;function X6(){return void 0===Q8&&(Q8=new ol),Q8}class $2{}class t7 extends $2{get destroyed(){return this._destroyed}constructor(o,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ed(o,_=>this.processProvider(_)),this.records.set(Q5,ka(void 0,this)),h.has("environment")&&this.records.set($2,ka(void 0,this));const p=this.records.get(Y8);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(sl.multi,at,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Tr(this),d=kn(void 0);try{return o()}finally{Tr(c),kn(d)}}get(o,c=ar,d=pt.Default){this.assertNotDestroyed(),d=xt(d);const h=Tr(this),p=kn(void 0);try{if(!(d&pt.SkipSelf)){let C=this.records.get(o);if(void 0===C){const w=function _g(s){return"function"==typeof s||"object"==typeof s&&s instanceof wn}(o)&&Wn(o);C=w&&this.injectableDefInScope(w)?ka(J6(o),Q6):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&pt.Self?X6():this.parent).get(o,c=d&pt.Optional&&c===ar?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[xr]=_[xr]||[]).unshift(ne(o)),h)throw _;return function Y(s,o,c,d){const h=s[xr];throw o[xi]&&h.unshift(o[xi]),s.message=function ae(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ne(o);if(Array.isArray(o))h=o.map(ne).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let C=o[_];p.push(_+":"+("string"==typeof C?JSON.stringify(C):ne(C)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(li,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[xr]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{kn(p),Tr(h)}}resolveInjectorInitializers(){const o=Tr(this),c=kn(void 0);try{const d=this.get(Z8.multi,at,pt.Self);for(const h of d)h()}finally{Tr(o),kn(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(ne(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(o){let c=j2(o=q(o))?o:q(o&&o.provide);const d=function X8(s){return O4(s)?ka(void 0,s.useValue):ka(J8(s),Q6)}(o);if(j2(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=ka(void 0,Q6,!0),h.factory=()=>Lt(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===Q6&&(c.value=mg,c.value=c.factory()),"object"==typeof c.value&&c.value&&function vg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=q(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function J6(s){const o=Wn(s),c=null!==o?o.factory:fo(s);if(null!==c)return c;if(s instanceof wn)throw new we(204,!1);if(s instanceof Function)return function gg(s){const o=s.length;if(o>0)throw Ao(o,"?"),new we(204,!1);const c=function Ui(s){const o=s&&(s[Hr]||s[hn]);if(o){const c=function Ai(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new we(204,!1)}function J8(s,o,c){let d;if(j2(s)){const h=q(s);return fo(h)||J6(h)}if(O4(s))d=()=>q(s.useValue);else if(function U2(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Lt(s.deps||[]));else if(function R4(s){return!(!s||!s.useExisting)}(s))d=()=>nt(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function eu(s){return!!s.deps}(s))return fo(h)||J6(h);d=()=>new h(...Lt(s.deps))}return d}function ka(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function ed(s,o){for(const c of s)Array.isArray(c)?ed(c,o):c&&Ae(c)?ed(c.\u0275providers,o):o(c)}class yg{}class k4{}class tu{resolveComponentFactory(o){throw function n7(s){const o=Error(`No component factory found for ${ne(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let al=(()=>{class s{}return s.NULL=new tu,s})();function P4(){return G2(Dr(),We())}function G2(s,o){return new z4(ui(s,o))}let z4=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=P4,s})();function Cg(s){return s instanceof z4?s.nativeElement:s}class r7{}let bg=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Eg(){const s=We(),c=Mr(Dr().index,s);return(Ur(c)?c:s)[11]}(),s})(),i7=(()=>{class s{}return s.\u0275prov=Dt({token:s,providedIn:"root",factory:()=>null}),s})();class s7{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const o7=new s7("15.1.0"),rd={};function sd(s){return s.ngOriginalError}class F4{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&sd(o);for(;c&&sd(c);)c=sd(c);return c||null}}function U1(s){return s instanceof Function?s():s}function f7(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}c=h+1}}const ad="ng-template";function ll(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==f7(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function nu(s){return 4===s.type&&s.value!==ad}function Ag(s,o,c){return o===(4!==s.type||c?s.value:ad)}function p7(s,o,c){let d=4;const h=s.attrs||[],p=function Sg(s){for(let o=0;o<s.length;o++)if(Qs(s[o]))return o;return s.length}(h);let _=!1;for(let C=0;C<o.length;C++){const w=o[C];if("number"!=typeof w){if(!_)if(4&d){if(d=2|1&d,""!==w&&!Ag(s,w,c)||""===w&&1===o.length){if(Es(d))return!1;_=!0}}else{const x=8&d?w:o[++C];if(8&d&&null!==s.attrs){if(!ll(s.attrs,x,c)){if(Es(d))return!1;_=!0}continue}const V=ru(8&d?"class":w,h,nu(s),c);if(-1===V){if(Es(d))return!1;_=!0;continue}if(""!==x){let oe;oe=V>p?"":h[V+1].toLowerCase();const me=8&d?oe:null;if(me&&-1!==f7(me,x,0)||2&d&&x!==oe){if(Es(d))return!1;_=!0}}}}else{if(!_&&!Es(d)&&!Es(w))return!1;if(_&&Es(w))continue;_=!1,d=w|1&d}}return Es(d)||_}function Es(s){return 0==(1&s)}function ru(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function xg(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function cd(s,o,c=!1){for(let d=0;d<o.length;d++)if(p7(s,o[d],c))return!0;return!1}function Tg(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function m7(s,o){return s?":not("+o.trim()+")":o}function Ng(s){let o=s[0],c=1,d=2,h="",p=!1;for(;c<s.length;){let _=s[c];if("string"==typeof _)if(2&d){const C=s[++c];h+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+_:4&d&&(h+=" "+_);else""!==h&&!Es(_)&&(o+=m7(p,h),h=""),d=_,p=p||!Es(d);c++}return""!==h&&(o+=m7(p,h)),o}const Kt={};function ld(s){g7(un(),We(),Ti()+s,!1)}function g7(s,o,c,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&_s(o,p,c)}else{const p=s.preOrderHooks;null!==p&&Co(o,p,0,c)}Zs(c)}function Fg(s,o=null,c=null,d){const h=Vg(s,o,c,d);return h.resolveInjectorInitializers(),h}function Vg(s,o=null,c=null,d,h=new Set){const p=[c||at,hg(s)];return d=d||("object"==typeof s?void 0:ne(s)),new t7(p,o||X6(),d||null,h)}let W2=(()=>{class s{static create(c,d){if(Array.isArray(c))return Fg({name:""},d,c,"");{const h=c.name??"";return Fg({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=ar,s.NULL=new ol,s.\u0275prov=Dt({token:s,providedIn:"any",factory:()=>nt(Q5)}),s.__NG_ELEMENT_ID__=-1,s})();function Z2(s,o=pt.Default){const c=We();return null===c?nt(s,o):C2(Dr(),c,q(s),o)}function w7(){throw new Error("invalid")}function M7(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d+1];if(-1!==p){const _=s.data[p];u2(c[d]),_.contentQueries(2,o[p],p)}}}function Os(s,o,c,d,h,p,_,C,w,x,O){const V=o.blueprint.slice();return V[0]=h,V[2]=76|d,(null!==O||s&&1024&s[2])&&(V[2]|=1024),a2(V),V[3]=V[15]=s,V[8]=c,V[10]=_||s&&s[10],V[11]=C||s&&s[11],V[12]=w||s&&s[12]||null,V[9]=x||s&&s[9]||null,V[6]=p,V[20]=function L5(){return Qc++}(),V[21]=O,V[16]=2==o.type?s[16]:V,V}function dl(s,o,c,d,h){let p=s.data[o];if(null===p)p=function cu(s,o,c,d,h){const p=ma(),_=qo(),w=s.data[o]=function I7(s,o,c,d,h,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=w),null!==p&&(_?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}(s,o,c,d,h),function y6(){return Gt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const _=function Wo(){const s=Gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return gs(p,!0),p}function B4(s,o,c,d){if(0===c)return-1;const h=o.length;for(let p=0;p<c;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function vd(s,o,c){ya(o);try{const d=s.viewQuery;null!==d&&z7(1,d,c);const h=s.template;null!==h&&za(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&M7(s,o),s.staticViewQueries&&z7(2,s.viewQuery,c);const p=s.components;null!==p&&function K2(s,o){for(let c=0;c<o.length;c++)j4(s,o[c])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,w6()}}function lu(s,o,c,d){const h=o[2];if(128!=(128&h)){ya(o);try{a2(o),function l4(s){return Gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&za(s,o,c,2,d);const _=3==(3&h);if(_){const x=s.preOrderCheckHooks;null!==x&&_s(o,x,null)}else{const x=s.preOrderHooks;null!==x&&Co(o,x,0,null),Ss(o,0)}if(function FE(s){for(let o=Wi(s);null!==o;o=ss(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d];512&h[2]||_o(h[3],1),h[2]|=512}}}(o),function P7(s){for(let o=Wi(s);null!==o;o=ss(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];$o(d)&&lu(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&M7(s,o),_){const x=s.contentCheckHooks;null!==x&&_s(o,x)}else{const x=s.contentHooks;null!==x&&Co(o,x,1),Ss(o,1)}!function zE(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Zs(~h);else{const p=h,_=c[++d],C=c[++d];_a(_,p),C(2,o[p])}}}finally{Zs(-1)}}(s,o);const C=s.components;null!==C&&function D7(s,o){for(let c=0;c<o.length;c++)VE(s,o[c])}(o,C);const w=s.viewQuery;if(null!==w&&z7(2,w,d),_){const x=s.viewCheckHooks;null!==x&&_s(o,x)}else{const x=s.viewHooks;null!==x&&Co(o,x,2),Ss(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,_o(o[3],-1))}finally{w6()}}}function za(s,o,c,d,h){const p=Ti(),_=2&d;try{Zs(-1),_&&o.length>22&&g7(s,o,22,!1),c(d,h)}finally{Zs(p)}}function _d(s,o,c){if(Is(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,c[p],p)}}}function l1(s,o,c){Tc()&&(function T7(s,o,c,d){const h=c.directiveStart,p=c.directiveEnd;b1(c)&&function fu(s,o,c){const d=ui(o,s),h=Oi(c),p=s[10],_=Q2(s,Os(s,h,null,c.onPush?32:16,d,o,p,p.createRenderer(d,c),null,null,null));s[o.index]=_}(o,c,s.data[h+c.componentOffset]),s.firstCreatePass||Xs(c,o),vi(d,o);const _=c.initialInputs;for(let C=h;C<p;C++){const w=s.data[C],x=ns(o,s,C,c);vi(x,o),null!==_&&k7(0,C-h,x,w,0,_),Rr(w)&&(Mr(c.index,o)[8]=ns(o,s,C,c))}}(s,o,c,ui(c,o)),64==(64&c.flags)&&Md(s,o,c))}function uu(s,o,c=ui){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const _=d[p+1],C=-1===_?c(o,s):s[_];s[h++]=C}}}function Oi(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=u1(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function u1(s,o,c,d,h,p,_,C,w,x){const O=22+d,V=O+h,oe=function qg(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:Kt);return c}(O,V),me="function"==typeof x?x():x;return oe[1]={type:s,blueprint:oe,template:c,queries:null,viewQuery:C,declTNode:o,data:oe.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:me,incompleteFirstPass:!1}}function yd(s,o,c,d){const h=Yg(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&Qg(s).push(d,h.length-1))}function Cd(s,o,c,d){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const p=s[h];null===d?bd(c,o,h,p):d.hasOwnProperty(h)&&bd(c,o,d[h],p)}return c}function bd(s,o,c,d){s.hasOwnProperty(c)?s[c].push(o,d):s[c]=[o,d]}function ws(s,o,c,d,h,p,_,C){const w=ui(o,c);let O,x=o.inputs;!C&&null!=x&&(O=x[d])?(F7(s,c,O,d,h),b1(o)&&Ed(c,o.index)):3&o.type&&(d=function S7(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=_?_(h,o.value||"",d):h,p.setProperty(w,d,h))}function Ed(s,o){const c=Mr(o,s);16&c[2]||(c[2]|=32)}function hu(s,o,c,d){let h=!1;if(Tc()){const p=null===d?null:{"":-1},_=function N7(s,o){const c=s.directiveRegistry;let d=null,h=null;if(c)for(let p=0;p<c.length;p++){const _=c[p];if(cd(o,_.selectors,!1))if(d||(d=[]),Rr(_))if(null!==_.findHostDirectiveDefs){const C=[];h=h||new Map,_.findHostDirectiveDefs(_,C,h),d.unshift(...C,_),U4(s,o,C.length)}else d.unshift(_),U4(s,o,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,d,h),d.push(_)}return null===d?null:[d,h]}(s,c);let C,w;null===_?C=w=null:[C,w]=_,null!==C&&(h=!0,wd(s,o,c,C,p,w)),p&&function L7(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=c[o[h+1]];if(null==p)throw new we(-301,!1);d.push(o[h],p)}}}(c,d,p)}return c.mergedAttrs=ys(c.mergedAttrs,c.attrs),h}function wd(s,o,c,d,h,p){for(let x=0;x<d.length;x++)Vc(Xs(c,o),s,d[x].type);!function R7(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}(c,s.data.length,d.length);for(let x=0;x<d.length;x++){const O=d[x];O.providersResolver&&O.providersResolver(O)}let _=!1,C=!1,w=B4(s,o,d.length,null);for(let x=0;x<d.length;x++){const O=d[x];c.mergedAttrs=ys(c.mergedAttrs,O.hostAttrs),Id(s,c,o,w,O),O7(w,O,h),null!==O.contentQueries&&(c.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(c.flags|=64);const V=O.type.prototype;!_&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),_=!0),!C&&(V.ngOnChanges||V.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),C=!0),w++}!function A7(s,o,c){const h=o.directiveEnd,p=s.data,_=o.attrs,C=[];let w=null,x=null;for(let O=o.directiveStart;O<h;O++){const V=p[O],oe=c?c.get(V):null,Oe=oe?oe.outputs:null;w=Cd(V.inputs,O,w,oe?oe.inputs:null),x=Cd(V.outputs,O,x,Oe);const st=null===w||null===_||nu(o)?null:as(w,O,_);C.push(st)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=8),w.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=C,o.inputs=w,o.outputs=x}(s,c,p)}function Md(s,o,c){const d=c.directiveStart,h=c.directiveEnd,p=c.index,_=function c2(){return Gt.lFrame.currentDirectiveIndex}();try{Zs(p);for(let C=d;C<h;C++){const w=s.data[C],x=o[C];yo(C),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Dd(w,x)}}finally{Zs(-1),yo(_)}}function Dd(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function U4(s,o,c){o.componentOffset=c,(s.components||(s.components=[])).push(o.index)}function O7(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Rr(o)&&(c[""]=s)}}function Id(s,o,c,d,h){s.data[d]=h;const p=h.factory||(h.factory=fo(h.type)),_=new Ca(p,Rr(h),Z2);s.blueprint[d]=_,c[d]=_,function x7(s,o,c,d,h){const p=h.hostBindings;if(p){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const C=~o.index;(function Kg(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(_)!=C&&_.push(C),_.push(c,d,p)}}(s,o,d,B4(s,c,h.hostVars,Kt),h)}function No(s,o,c,d,h,p){const _=ui(s,o);!function pu(s,o,c,d,h,p,_){if(null==p)s.removeAttribute(o,h,c);else{const C=null==_?Se(p):_(p,d||"",h);s.setAttribute(o,h,C,c)}}(o[11],_,p,s.value,c,d,h)}function k7(s,o,c,d,h,p){const _=p[o];if(null!==_){const C=d.setInput;for(let w=0;w<_.length;){const x=_[w++],O=_[w++],V=_[w++];null!==C?d.setInput(c,V,x,O):c[O]=V}}}function as(s,o,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const _=s[p];for(let C=0;C<_.length;C+=2)if(_[C]===o){d.push(p,_[C+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function j1(s,o,c,d){return[s,!0,!1,o,null,0,d,c,null,null]}function VE(s,o){const c=Mr(o,s);if($o(c)){const d=c[1];48&c[2]?lu(d,c,d.template,c[8]):c[5]>0&&Y2(c)}}function Y2(s){for(let d=Wi(s);null!==d;d=ss(d))for(let h=10;h<d.length;h++){const p=d[h];if($o(p))if(512&p[2]){const _=p[1];lu(_,p,_.template,p[8])}else p[5]>0&&Y2(p)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Mr(c[d],s);$o(h)&&h[5]>0&&Y2(h)}}function j4(s,o){const c=Mr(o,s),d=c[1];(function Ad(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),vd(d,c,c[8])}function Q2(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Sd(s){for(;s;){s[2]|=32;const o=Mt(s);if(m6(s)&&!o)return s;s=o}return null}function hl(s,o,c,d=!0){const h=o[10];h.begin&&h.begin();try{lu(s,o,s.template,c)}catch(_){throw d&&Jg(o,_),_}finally{h.end&&h.end()}}function z7(s,o,c){u2(0),o(s,c)}function Yg(s){return s[7]||(s[7]=[])}function Qg(s){return s.cleanup||(s.cleanup=[])}function Jg(s,o){const c=s[9],d=c?c.get(F4,null):null;d&&d.handleError(o)}function F7(s,o,c,d,h){for(let p=0;p<c.length;){const _=c[p++],C=c[p++],w=o[_],x=s.data[_];null!==x.setInput?x.setInput(w,h,d,C):w[C]=h}}function $1(s,o,c){const d=Ws(o,s);!function I4(s,o,c){s.setValue(o,c)}(s[11],d,c)}function $4(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const C=o[_];"number"==typeof C?p=C:1==p?h=Q(h,C):2==p&&(d=Q(d,C+": "+o[++_]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function mu(s,o,c,d,h=!1){for(;null!==c;){const p=o[c.index];if(null!==p&&d.push(sr(p)),jr(p))for(let C=10;C<p.length;C++){const w=p[C],x=w[1].firstChild;null!==x&&mu(w[1],w,x,d)}const _=c.type;if(8&_)mu(s,o,c.child,d);else if(32&_){const C=je(c,o);let w;for(;w=C();)d.push(w)}else if(16&_){const C=V6(o,c);if(Array.isArray(C))d.push(...C);else{const w=Mt(o[16]);mu(w[1],w,C,d,!0)}}c=h?c.projectionNext:c.next}return d}class G4{get rootNodes(){const o=this._lView,c=o[1];return mu(c,o,c.firstChild,[])}constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(jr(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(T8(o,d),$c(c,d))}this._attachedToViewContainer=!1}La(this._lView[1],this._lView)}onDestroy(o){yd(this._lView[1],this._lView,null,o)}markForCheck(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){hl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function A4(s,o){F1(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=o}}class ev extends G4{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;hl(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class gu extends al{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=dn(o);return new G1(c,this.ngModule)}}function fl(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class pl{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){d=xt(d);const h=this.injector.get(o,rd,d);return h!==rd||c===rd?h:this.parentInjector.get(o,c,d)}}class G1 extends k4{get inputs(){return fl(this.componentDef.inputs)}get outputs(){return fl(this.componentDef.outputs)}constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function su(s){return s.map(Ng).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}create(o,c,d,h){let p=(h=h||this.ngModule)instanceof $2?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new pl(o,p):o,C=_.get(r7,null);if(null===C)throw new we(407,!1);const w=_.get(i7,null),x=C.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",V=d?function os(s,o,c){return s.selectRootElement(o,c===$e.ShadowDom)}(x,d,this.componentDef.encapsulation):o1(x,O,function vu(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),oe=this.componentDef.onPush?288:272,me=u1(0,null,null,1,0,null,null,null,null,null),Oe=Os(null,me,null,oe,null,null,C,x,w,_,null);let st,te;ya(Oe);try{const vt=this.componentDef;let At,Qe=null;vt.findHostDirectiveDefs?(At=[],Qe=new Map,vt.findHostDirectiveDefs(vt,At,Qe),At.push(vt)):At=[vt];const Bt=function Td(s,o){const c=s[1];return s[22]=o,dl(c,22,2,"#host",null)}(Oe,V),Sn=function tv(s,o,c,d,h,p,_,C){const w=h[1];!function _u(s,o,c,d){for(const h of s)o.mergedAttrs=ys(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&($4(o,o.mergedAttrs,!0),null!==c&&V5(d,c,o))}(d,s,o,_);const x=p.createRenderer(o,c),O=Os(h,Oi(c),null,c.onPush?32:16,h[s.index],s,p,x,C||null,null,null);return w.firstCreatePass&&U4(w,s,d.length-1),Q2(h,O),h[s.index]=O}(Bt,V,vt,At,Oe,C,x);te=ha(me,22),V&&function H7(s,o,c,d){if(d)T1(s,c,["ng-version",o7.full]);else{const{attrs:h,classes:p}=function Lg(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&c.push(p);else{if(!Es(h))break;h=p}d++}return{attrs:o,classes:c}}(o.selectors[0]);h&&T1(s,c,h),p&&p.length>0&&R8(s,c,p.join(" "))}}(x,vt,V,d),void 0!==c&&function yu(s,o,c){const d=s.projection=[];for(let h=0;h<o.length;h++){const p=c[h];d.push(null!=p?Array.from(p):null)}}(te,this.ngContentSelectors,c),st=function V7(s,o,c,d,h,p){const _=Dr(),C=h[1],w=ui(_,h);wd(C,h,_,c,null,d);for(let O=0;O<c.length;O++)vi(ns(h,C,_.directiveStart+O,_),h);Md(C,h,_),w&&vi(w,h);const x=ns(h,C,_.directiveStart+_.componentOffset,_);if(s[8]=h[8]=x,null!==p)for(const O of p)O(x,o);return _d(C,_,s),x}(Sn,vt,At,Qe,Oe,[W4]),vd(me,Oe,null)}finally{w6()}return new xd(this.componentType,st,G2(te,Oe),Oe,te)}}class xd extends yg{constructor(o,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new ev(h),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const p=this._rootLView;F7(p[1],p,h,o,c),Ed(p,this._tNode.index)}}get injector(){return new Ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function W4(){const s=Dr();Ks(We()[1],s)}function B7(s){let o=function nv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(Rr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new we(903,!1);h=o.\u0275dir}if(h){if(c){d.push(h);const _=s;_.inputs=j7(s.inputs),_.declaredInputs=j7(s.declaredInputs),_.outputs=j7(s.outputs);const C=h.hostBindings;C&&bu(s,C);const w=h.viewQuery,x=h.contentQueries;if(w&&ml(s,w),x&&Cu(s,x),se(s.inputs,h.inputs),se(s.declaredInputs,h.declaredInputs),se(s.outputs,h.outputs),Rr(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const C=p[_];C&&C.ngInherit&&C(s),C===B7&&(c=!1)}}o=Object.getPrototypeOf(o)}!function U7(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=ys(h.hostAttrs,c=ys(c,h.hostAttrs))}}(d)}function j7(s){return s===mt?{}:s===at?[]:s}function ml(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function Cu(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,p)=>{o(d,h,p),c(d,h,p)}:o}function bu(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let Du=null;function Fa(){if(!Du){const s=Ot.Symbol;if(s&&s.iterator)Du=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Du=d)}}}return Du}function Iu(s){return!!$7(s)&&(Array.isArray(s)||!(s instanceof Map)&&Fa()in s)}function $7(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function no(s,o,c){return s[o]=c}function Ri(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function W1(s,o,c,d){const h=Ri(s,o,c);return Ri(s,o+1,d)||h}function Od(s,o,c,d){const h=We();return Ri(h,es(),o)&&(un(),No(Dn(),h,s,o,c,d)),Od}function X2(s,o,c,d,h,p){const C=W1(s,function $i(){return Gt.lFrame.bindingIndex}(),c,h);return vs(2),C?o+Se(c)+d+Se(h)+p:Kt}function Z7(s,o,c,d,h,p,_,C){const w=We(),x=un(),O=s+22,V=x.firstCreatePass?function q7(s,o,c,d,h,p,_,C,w){const x=o.consts,O=dl(o,s,4,_||null,ji(x,C));hu(o,c,O,ji(x,w)),Ks(o,O);const V=O.tViews=u1(2,O,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,O),V.queries=o.queries.embeddedTView(O)),O}(O,x,w,o,c,d,h,p,_):x.data[O];gs(V,!1);const oe=w[11].createComment("");Oa(x,w,oe,V),vi(oe,w),Q2(w,w[O]=j1(oe,w,oe,V)),s2(V)&&l1(x,w,V),null!=_&&uu(w,V,C)}function zd(s){return ms(function x1(){return Gt.lFrame.contextLView}(),22+s)}function Fd(s,o,c){const d=We();return Ri(d,es(),o)&&ws(un(),Dn(),d,s,o,d[11],c,!1),Fd}function Su(s,o,c,d,h){const _=h?"class":"style";F7(s,c,o.inputs[_],_,d)}function X4(s,o,c,d){const h=We(),p=un(),_=22+s,C=h[11],w=h[_]=o1(C,o,function M6(){return Gt.lFrame.currentNamespace}()),x=p.firstCreatePass?function uv(s,o,c,d,h,p,_){const C=o.consts,x=dl(o,s,2,h,ji(C,p));return hu(o,c,x,ji(C,_)),null!==x.attrs&&$4(x,x.attrs,!1),null!==x.mergedAttrs&&$4(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(_,p,h,0,o,c,d):p.data[_];return gs(x,!0),V5(C,w,x),32!=(32&x.flags)&&Oa(p,h,w,x),0===function S1(){return Gt.lFrame.elementDepthCount}()&&vi(w,h),function a4(){Gt.lFrame.elementDepthCount++}(),s2(x)&&(l1(p,h,x),_d(p,x,h)),null!==d&&uu(h,x),X4}function _l(){let s=Dr();qo()?ga():(s=s.parent,gs(s,!1));const o=s;!function pa(){Gt.lFrame.elementDepthCount--}();const c=un();return c.firstCreatePass&&(Ks(c,s),Is(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function m2(s){return 0!=(8&s.flags)}(o)&&Su(c,o,We(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ko(s){return 0!=(16&s.flags)}(o)&&Su(c,o,We(),o.stylesWithoutHost,!1),_l}function Vd(s,o,c,d){return X4(s,o,c,d),_l(),Vd}function xu(s,o,c){const d=We(),h=un(),p=s+22,_=h.firstCreatePass?function Hd(s,o,c,d,h){const p=o.consts,_=ji(p,d),C=dl(o,s,8,"ng-container",_);return null!==_&&$4(C,_,!0),hu(o,c,C,ji(p,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(p,h,d,o,c):h.data[p];gs(_,!0);const C=d[p]=d[11].createComment("");return Oa(h,d,C,_),vi(C,d),s2(_)&&(l1(h,d,_),_d(h,_,d)),null!=c&&uu(d,_),xu}function Z1(){let s=Dr();const o=un();return qo()?ga():(s=s.parent,gs(s,!1)),o.firstCreatePass&&(Ks(o,s),Is(s)&&o.queries.elementEnd(s)),Z1}function Tu(){return We()}function Bd(s){return!!s&&"function"==typeof s.then}function Nu(s){return!!s&&"function"==typeof s.subscribe}const Ud=Nu;function jd(s,o,c,d){const h=We(),p=un(),_=Dr();return function $d(s,o,c,d,h,p,_){const C=s2(d),x=s.firstCreatePass&&Qg(s),O=o[8],V=Yg(o);let oe=!0;if(3&d.type||_){const st=ui(d,o),te=_?_(st):st,vt=V.length,At=_?Bt=>_(sr(Bt[d.index])):d.index;let Qe=null;if(!_&&C&&(Qe=function dv(s,o,c,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===c&&h[p+1]===d){const C=o[7],w=h[p+2];return C.length>w?C[w]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,d.index)),null!==Qe)(Qe.__ngLastListenerFn__||Qe).__ngNextListenerFn__=p,Qe.__ngLastListenerFn__=p,oe=!1;else{p=J4(d,o,O,p,!1);const Bt=c.listen(te,h,p);V.push(p,Bt),x&&x.push(h,At,vt,vt+1)}}else p=J4(d,o,O,p,!1);const me=d.outputs;let Oe;if(oe&&null!==me&&(Oe=me[h])){const st=Oe.length;if(st)for(let te=0;te<st;te+=2){const Sn=o[Oe[te]][Oe[te+1]].subscribe(p),Vr=V.length;V.push(p,Sn),x&&x.push(h,d.index,Vr,-(Vr+1))}}}(p,h,h[11],_,s,o,d),jd}function Y7(s,o,c,d){try{return!1!==c(d)}catch(h){return Jg(s,h),!1}}function J4(s,o,c,d,h){return function p(_){if(_===Function)return d;Sd(s.componentOffset>-1?Mr(s.index,o):o);let w=Y7(o,0,d,_),x=p.__ngNextListenerFn__;for(;x;)w=Y7(o,0,x,_)&&w,x=x.__ngNextListenerFn__;return h&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function Gd(s=1){return function b8(s){return(Gt.lFrame.contextLView=function h2(s,o){for(;s>0;)o=o[15],s--;return o}(s,Gt.lFrame.contextLView))[8]}(s)}function hv(s,o){let c=null;const d=function iu(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(!(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?cd(s,p,!0):Tg(d,p))return h}else c=h}return c}function Wd(s){const o=We()[16][6];if(!o.projection){const d=o.projection=Ao(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const _=s?hv(p,s):0;null!==_&&(h[_]?h[_].projectionNext=p:d[_]=p,h[_]=p),p=p.next}}}function Q7(s,o=0,c){const d=We(),h=un(),p=dl(h,22+s,16,null,c||null);null===p.projection&&(p.projection=o),ga(),32!=(32&p.flags)&&function a1(s,o,c){U6(o[11],0,o,c,O5(s,c,o),P5(c.parent||o[6],c,o))}(h,d,p)}function Lu(s,o){return s<<17|o<<2}function Ha(s){return s>>17&32767}function Xd(s){return 2|s}function Ba(s){return(131068&s)>>2}function Jd(s,o){return-131069&s|o<<2}function eh(s){return 1|s}function mv(s,o,c,d,h){const p=s[c+1],_=null===o;let C=d?Ha(p):Ba(p),w=!1;for(;0!==C&&(!1===w||_);){const O=s[C+1];ZE(s[C],o)&&(w=!0,s[C+1]=d?eh(O):Xd(O)),C=d?Ha(O):Ba(O)}w&&(s[c+1]=d?Xd(p):eh(p))}function ZE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Gr(s,o)>=0}function s0(s,o,c){return qi(s,o,c,!1),s0}function Ru(s,o){return qi(s,o,null,!0),Ru}function qi(s,o,c,d){const h=We(),p=un(),_=vs(2);p.firstUpdatePass&&function r9(s,o,c,d){const h=s.data;if(null===h[c+1]){const p=h[Ti()],_=function Cv(s,o){return o>=s.expandoStartIndex}(s,c);(function Fe(s,o){return 0!=(s.flags&(o?8:16))})(p,d)&&null===o&&!_&&(o=!1),o=function sh(s,o,c,d){const h=function l2(s){const o=Gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=o0(c=oh(null,s,o,c,d),o.attrs,d),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(c=oh(h,s,o,c,d),null===p){let w=function bv(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==Ba(d))return s[Ha(d)]}(s,o,d);void 0!==w&&Array.isArray(w)&&(w=oh(null,s,o,w[1],d),w=o0(w,o.attrs,d),function Ev(s,o,c,d){s[Ha(c?o.classBindings:o.styleBindings)]=d}(s,o,d,w))}else p=function wv(s,o,c){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=o0(d,s[p].hostAttrs,c);return o0(d,o.attrs,c)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),c}(h,p,o,d),function th(s,o,c,d,h,p){let _=p?o.classBindings:o.styleBindings,C=Ha(_),w=Ba(_);s[d]=c;let O,x=!1;if(Array.isArray(c)?(O=c[1],(null===O||Gr(c,O)>0)&&(x=!0)):O=c,h)if(0!==w){const oe=Ha(s[C+1]);s[d+1]=Lu(oe,C),0!==oe&&(s[oe+1]=Jd(s[oe+1],d)),s[C+1]=function e9(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=Lu(C,0),0!==C&&(s[C+1]=Jd(s[C+1],d)),C=d;else s[d+1]=Lu(w,0),0===C?C=d:s[w+1]=Jd(s[w+1],d),w=d;x&&(s[d+1]=Xd(s[d+1])),mv(s,O,d,!0),mv(s,O,d,!1),function qE(s,o,c,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Gr(p,o)>=0&&(c[d+1]=eh(c[d+1]))}(o,O,s,d,p),_=Lu(C,w),p?o.classBindings=_:o.styleBindings=_}(h,p,o,c,_,d)}}(p,s,_,d),o!==Kt&&Ri(h,_,o)&&function i9(s,o,c,d,h,p,_,C){if(!(3&o.type))return;const w=s.data,x=w[C+1],O=function t9(s){return 1==(1&s)}(x)?Dv(w,o,c,h,Ba(x),_):void 0;ah(O)||(ah(p)||function t0(s){return 2==(2&s)}(x)&&(p=Dv(w,null,c,h,C,_)),function j6(s,o,c,d,h){if(o)h?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:Li.DashCase;null==h?s.removeStyle(c,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Li.Important),s.setStyle(c,d,h,p))}}(d,_,Ws(Ti(),c),h,p))}(p,p.data[Ti()],h,h[11],s,h[_+1]=function ew(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ne(c1(s)))),s}(o,c),d,_)}function oh(s,o,c,d,h){let p=null;const _=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<_&&(p=o[C],d=o0(d,p.hostAttrs,h),p!==s);)C++;return null!==s&&(c.directiveStylingLast=C),d}function o0(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),it(s,_,!!c||o[++p]))}return void 0===s?null:s}function Dv(s,o,c,d,h,p){const _=null===o;let C;for(;h>0;){const w=s[h],x=Array.isArray(w),O=x?w[1]:w,V=null===O;let oe=c[h+1];oe===Kt&&(oe=V?at:void 0);let me=V?kr(oe,d):O===d?oe:void 0;if(x&&!ah(me)&&(me=kr(w,d)),ah(me)&&(C=me,_))return C;const Oe=s[h+1];h=_?Ha(Oe):Ba(Oe)}if(null!==o){let w=p?o.residualClasses:o.residualStyles;null!=w&&(C=kr(w,d))}return C}function ah(s){return void 0!==s}function h1(s,o=""){const c=We(),d=un(),h=s+22,p=d.firstCreatePass?dl(d,h,1,o,null):d.data[h],_=c[h]=function O2(s,o){return s.createText(o)}(c[11],o);Oa(d,c,_,p),gs(p,!1)}function Cl(s){return mn("",s,""),Cl}function mn(s,o,c){const d=We(),h=function q1(s,o,c,d){return Ri(s,es(),c)?o+Se(c)+d:Kt}(d,s,o,c);return h!==Kt&&$1(d,Ti(),h),mn}function f1(s,o,c,d,h){const p=We(),_=X2(p,s,o,c,d,h);return _!==Kt&&$1(p,Ti(),_),f1}function ph(s,o,c){const d=We();return Ri(d,es(),o)&&ws(un(),Dn(),d,s,o,d[11],c,!0),ph}const K1=void 0;var gh=["en",[["a","p"],["AM","PM"],K1],[["AM","PM"],K1,K1],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],K1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],K1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",K1,"{1} 'at' {0}",K1],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p9(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let tc={};function vh(s){const o=function _9(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=g9(o);if(c)return c;const d=o.split("-")[0];if(c=g9(d),c)return c;if("en"===d)return gh;throw new we(701,!1)}function Hu(s){return vh(s)[kt.PluralCase]}function g9(s){return s in tc||(tc[s]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[s]),tc[s]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const El="en-US";let yh=El;function Pt(s,o,c,d,h){if(s=q(s),Array.isArray(s))for(let p=0;p<s.length;p++)Pt(s[p],o,c,d,h);else{const p=un(),_=We();let C=j2(s)?s:q(s.provide),w=J8(s);const x=Dr(),O=1048575&x.providerIndexes,V=x.directiveStart,oe=x.providerIndexes>>20;if(j2(s)||!s.multi){const me=new Ca(w,h,Z2),Oe=Wu(C,o,h?O:O+oe,V);-1===Oe?(Vc(Xs(x,_),p,C),er(p,s,o.length),o.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(me),_.push(me)):(c[Oe]=me,_[Oe]=me)}else{const me=Wu(C,o,O+oe,V),Oe=Wu(C,o,O,O+oe),te=Oe>=0&&c[Oe];if(h&&!te||!h&&!(me>=0&&c[me])){Vc(Xs(x,_),p,C);const vt=function Il(s,o,c,d,h){const p=new Ca(s,c,Z2);return p.multi=[],p.index=o,p.componentProviders=0,m1(p,h,d&&!c),p}(h?o_:s_,c.length,h,d,w);!h&&te&&(c[Oe].providerFactory=vt),er(p,s,o.length,0),o.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(vt),_.push(vt)}else er(p,s,me>-1?me:Oe,m1(c[h?Oe:me],w,!h&&d));!h&&d&&te&&c[Oe].componentProviders++}}}function er(s,o,c,d){const h=j2(o),p=function pg(s){return!!s.useClass}(o);if(h||p){const w=(p?q(o.useClass):o).prototype.ngOnDestroy;if(w){const x=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=x.indexOf(c);-1===O?x.push(c,[d,w]):x[O+1].push(d,w)}else x.push(c,w)}}}function m1(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Wu(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function s_(s,o,c,d){return k9(this.multi,[])}function o_(s,o,c,d){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=ns(c,c[1],this.providerFactory.index,d);p=C.slice(0,_),k9(h,p);for(let w=_;w<C.length;w++)p.push(C[w])}else p=[],k9(h,p);return p}function k9(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function P9(s,o=[]){return c=>{c.providersResolver=(d,h)=>function i_(s,o,c){const d=un();if(d.firstCreatePass){const h=Rr(s);Pt(c,d.data,d.blueprint,h,!0),Pt(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Al{}class z9{}function a_(s,o){return new Sl(s,o??null)}class Sl extends Al{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gu(this);const d=gr(o);this._bootstrapComponents=U1(d.bootstrap),this._r3Injector=Vg(o,c,[{provide:Al,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Nh extends z9{constructor(o){super(),this.moduleType=o}create(o){return new Sl(this.moduleType,o)}}class c_ extends Al{constructor(o,c,d){super(),this.componentFactoryResolver=new gu(this),this.instance=null;const h=new t7([...o,{provide:Al,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],c||X6(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Lh(s,o,c=null){return new c_(s,o,c).injector}let l_=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=X5(0,c.type),h=d.length>0?Lh([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Dt({token:s,providedIn:"environment",factory:()=>new s(nt($2))}),s})();function F9(s){s.getStandaloneInjector=o=>o.get(l_).getOrCreateStandaloneInjector(s)}function V9(s,o,c,d){return U9(We(),ur(),s,o,c,d)}function zi(s,o,c,d,h){return v0(We(),ur(),s,o,c,d,h)}function Zr(s,o){const c=s[o];return c===Kt?void 0:c}function U9(s,o,c,d,h,p){const _=o+c;return Ri(s,_,h)?no(s,_+1,p?d.call(p,h):d(h)):Zr(s,_+1)}function v0(s,o,c,d,h,p,_){const C=o+c;return W1(s,C,h,p)?no(s,C+2,_?d.call(_,h,p):d(h,p)):Zr(s,C+2)}function ko(s,o){const c=un();let d;const h=s+22;c.firstCreatePass?(d=function zh(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const p=d.factory||(d.factory=fo(d.type)),_=kn(Z2);try{const C=Cs(!1),w=p();return Cs(C),function GE(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,We(),h,w),w}finally{kn(_)}}function j9(s,o,c){const d=s+22,h=We(),p=ms(h,d);return y0(h,d)?U9(h,ur(),o,p.transform,c,p):p.transform(c)}function sc(s,o,c,d){const h=s+22,p=We(),_=ms(p,h);return y0(p,h)?v0(p,ur(),o,_.transform,c,d,_):_.transform(c,d)}function y0(s,o){return s[1].data[o].pure}function xl(s){return o=>{setTimeout(s,void 0,o)}}const io=class W9 extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let h=o,p=c||(()=>null),_=d;if(o&&"object"==typeof o){const w=o;h=w.next?.bind(w),p=w.error?.bind(w),_=w.complete?.bind(w)}this.__isAsync&&(p=xl(p),h&&(h=xl(h)),_&&(_=xl(_)));const C=super.subscribe({next:h,error:p,complete:_});return o instanceof P.w0&&o.add(C),C}};function Vh(){return this._results[Fa()]()}class C0{get changes(){return this._changes||(this._changes=new io)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Fa(),d=C0.prototype;d[c]||(d[c]=Vh)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=function Jr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function jc(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let b0=(()=>{class s{}return s.__NG_ELEMENT_ID__=q9,s})();const g_=b0,Hh=class extends g_{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,h=Os(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(d)),vd(d,h,o),new G4(h)}};function q9(){return e3(Dr(),We())}function e3(s,o){return 4&s.type?new Hh(o,s,G2(s,o)):null}let $a=(()=>{class s{}return s.__NG_ELEMENT_ID__=v_,s})();function v_(){return t3(Dr(),We())}const E0=$a,Z9=class extends E0{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return G2(this._hostTNode,this._hostLView)}get injector(){return new Ts(this._hostTNode,this._hostLView)}get parentInjector(){const o=wa(this._hostTNode,this._hostLView);if(zc(o)){const c=xs(o,this._hostLView),d=N1(o);return new Ts(c[1].data[d+8],c)}return new Ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=K9(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const _=o.createEmbeddedView(c||{},p);return this.insert(_,h),_}createComponent(o,c,d,h,p){const _=o&&!function e1(s){return"function"==typeof s}(o);let C;if(_)C=c;else{const V=c||{};C=V.index,d=V.injector,h=V.projectableNodes,p=V.environmentInjector||V.ngModuleRef}const w=_?o:new G1(dn(o)),x=d||this.parentInjector;if(!p&&null==w.ngModule){const oe=(_?x:this.parentInjector).get($2,null);oe&&(p=oe)}const O=w.create(x,h,void 0,p);return this.insert(O.hostView,C),O}insert(o,c){const d=o._lView,h=d[1];if(function o4(s){return jr(s[3])}(d)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const V=d[3],oe=new Z9(V,V[6],V[3]);oe.detach(oe.indexOf(o))}}const p=this._adjustIndex(c),_=this._lContainer;!function x8(s,o,c,d){const h=10+d,p=c.length;d>0&&(c[h-1][4]=o),d<p-10?(o[4]=c[h],x6(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const _=o[17];null!==_&&c!==_&&function R2(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(_,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=64}(h,d,_,p);const C=O8(p,_),w=d[11],x=x4(w,_[7]);return null!==x&&function k6(s,o,c,d,h,p){d[0]=h,d[6]=o,F1(s,d,c,1,h,p)}(h,_[6],w,d,x,C),o.attachToViewContainerRef(),x6(Tl(_),p,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=K9(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=T8(this._lContainer,c);d&&($c(Tl(this._lContainer),c),La(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=T8(this._lContainer,c);return d&&null!=$c(Tl(this._lContainer),c)?new G4(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function K9(s){return s[8]}function Tl(s){return s[8]||(s[8]=[])}function t3(s,o){let c;const d=o[s.index];if(jr(d))c=d;else{let h;if(8&s.type)h=sr(d);else{const p=o[11];h=p.createComment("");const _=ui(s,o);To(p,x4(p,_),h,function el(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=c=j1(d,o,h,s),Q2(o,c)}return new Z9(c,s,o)}class n3{constructor(o){this.queryList=o,this.matches=null}clone(){return new n3(this.queryList)}setDirty(){this.queryList.setDirty()}}class r3{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const _=c.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new r3(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==ii(o,c).matches&&this.queries[c].setDirty()}}class Bh{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class Nl{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new Nl(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class w0{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new w0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,c,Uh(c,p)),this.matchTNodeWithReadOption(o,c,Qo(c,o,p,!1,!1))}else d===b0?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Qo(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===z4||h===$a||h===b0&&4&c.type)this.addMatch(c.index,-2);else{const p=Qo(c,o,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function Uh(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function $h(s,o,c,d){return-1===c?function jh(s,o){return 11&s.type?G2(s,o):4&s.type?e3(s,o):null}(o,s):-2===c?function Y9(s,o,c){return c===z4?G2(o,s):c===b0?e3(o,s):c===$a?t3(o,s):void 0}(s,o,d):ns(s,s[1],c,o)}function Gh(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,_=c.matches,C=[];for(let w=0;w<_.length;w+=2){const x=_[w];C.push(x<0?null:$h(o,p[x],_[w+1],c.metadata.read))}h.matches=C}return h.matches}function Wh(s,o,c,d){const h=s.queries.getByIndex(c),p=h.matches;if(null!==p){const _=Gh(s,o,h,c);for(let C=0;C<p.length;C+=2){const w=p[C];if(w>0)d.push(_[C/2]);else{const x=p[C+1],O=o[-w];for(let V=10;V<O.length;V++){const oe=O[V];oe[17]===oe[3]&&Wh(oe[1],oe,x,d)}if(null!==O[9]){const V=O[9];for(let oe=0;oe<V.length;oe++){const me=V[oe];Wh(me[1],me,x,d)}}}}}return d}function qh(s){const o=We(),c=un(),d=u4();u2(d+1);const h=ii(c,d);if(s.dirty&&function fa(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Wh(c,o,d,[]):Gh(c,o,h,d);s.reset(p,Cg),s.notifyOnChanges()}return!0}return!1}function Zh(s,o,c){const d=un();d.firstCreatePass&&(o3(d,new Bh(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),s3(d,We(),o)}function i3(s,o,c,d){const h=un();if(h.firstCreatePass){const p=Dr();o3(h,new Bh(o,c,d),p.index),function Yh(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}s3(h,We(),c)}function Kh(){return function __(s,o){return s[19].queries[o].queryList}(We(),u4())}function s3(s,o,c){const d=new C0(4==(4&c));yd(s,o,d,d.destroy),null===o[19]&&(o[19]=new r3),o[19].queries.push(new n3(d))}function o3(s,o,c){null===s.queries&&(s.queries=new Nl),s.queries.track(new w0(o,c))}function ii(s,o){return s.queries.getByIndex(o)}function Ci(s,o){return e3(s,o)}function Wa(...s){}const g3=new wn("Application Initializer");let v3=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Wa,this.reject=Wa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Bd(p))c.push(p);else if(Ud(p)){const _=new Promise((C,w)=>{p.subscribe({complete:C,error:w})});c.push(_)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(nt(g3,8))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const lp=new wn("AppId",{providedIn:"root",factory:function sf(){return`${af()}${af()}${af()}`}});function af(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qa=new wn("Platform Initializer"),J1=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),T0=new wn("appBootstrapListener"),up=new wn("AnimationModuleType");let hr=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Za=new wn("LocaleId",{providedIn:"root",factory:()=>lt(Za,pt.Optional|pt.SkipSelf)||function _3(){return typeof $localize<"u"&&$localize.locale||El}()}),N0=new wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class k_{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let P_=(()=>{class s{compileModuleSync(c){return new Nh(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=U1(gr(c).declarations).reduce((_,C)=>{const w=dn(C);return w&&_.push(new G1(w)),_},[]);return new k_(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const V_=(()=>Promise.resolve(0))();function df(s){typeof Zone>"u"?V_.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ps{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new io(!1),this.onMicrotaskEmpty=new io(!1),this.onStable=new io(!1),this.onError=new io(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function dp(){let s=Ot.requestAnimationFrame,o=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function fp(s){const o=()=>{!function hf(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ot,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,C3(s),s.isCheckStableRunning=!0,L0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),C3(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,_,C)=>{try{return b3(s),c.invokeTask(h,p,_,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),pp(s)}},onInvoke:(c,d,h,p,_,C,w)=>{try{return b3(s),c.invoke(h,p,_,C,w)}finally{s.shouldCoalesceRunChangeDetection&&o(),pp(s)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,C3(s),L0(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ps.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Ps.isInAngularZone())throw new we(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,hp,Wa,Wa);try{return p.runTask(_,c,d)}finally{p.cancelTask(_)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const hp={};function L0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function C3(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function b3(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function pp(s){s._nesting--,L0(s)}class H_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new io,this.onMicrotaskEmpty=new io,this.onStable=new io,this.onError=new io}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}const mp=new wn(""),O0=new wn("");let E3,R0=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,E3||(function ff(s){E3=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ps.assertNotInAngularZone(),df(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())df(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(nt(Ps),nt(k0),nt(O0))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac}),s})(),k0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return E3?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),so=null;const zl=new wn("AllowMultipleToken"),pf=new wn("PlatformDestroyListeners");class U_{constructor(o,c){this.name=o,this.token=c}}function vf(s,o,c=[]){const d=`Platform: ${o}`,h=new wn(d);return(p=[])=>{let _=P0();if(!_||_.injector.get(zl,!1)){const C=[...c,...p,{provide:h,useValue:!0}];s?s(C):function vp(s){if(so&&!so.get(zl,!1))throw new we(400,!1);so=s;const o=s.get(Fl);(function mf(s){const o=s.get(qa,null);o&&o.forEach(c=>c())})(s)}(function _f(s=[],o){return W2.create({name:o,providers:[{provide:Y8,useValue:"platform"},{provide:pf,useValue:new Set([()=>so=null])},...s]})}(C,d))}return function ea(s){const o=P0();if(!o)throw new we(401,!1);return o}()}}function P0(){return so?.get(Fl)??null}let Fl=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function w3(s,o){let c;return c="noop"===s?new H_:("zone.js"===s?void 0:s)||new Ps(o),c}(d?.ngZone,function yf(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:Ps,useValue:h}];return h.run(()=>{const _=W2.create({providers:p,parent:this.injector,name:c.moduleType.name}),C=c.create(_),w=C.injector.get(F4,null);if(!w)throw new we(402,!1);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:O=>{w.handleError(O)}});C.onDestroy(()=>{M3(this._modules,C),x.unsubscribe()})}),function z0(s,o,c){try{const d=c();return Bd(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(w,h,()=>{const x=C.injector.get(v3);return x.runInitializers(),x.donePromise.then(()=>(function C9(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(yh=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Za,El)||El),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,d=[]){const h=Cf({},d);return function gp(s,o,c){const d=new Nh(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(ac);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new we(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(pf,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(nt(W2))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Cf(s,o){return Array.isArray(o)?o.reduce(Cf,s):{...s,...o}}let ac=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new T.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),_=new T.y(C=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Ps.assertNotInAngularZone(),df(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{w.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ee.T)(p,_.pipe((0,W.B)()))}bootstrap(c,d){const h=c instanceof k4;if(!this._injector.get(v3).done)throw!h&&Zn(c),new we(405,false);let _;_=h?c:this._injector.get(al).resolveComponentFactory(c),this.componentTypes.push(_.componentType);const C=function B_(s){return s.isBoundToModule}(_)?void 0:this._injector.get(Al),x=_.create(W2.NULL,[],d||_.selector,C),O=x.location.nativeElement,V=x.injector.get(mp,null);return V?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),M3(this.components,x),V?.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;M3(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(T0,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>M3(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new we(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(nt(Ps),nt($2),nt(F4))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function M3(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}function yp(){return!1}function Cp(){}let D3=(()=>{class s{}return s.__NG_ELEMENT_ID__=wp,s})();function wp(s){return function Mp(s,o,c){if(b1(s)&&!c){const d=Mr(s.index,o);return new G4(d,d)}return 47&s.type?new G4(o[16],o):null}(Dr(),We(),16==(16&s))}class ta{constructor(){}supports(o){return Iu(o)}create(o){return new Y_(o)}}const Df=(s,o)=>o;class Y_{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Df}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const _=!d||c&&c.currentIndex<S3(d,h,p)?c:d,C=S3(_,h,p),w=_.currentIndex;if(_===d)h--,d=d._nextRemoved;else if(c=c._next,null==_.previousIndex)h++;else{p||(p=[]);const x=C-h,O=w-h;if(x!=O){for(let oe=0;oe<x;oe++){const me=oe<p.length?p[oe]:p[oe]=0,Oe=me+oe;O<=Oe&&Oe<x&&(p[oe]=me+1)}p[_.previousIndex]=O-x}}C!==w&&o(_,C,w)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Iu(o))throw new we(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)p=o[C],_=this._trackByFn(C,p),null!==c&&Object.is(c.trackById,_)?(d&&(c=this._verifyReinsertion(c,p,_,C)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,_,C),d=!0),c=c._next}else h=0,function Ld(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Fa()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,C=>{_=this._trackByFn(h,C),null!==c&&Object.is(c.trackById,_)?(d&&(c=this._verifyReinsertion(c,C,_,h)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,_,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,p,h)):o=this._addAfter(new et(c,d),p,h),o}_verifyReinsertion(o,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ya),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ya),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class et{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zr{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Ya{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new zr,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function S3(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class gt{constructor(){}supports(o){return o instanceof Map||$7(o)}create(){return new It}}class It{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||$7(o)))throw new we(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const d=new Q_(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class Q_{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ut(){return new xe([new ta])}let xe=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||ut()),deps:[[s,new ve,new G]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new we(901,!1)}}return s.\u0275prov=Dt({token:s,providedIn:"root",factory:ut}),s})();function Kr(){return new x3([new gt])}let x3=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Kr()),deps:[[s,new ve,new G]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new we(901,!1)}}return s.\u0275prov=Dt({token:s,providedIn:"root",factory:Kr}),s})();const ey=vf(null,"core",[]);let Sp=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(nt(ac))},s.\u0275mod=Us({type:s}),s.\u0275inj=fr({}),s})();function ty(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ce,K,S)=>{S.d(K,{Z:()=>Ue});var l=S(2090),P=S(4859),T=S(9681),ee=S(1877);class W{constructor(we,De){this._delegate=we,this.firebase=De,(0,T._addComponent)(we,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(we,De=T._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(we);return!Ne.isInitialized()&&"EXPLICIT"===(null===(Se=Ne.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:De})}_removeServiceInstance(we,De=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(De)}_addComponent(we){(0,T._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,T._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function Q(){const tt=function ne(tt){const we={},De={__esModule:!0,initializeApp:function Pe(fe,Ee={}){const ke=T.initializeApp(fe,Ee);if((0,l.r3)(we,ke.name))return we[ke.name];const le=new tt(ke,De);return we[ke.name]=le,le},app:Ne,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function ze(fe){const Ee=fe.name,ke=Ee.replace("-compat","");if(T._registerComponent(fe)&&"PUBLIC"===fe.type){const le=(ue=Ne())=>{if("function"!=typeof ue[ke])throw se.create("invalid-app-argument",{appName:Ee});return ue[ke]()};void 0!==fe.serviceProps&&(0,l.ZB)(le,fe.serviceProps),De[ke]=le,tt.prototype[ke]=function(...ue){return this._getService.bind(this,Ee).apply(this,fe.multipleInstances?ue:[])}}return"PUBLIC"===fe.type?De[ke]:null},removeApp:function Se(fe){delete we[fe]},useAsService:function Je(fe,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:T}};function Ne(fe){if(!(0,l.r3)(we,fe=fe||T._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:fe});return we[fe]}return De.default=De,Object.defineProperty(De,"apps",{get:function Ve(){return Object.keys(we).map(fe=>we[fe])}}),Ne.App=tt,De}(W);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function we(De){(0,l.ZB)(tt,De)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),tt}(),H=new ee.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=F;!function Ae(tt){(0,T.registerVersion)("@firebase/app-compat","0.2.0",tt)}()},9681:(ce,K,S)=>{S.r(K),S.d(K,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Ui,_DEFAULT_ENTRY_NAME:()=>gn,_addComponent:()=>an,_addOrOverwriteComponent:()=>Gn,_apps:()=>jt,_clearComponents:()=>fr,_components:()=>Et,_getProvider:()=>Dt,_registerComponent:()=>Wt,_removeServiceInstance:()=>ci,deleteApp:()=>Si,getApp:()=>qn,getApps:()=>Hr,initializeApp:()=>Ai,onLog:()=>pt,registerVersion:()=>nr,setLogLevel:()=>Bn});var l=S(5861),P=S(4859),T=S(1877),ee=S(2090),W=S(8766);class X{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(lt=>{if(function se(nt){return"VERSION"===nt.getComponent()?.type}(lt)){const xt=lt.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(lt=>lt).join(" ")}}const ne="@firebase/app",Q="0.9.0",F=new T.Yd("@firebase/app"),gn="[DEFAULT]",Tt={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,Et=new Map;function an(nt,Be){try{nt.container.addComponent(Be)}catch(lt){F.debug(`Component ${Be.name} failed to register with FirebaseApp ${nt.name}`,lt)}}function Gn(nt,Be){nt.container.addOrOverwriteComponent(Be)}function Wt(nt){const Be=nt.name;if(Et.has(Be))return F.debug(`There were multiple attempts to register component ${Be}.`),!1;Et.set(Be,nt);for(const lt of jt.values())an(lt,nt);return!0}function Dt(nt,Be){const lt=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return lt&&lt.triggerHeartbeat(),nt.container.getProvider(Be)}function ci(nt,Be,lt=gn){Dt(nt,Be).clearInstance(lt)}function fr(){Et.clear()}const xn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ii{constructor(Be,lt,xt){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},lt),this._name=lt.name,this._automaticDataCollectionEnabled=lt.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const Ui="9.15.0";function Ai(nt,Be={}){let lt=nt;"object"!=typeof Be&&(Be={name:Be});const xt=Object.assign({name:gn,automaticDataCollectionEnabled:!1},Be),Lt=xt.name;if("string"!=typeof Lt||!Lt)throw xn.create("bad-app-name",{appName:String(Lt)});if(lt||(lt=(0,ee.aH)()),!lt)throw xn.create("no-options");const Xt=jt.get(Lt);if(Xt){if((0,ee.vZ)(lt,Xt.options)&&(0,ee.vZ)(xt,Xt.config))return Xt;throw xn.create("duplicate-app",{appName:Lt})}const J=new P.H0(Lt);for(const ae of Et.values())J.addComponent(ae);const Y=new Ii(lt,xt,J);return jt.set(Lt,Y),Y}function qn(nt=gn){const Be=jt.get(nt);if(!Be&&nt===gn)return Ai();if(!Be)throw xn.create("no-app",{appName:nt});return Be}function Hr(){return Array.from(jt.values())}function Si(nt){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(nt){const Be=nt.name;jt.has(Be)&&(jt.delete(Be),yield Promise.all(nt.container.getProviders().map(lt=>lt.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function nr(nt,Be,lt){var xt;let Lt=null!==(xt=Tt[nt])&&void 0!==xt?xt:nt;lt&&(Lt+=`-${lt}`);const Xt=Lt.match(/\s|\//),J=Be.match(/\s|\//);if(Xt||J){const Y=[`Unable to register library "${Lt}" with version "${Be}":`];return Xt&&Y.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),Xt&&J&&Y.push("and"),J&&Y.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void F.warn(Y.join(" "))}Wt(new P.wA(`${Lt}-version`,()=>({library:Lt,version:Be}),"VERSION"))}function pt(nt,Be){if(null!==nt&&"function"!=typeof nt)throw xn.create("invalid-log-argument");(0,T.Am)(nt,Be)}function Bn(nt){(0,T.Ub)(nt)}const rr="firebase-heartbeat-store";let Er=null;function Ot(){return Er||(Er=(0,W.X3)("firebase-heartbeat-database",1,{upgrade:(nt,Be)=>{0===Be&&nt.createObjectStore(rr)}}).catch(nt=>{throw xn.create("idb-open",{originalErrorMessage:nt.message})})),Er}function Rt(){return(Rt=(0,l.Z)(function*(nt){try{return(yield Ot()).transaction(rr).objectStore(rr).get(Fn(nt))}catch(Be){if(Be instanceof ee.ZR)F.warn(Be.message);else{const lt=xn.create("idb-get",{originalErrorMessage:Be?.message});F.warn(lt.message)}}})).apply(this,arguments)}function pn(nt,Be){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(nt,Be){try{const xt=(yield Ot()).transaction(rr,"readwrite");return yield xt.objectStore(rr).put(Be,Fn(nt)),xt.done}catch(lt){if(lt instanceof ee.ZR)F.warn(lt.message);else{const xt=xn.create("idb-set",{originalErrorMessage:lt?.message});F.warn(xt.message)}}})).apply(this,arguments)}function Fn(nt){return`${nt.name}!${nt.options.appId}`}class li{constructor(Be){this.container=Be,this._heartbeatsCache=null;const lt=this.container.getProvider("app").getImmediate();this._storage=new qt(lt),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Be=this;return(0,l.Z)(function*(){const xt=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=Ut();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!Be._heartbeatsCache.heartbeats.some(Xt=>Xt.date===Lt))return Be._heartbeatsCache.heartbeats.push({date:Lt,agent:xt}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(Xt=>{const J=new Date(Xt.date).valueOf();return Date.now()-J<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,l.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const lt=Ut(),{heartbeatsToSend:xt,unsentEntries:Lt}=function xi(nt,Be=1024){const lt=[];let xt=nt.slice();for(const Lt of nt){const Xt=lt.find(J=>J.agent===Lt.agent);if(Xt){if(Xt.dates.push(Lt.date),Tr(lt)>Be){Xt.dates.pop();break}}else if(lt.push({agent:Lt.agent,dates:[Lt.date]}),Tr(lt)>Be){lt.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:lt,unsentEntries:xt}}(Be._heartbeatsCache.heartbeats),Xt=(0,ee.L)(JSON.stringify({version:2,heartbeats:xt}));return Be._heartbeatsCache.lastSentHeartbeatDate=lt,Lt.length>0?(Be._heartbeatsCache.heartbeats=Lt,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),Xt})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class qt{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,l.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function wt(nt){return Rt.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var lt=this;return(0,l.Z)(function*(){var xt;if(yield lt._canUseIndexedDBPromise){const Xt=yield lt.read();return pn(lt.app,{lastSentHeartbeatDate:null!==(xt=Be.lastSentHeartbeatDate)&&void 0!==xt?xt:Xt.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var lt=this;return(0,l.Z)(function*(){var xt;if(yield lt._canUseIndexedDBPromise){const Xt=yield lt.read();return pn(lt.app,{lastSentHeartbeatDate:null!==(xt=Be.lastSentHeartbeatDate)&&void 0!==xt?xt:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...Be.heartbeats]})}})()}}function Tr(nt){return(0,ee.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function Un(nt){Wt(new P.wA("platform-logger",Be=>new X(Be),"PRIVATE")),Wt(new P.wA("heartbeat",Be=>new li(Be),"PRIVATE")),nr(ne,Q,nt),nr(ne,Q,"esm2017"),nr("fire-js","")}("")},4859:(ce,K,S)=>{S.d(K,{H0:()=>ne,wA:()=>T});var l=S(5861),P=S(2090);class T{constructor(F,H,q){this.name=F,this.instanceFactory=H,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ee="[DEFAULT]";class W{constructor(F,H){this.name=F,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const H=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(H)){const q=new P.BH;if(this.instancesDeferred.set(H,q),this.isInitialized(H)||this.shouldAutoInitialize())try{const be=this.getOrInitializeService({instanceIdentifier:H});be&&q.resolve(be)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(F){var H;const q=this.normalizeInstanceIdentifier(F?.identifier),be=null!==(H=F?.optional)&&void 0!==H&&H;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Ae){if(be)return null;throw Ae}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function se(Q){return"EAGER"===Q.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[H,q]of this.instancesDeferred.entries()){const be=this.normalizeInstanceIdentifier(H);try{const Ae=this.getOrInitializeService({instanceIdentifier:be});q.resolve(Ae)}catch{}}}}clearInstance(F=ee){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,l.Z)(function*(){const H=Array.from(F.instances.values());yield Promise.all([...H.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...H.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ee){return this.instances.has(F)}getOptions(F=ee){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:H={}}=F,q=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const be=this.getOrInitializeService({instanceIdentifier:q,options:H});for(const[Ae,Ue]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Ae)&&Ue.resolve(be);return be}onInit(F,H){var q;const be=this.normalizeInstanceIdentifier(H),Ae=null!==(q=this.onInitCallbacks.get(be))&&void 0!==q?q:new Set;Ae.add(F),this.onInitCallbacks.set(be,Ae);const Ue=this.instances.get(be);return Ue&&F(Ue,be),()=>{Ae.delete(F)}}invokeOnInitCallbacks(F,H){const q=this.onInitCallbacks.get(H);if(q)for(const be of q)try{be(F,H)}catch{}}getOrInitializeService({instanceIdentifier:F,options:H={}}){let q=this.instances.get(F);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=F,Q===ee?void 0:Q),options:H}),this.instances.set(F,q),this.instancesOptions.set(F,H),this.invokeOnInitCallbacks(q,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,q)}catch{}var Q;return q||null}normalizeInstanceIdentifier(F=ee){return this.component?this.component.multipleInstances?F:ee:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const H=this.getProvider(F.name);if(H.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);H.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const H=new W(F,this);return this.providers.set(F,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(ce,K,S)=>{S.d(K,{Am:()=>Q,Ub:()=>ne,Yd:()=>se,in:()=>P});const l=[];var P=(()=>{return(F=P||(P={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",P;var F})();const T={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},ee=P.INFO,W={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},X=(F,H,...q)=>{if(H<F.logLevel)return;const be=(new Date).toISOString(),Ae=W[H];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ae](`[${be}]  ${F.name}:`,...q)};class se{constructor(H){this.name=H,this._logLevel=ee,this._logHandler=X,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in P))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?T[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...H),this._logHandler(this,P.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...H),this._logHandler(this,P.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,P.INFO,...H),this._logHandler(this,P.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,P.WARN,...H),this._logHandler(this,P.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...H),this._logHandler(this,P.ERROR,...H)}}function ne(F){l.forEach(H=>{H.setLogLevel(F)})}function Q(F,H){for(const q of l){let be=null;H&&H.level&&(be=T[H.level]),q.userLogHandler=null===F?null:(Ae,Ue,...tt)=>{const we=tt.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch{return null}}).filter(De=>De).join(" ");Ue>=(be??Ae.logLevel)&&F({level:P[Ue].toLowerCase(),message:we,args:tt,type:Ae.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(K,S){if(this.action=K,this.timestamp=S,this.type=PERFORM_ACTION,typeof K.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(K){this.timestamp=K,this.type=RESET}}class Rollback{constructor(K){this.timestamp=K,this.type=ROLLBACK}}class Commit{constructor(K){this.timestamp=K,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(K){this.id=K,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(K,S,l=!0){this.start=K,this.end=S,this.active=l,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(K){this.index=K,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(K){this.actionId=K,this.type=JUMP_TO_ACTION}}class ImportState{constructor(K){this.nextLiftedState=K,this.type=IMPORT_STATE}}class LockChanges{constructor(K){this.status=K,this.type=LOCK_CHANGES}}class PauseRecording{constructor(K){this.status=K,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(ce){const K={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},S="function"==typeof ce?ce():ce,T=Object.assign({},K,{features:S.features||!!S.logOnly&&{pause:!0,export:!0,test:!0}||K.features},S);if(T.maxAge&&T.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${T.maxAge}`);return T}function difference(ce,K){return ce.filter(S=>K.indexOf(S)<0)}function unliftState(ce){const{computedStates:K,currentStateIndex:S}=ce;if(S>=K.length){const{state:P}=K[K.length-1];return P}const{state:l}=K[S];return l}function unliftAction(ce){return ce.actionsById[ce.nextActionId-1]}function liftAction(ce){return new PerformAction(ce,+Date.now())}function sanitizeActions(ce,K){return Object.keys(K).reduce((S,l)=>{const P=Number(l);return S[P]=sanitizeAction(ce,K[P],P),S},{})}function sanitizeAction(ce,K,S){return{...K,action:ce(K.action,S)}}function sanitizeStates(ce,K){return K.map((S,l)=>({state:sanitizeState(ce,S.state,l),error:S.error}))}function sanitizeState(ce,K,S){return ce(K,S)}function shouldFilterActions(ce){return ce.predicate||ce.actionsSafelist||ce.actionsBlocklist}function filterLiftedState(ce,K,S,l){const P=[],T={},ee=[];return ce.stagedActionIds.forEach((W,X)=>{const se=ce.actionsById[W];se&&(X&&isActionFiltered(ce.computedStates[X],se,K,S,l)||(T[W]=se,P.push(W),ee.push(ce.computedStates[X])))}),{...ce,stagedActionIds:P,actionsById:T,computedStates:ee}}function isActionFiltered(ce,K,S,l,P){const T=S&&!S(ce,K.action),ee=l&&!K.action.type.match(l.map(X=>escapeRegExp(X)).join("|")),W=P&&K.action.type.match(P.map(X=>escapeRegExp(X)).join("|"));return T||ee||W}function escapeRegExp(ce){return ce.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class ce extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return ce.\u0275fac=function(){let K;return function(l){return(K||(K=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(ce)))(l||ce)}}(),ce.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(ce,K,S){this.config=K,this.dispatcher=S,this.devtoolsExtension=ce,this.createActionStreams()}notify(ce,K){if(this.devtoolsExtension)if(ce.type===PERFORM_ACTION){if(K.isLocked||K.isPaused)return;const S=unliftState(K);if(shouldFilterActions(this.config)&&isActionFiltered(S,ce,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const l=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,S,K.currentStateIndex):S,P=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,ce,K.nextActionId):ce;this.sendToReduxDevtools(()=>this.extensionConnection.send(P,l))}else{const S={...K,stagedActionIds:K.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,K.actionsById):K.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,K.computedStates):K.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,S,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(ce=>{const K=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=K,K.init(),K.subscribe(S=>ce.next(S)),K.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const ce=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),K=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(W=>W.type===ExtensionActionTypes.START)),S=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(W=>W.type===ExtensionActionTypes.STOP)),l=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(W=>W.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(W=>this.unwrapAction(W.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(W=>W.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(X=>X.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>W),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(W)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(W))),T=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(W=>W.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(W=>this.unwrapAction(W.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),ee=l.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S));this.start$=K.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>T)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ee))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(ce){const K={name:ce.name,features:ce.features,serialize:ce.serialize,autoPause:ce.autoPause??!1,trace:ce.trace??!1,traceLimit:ce.traceLimit??75};return!1!==ce.maxAge&&(K.maxAge=ce.maxAge),K}sendToReduxDevtools(ce){try{ce()}catch(K){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",K)}}}return DevtoolsExtension.\u0275fac=function ce(K){return new(K||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(ce,K,S,l,P){if(l)return{state:S,error:"Interrupted by an error up the chain"};let ee,T=S;try{T=ce(S,K)}catch(W){ee=W.toString(),P.handleError(W)}return{state:T,error:ee}}function recomputeStates(ce,K,S,l,P,T,ee,W,X){if(K>=ce.length&&ce.length===T.length)return ce;const se=ce.slice(0,K),ne=T.length-(X?1:0);for(let Q=K;Q<ne;Q++){const F=T[Q],H=P[F].action,q=se[Q-1],be=q?q.state:l,Ae=q?q.error:void 0,tt=ee.indexOf(F)>-1?q:computeNextEntry(S,H,be,Ae,W);se.push(tt)}return X&&se.push(ce[ce.length-1]),se}function liftInitialState(ce,K){return{monitorState:K(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:ce,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(ce,K,S,l,P={}){return T=>(ee,W)=>{let{monitorState:X,actionsById:se,nextActionId:ne,stagedActionIds:Q,skippedActionIds:F,committedState:H,currentStateIndex:q,computedStates:be,isLocked:Ae,isPaused:Ue}=ee||K;function tt(Se){let Ne=Se,Pe=Q.slice(1,Ne+1);for(let Ve=0;Ve<Pe.length;Ve++){if(be[Ve+1].error){Ne=Ve,Pe=Q.slice(1,Ne+1);break}delete se[Pe[Ve]]}F=F.filter(Ve=>-1===Pe.indexOf(Ve)),Q=[0,...Q.slice(Ne+1)],H=be[Ne].state,be=be.slice(Ne),q=q>Ne?q-Ne:0}function we(){se={0:liftAction(INIT_ACTION)},ne=1,Q=[0],F=[],H=be[q].state,q=0,be=[]}ee||(se=Object.create(se));let De=0;switch(W.type){case LOCK_CHANGES:Ae=W.status,De=1/0;break;case PAUSE_RECORDING:Ue=W.status,Ue?(Q=[...Q,ne],se[ne]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ne++,De=Q.length-1,be=be.concat(be[be.length-1]),q===Q.length-2&&q++,De=1/0):we();break;case RESET:se={0:liftAction(INIT_ACTION)},ne=1,Q=[0],F=[],H=ce,q=0,be=[];break;case COMMIT:we();break;case ROLLBACK:se={0:liftAction(INIT_ACTION)},ne=1,Q=[0],F=[],q=0,be=[];break;case TOGGLE_ACTION:{const{id:Se}=W;F=-1===F.indexOf(Se)?[Se,...F]:F.filter(Pe=>Pe!==Se),De=Q.indexOf(Se);break}case SET_ACTIONS_ACTIVE:{const{start:Se,end:Ne,active:Pe}=W,Ve=[];for(let ze=Se;ze<Ne;ze++)Ve.push(ze);F=Pe?difference(F,Ve):[...F,...Ve],De=Q.indexOf(Se);break}case JUMP_TO_STATE:q=W.index,De=1/0;break;case JUMP_TO_ACTION:{const Se=Q.indexOf(W.actionId);-1!==Se&&(q=Se),De=1/0;break}case SWEEP:Q=difference(Q,F),F=[],q=Math.min(q,Q.length-1);break;case PERFORM_ACTION:{if(Ae)return ee||K;if(Ue||ee&&isActionFiltered(ee.computedStates[q],W,P.predicate,P.actionsSafelist,P.actionsBlocklist)){const Ne=be[be.length-1];be=[...be.slice(0,-1),computeNextEntry(T,W.action,Ne.state,Ne.error,S)],De=1/0;break}P.maxAge&&Q.length===P.maxAge&&tt(1),q===Q.length-1&&q++;const Se=ne++;se[Se]=W,Q=[...Q,Se],De=Q.length-1;break}case IMPORT_STATE:({monitorState:X,actionsById:se,nextActionId:ne,stagedActionIds:Q,skippedActionIds:F,committedState:H,currentStateIndex:q,computedStates:be,isLocked:Ae,isPaused:Ue}=W.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:De=0,P.maxAge&&Q.length>P.maxAge&&(be=recomputeStates(be,De,T,H,se,Q,F,S,Ue),tt(Q.length-P.maxAge),De=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(be.filter(Ne=>Ne.error).length>0)De=0,P.maxAge&&Q.length>P.maxAge&&(be=recomputeStates(be,De,T,H,se,Q,F,S,Ue),tt(Q.length-P.maxAge),De=1/0);else{if(!Ue&&!Ae){q===Q.length-1&&q++;const Ne=ne++;se[Ne]=new PerformAction(W,+Date.now()),Q=[...Q,Ne],De=Q.length-1,be=recomputeStates(be,De,T,H,se,Q,F,S,Ue)}be=be.map(Ne=>({...Ne,state:T(Ne.state,RECOMPUTE_ACTION)})),q=Q.length-1,P.maxAge&&Q.length>P.maxAge&&tt(Q.length-P.maxAge),De=1/0}break;default:De=1/0}return be=recomputeStates(be,De,T,H,se,Q,F,S,Ue),X=l(X,W),{monitorState:X,actionsById:se,nextActionId:ne,stagedActionIds:Q,skippedActionIds:F,committedState:H,currentStateIndex:q,computedStates:be,isLocked:Ae,isPaused:Ue}}}let StoreDevtools=(()=>{class ce{constructor(S,l,P,T,ee,W,X,se){const ne=liftInitialState(X,se.monitor),Q=liftReducerWith(X,ne,W,se.monitor,se),F=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(l.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),T.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),S,T.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),H=P.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Q)),q=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),be=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(H),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:we},[De,Se])=>{let Ne=Se(we,De);return De.type!==PERFORM_ACTION&&shouldFilterActions(se)&&(Ne=filterLiftedState(Ne,se.predicate,se.actionsSafelist,se.actionsBlocklist)),T.notify(De,Ne),{state:Ne,action:De}},{state:ne,action:null})).subscribe(({state:we,action:De})=>{q.next(we),De.type===PERFORM_ACTION&&ee.next(De.action)}),Ae=T.start$.subscribe(()=>{this.refresh()}),Ue=q.asObservable(),tt=Ue.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ae,this.stateSubscription=be,this.dispatcher=S,this.liftedState=Ue,this.state=tt}dispatch(S){this.dispatcher.next(S)}next(S){this.dispatcher.next(S)}error(S){}complete(){}performAction(S){this.dispatch(new PerformAction(S,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(S){this.dispatch(new ToggleAction(S))}jumpToAction(S){this.dispatch(new JumpToAction(S))}jumpToState(S){this.dispatch(new JumpToState(S))}importState(S){this.dispatch(new ImportState(S))}lockChanges(S){this.dispatch(new LockChanges(S))}pauseRecording(S){this.dispatch(new PauseRecording(S))}}return ce.\u0275fac=function(S){return new(S||ce)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},ce.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(ce,K){return Boolean(ce)||K.monitor!==noMonitor}function createReduxDevtoolsExtension(){const ce="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[ce]<"u"?window[ce]:null}function provideStoreDevtools(ce={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:ce},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(ce){return ce.state}let StoreDevtoolsModule=(()=>{class ce{static instrument(S={}){return{ngModule:ce,providers:[provideStoreDevtools(S)]}}}return ce.\u0275fac=function(S){return new(S||ce)},ce.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ce}),ce.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),ce})()},9653:(ce,K,S)=>{S.d(K,{UO:()=>Je,qg:()=>ze,Y6:()=>le,mK:()=>nr,n$:()=>hn,Y$:()=>kn,FR:()=>Er,yh:()=>pn,CK:()=>Bo,Aw:()=>ps,cr:()=>$s,wb:()=>pt,PH:()=>Ae,ZF:()=>at,Lq:()=>lo,P1:()=>Ce,on:()=>cr,Ky:()=>Ue});var l=S(4650),P=S(1135),T=S(9751),ee=S(7579),W=S(233),X=S(5363),se=S(1365),ne=S(5026),Q=S(4004),H=S(1884);const q={};function Ae(B,_e){if(q[B]=(q[B]||0)+1,"function"==typeof _e)return we(B,(...Me)=>({..._e(...Me),type:B}));switch(_e?_e._as:"empty"){case"empty":return we(B,()=>({type:B}));case"props":return we(B,Me=>({...Me,type:B}));default:throw new Error("Unexpected config.")}}function Ue(){return{_as:"props",_p:void 0}}function we(B,_e){return Object.defineProperty(_e,"type",{value:B,writable:!1})}const ze="@ngrx/store/init";let Je=(()=>{class B extends P.X{constructor(){super({type:ze})}next(de){if("function"==typeof de)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof de>"u")throw new TypeError("Actions must be objects");if(typeof de.type>"u")throw new TypeError("Actions must have a type property");super.next(de)}complete(){}ngOnDestroy(){super.complete()}}return B.\u0275fac=function(de){return new(de||B)},B.\u0275prov=l.Yz7({token:B,factory:B.\u0275fac}),B})();const fe=[Je],Ee=new l.OlP("@ngrx/store Internal Root Guard"),ke=new l.OlP("@ngrx/store Internal Initial State"),le=new l.OlP("@ngrx/store Initial State"),ue=new l.OlP("@ngrx/store Reducer Factory"),Ie=new l.OlP("@ngrx/store Internal Reducer Factory Provider"),ge=new l.OlP("@ngrx/store Initial Reducers"),Ye=new l.OlP("@ngrx/store Internal Initial Reducers"),Xe=new l.OlP("@ngrx/store Store Features"),Ct=new l.OlP("@ngrx/store Internal Store Reducers"),on=new l.OlP("@ngrx/store Internal Feature Reducers"),gn=new l.OlP("@ngrx/store Internal Feature Configs"),Tt=new l.OlP("@ngrx/store Internal Store Features"),jt=new l.OlP("@ngrx/store Internal Feature Reducers Token"),Et=new l.OlP("@ngrx/store Feature Reducers"),an=new l.OlP("@ngrx/store User Provided Meta Reducers"),Gn=new l.OlP("@ngrx/store Meta Reducers"),Wt=new l.OlP("@ngrx/store Internal Resolved Meta Reducers"),Dt=new l.OlP("@ngrx/store User Runtime Checks Config"),ci=new l.OlP("@ngrx/store Internal User Runtime Checks Config"),fr=new l.OlP("@ngrx/store Internal Runtime Checks"),Wn=new l.OlP("@ngrx/store Check if Action types are unique");function Ui(B,_e={}){const de=Object.keys(B),Me={};for(let ot=0;ot<de.length;ot++){const tn=de[ot];"function"==typeof B[tn]&&(Me[tn]=B[tn])}const Ge=Object.keys(Me);return function(tn,Nn){tn=void 0===tn?_e:tn;let fn=!1;const Yn={};for(let Jt=0;Jt<Ge.length;Jt++){const En=Ge[Jt],Ur=tn[En],jr=(0,Me[En])(Ur,Nn);Yn[En]=jr,fn=fn||jr!==Ur}return fn?Yn:tn}}function qn(...B){return function(_e){if(0===B.length)return _e;const de=B[B.length-1];return B.slice(0,-1).reduceRight((Ge,ot)=>ot(Ge),de(_e))}}function Hr(B,_e){return Array.isArray(_e)&&_e.length>0&&(B=qn.apply(null,[..._e,B])),(de,Me)=>{const Ge=B(de);return(ot,tn)=>Ge(ot=void 0===ot?Me:ot,tn)}}new l.OlP("@ngrx/store Root Store Provider"),new l.OlP("@ngrx/store Feature State Provider");class hn extends T.y{}class nr extends Je{}const pt="@ngrx/store/update-reducers";let Bn=(()=>{class B extends P.X{constructor(de,Me,Ge,ot){super(ot(Ge,Me)),this.dispatcher=de,this.initialState=Me,this.reducers=Ge,this.reducerFactory=ot}get currentReducers(){return this.reducers}addFeature(de){this.addFeatures([de])}addFeatures(de){const Me=de.reduce((Ge,{reducers:ot,reducerFactory:tn,metaReducers:Nn,initialState:fn,key:Yn})=>{const Jt="function"==typeof ot?function Si(B){const _e=Array.isArray(B)&&B.length>0?qn(...B):de=>de;return(de,Me)=>(de=_e(de),(Ge,ot)=>de(Ge=void 0===Ge?Me:Ge,ot))}(Nn)(ot,fn):Hr(tn,Nn)(ot,fn);return Ge[Yn]=Jt,Ge},{});this.addReducers(Me)}removeFeature(de){this.removeFeatures([de])}removeFeatures(de){this.removeReducers(de.map(Me=>Me.key))}addReducer(de,Me){this.addReducers({[de]:Me})}addReducers(de){this.reducers={...this.reducers,...de},this.updateReducers(Object.keys(de))}removeReducer(de){this.removeReducers([de])}removeReducers(de){de.forEach(Me=>{this.reducers=function Ai(B,_e){return Object.keys(B).filter(de=>de!==_e).reduce((de,Me)=>Object.assign(de,{[Me]:B[Me]}),{})}(this.reducers,Me)}),this.updateReducers(de)}updateReducers(de){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:pt,features:de})}ngOnDestroy(){this.complete()}}return B.\u0275fac=function(de){return new(de||B)(l.LFG(nr),l.LFG(le),l.LFG(ge),l.LFG(ue))},B.\u0275prov=l.Yz7({token:B,factory:B.\u0275fac}),B})();const br=[Bn,{provide:hn,useExisting:Bn},{provide:nr,useExisting:Je}];let kn=(()=>{class B extends ee.x{ngOnDestroy(){this.complete()}}return B.\u0275fac=function(){let _e;return function(Me){return(_e||(_e=l.n5z(B)))(Me||B)}}(),B.\u0275prov=l.Yz7({token:B,factory:B.\u0275fac}),B})();const rr=[kn];class Er extends T.y{}let Ot=(()=>{class B extends P.X{constructor(de,Me,Ge,ot){super(ot);const Yn=de.pipe((0,X.Q)(W.N)).pipe((0,se.M)(Me)).pipe((0,ne.R)(wt,{state:ot}));this.stateSubscription=Yn.subscribe(({state:Jt,action:En})=>{this.next(Jt),Ge.next(En)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return B.INIT=ze,B.\u0275fac=function(de){return new(de||B)(l.LFG(Je),l.LFG(hn),l.LFG(kn),l.LFG(le))},B.\u0275prov=l.Yz7({token:B,factory:B.\u0275fac}),B})();function wt(B={state:void 0},[_e,de]){const{state:Me}=B;return{state:de(Me,_e),action:_e}}const Rt=[Ot,{provide:Er,useExisting:Ot}];let pn=(()=>{class B extends T.y{constructor(de,Me,Ge){super(),this.actionsObserver=Me,this.reducerManager=Ge,this.source=de}select(de,...Me){return Fn.call(null,de,...Me)(this)}lift(de){const Me=new B(this,this.actionsObserver,this.reducerManager);return Me.operator=de,Me}dispatch(de){this.actionsObserver.next(de)}next(de){this.actionsObserver.next(de)}error(de){this.actionsObserver.error(de)}complete(){this.actionsObserver.complete()}addReducer(de,Me){this.reducerManager.addReducer(de,Me)}removeReducer(de){this.reducerManager.removeReducer(de)}}return B.\u0275fac=function(de){return new(de||B)(l.LFG(Er),l.LFG(Je),l.LFG(Bn))},B.\u0275prov=l.Yz7({token:B,factory:B.\u0275fac}),B})();const ar=[pn];function Fn(B,_e,...de){return function(Ge){let ot;if("string"==typeof B){const tn=[_e,...de].filter(Boolean);ot=Ge.pipe(function F(...B){const _e=B.length;if(0===_e)throw new Error("list of properties cannot be empty.");return(0,Q.U)(de=>{let Me=de;for(let Ge=0;Ge<_e;Ge++){const ot=Me?.[B[Ge]];if(!(typeof ot<"u"))return;Me=ot}return Me})}(B,...tn))}else{if("function"!=typeof B)throw new TypeError(`Unexpected type '${typeof B}' in select operator, expected 'string' or 'function'`);ot=Ge.pipe((0,Q.U)(tn=>B(tn,_e)))}return ot.pipe((0,H.x)())}}const xr="https://ngrx.io/guide/store/configuration/runtime-checks";function ir(B){return void 0===B}function li(B){return null===B}function Ut(B){return Array.isArray(B)}function Un(B){return"object"==typeof B&&null!==B}function lt(B){return"function"==typeof B}function ae(B,_e){return B===_e}function $(B,_e,de){for(let Me=0;Me<B.length;Me++)if(!de(B[Me],_e[Me]))return!0;return!1}function U(B,_e=ae,de=ae){let ot,Me=null,Ge=null;return{memoized:function Yn(){if(void 0!==ot)return ot.result;if(!Me)return Ge=B.apply(null,arguments),Me=arguments,Ge;if(!$(arguments,Me,_e))return Ge;const Jt=B.apply(null,arguments);return Me=arguments,de(Ge,Jt)?Ge:(Ge=Jt,Jt)},reset:function tn(){Me=null,Ge=null},setResult:function Nn(Jt){ot={result:Jt}},clearResult:function fn(){ot=void 0}}}function Ce(...B){return function mt(B,_e={stateFn:$e}){return function(...de){let Me=de;if(Array.isArray(Me[0])){const[Jt,...En]=Me;Me=[...Jt,...En]}else 1===Me.length&&function Ht(B){return!!B&&"object"==typeof B&&Object.values(B).every(_e=>"function"==typeof _e)}(Me[0])&&(Me=function yt(B){const _e=Object.values(B),de=Object.keys(B);return[..._e,(...Ge)=>de.reduce((ot,tn,Nn)=>({...ot,[tn]:Ge[Nn]}),{})]}(Me[0]));const Ge=Me.slice(0,Me.length-1),ot=Me[Me.length-1],tn=Ge.filter(Jt=>Jt.release&&"function"==typeof Jt.release),Nn=B(function(...Jt){return ot.apply(null,Jt)}),fn=U(function(Jt,En){return _e.stateFn.apply(null,[Jt,Ge,En,Nn])});return Object.assign(fn.memoized,{release:function Yn(){fn.reset(),Nn.reset(),tn.forEach(Jt=>Jt.release())},projector:Nn.memoized,setResult:fn.setResult,clearResult:fn.clearResult})}}(U)(...B)}function $e(B,_e,de,Me){if(void 0===de){const ot=_e.map(tn=>tn(B));return Me.memoized.apply(null,ot)}const Ge=_e.map(ot=>ot(B,de));return Me.memoized.apply(null,[...Ge,de])}function at(B){return Ce(_e=>{const de=_e[B];return(0,l.X6Q)()&&!(B in _e)&&console.warn(`@ngrx/store: The feature name "${B}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${B}', ...) or StoreModule.forFeature('${B}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),de},_e=>_e)}function Nr(B){return B instanceof l.OlP?(0,l.f3M)(B):B}function v1(B,_e){return _e.map((de,Me)=>{if(B[Me]instanceof l.OlP){const Ge=(0,l.f3M)(B[Me]);return{key:de.key,reducerFactory:Ge.reducerFactory?Ge.reducerFactory:Ui,metaReducers:Ge.metaReducers?Ge.metaReducers:[],initialState:Ge.initialState}}return de})}function Bs(B){return B.map(_e=>_e instanceof l.OlP?(0,l.f3M)(_e):_e)}function co(B){return"function"==typeof B?B():B}function _1(B,_e){return B.concat(_e)}function mr(){if((0,l.f3M)(pn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ho(B){Object.freeze(B);const _e=lt(B);return Object.getOwnPropertyNames(B).forEach(de=>{if(!de.startsWith("\u0275")&&function Lt(B,_e){return Object.prototype.hasOwnProperty.call(B,_e)}(B,de)&&(!_e||"caller"!==de&&"callee"!==de&&"arguments"!==de)){const Me=B[de];(Un(Me)||lt(Me))&&!Object.isFrozen(Me)&&Ho(Me)}}),B}function js(B,_e=[]){return(ir(B)||li(B))&&0===_e.length?{path:["root"],value:B}:Object.keys(B).reduce((Me,Ge)=>{if(Me)return Me;const ot=B[Ge];return function xt(B){return lt(B)&&B.hasOwnProperty("\u0275cmp")}(ot)?Me:!(ir(ot)||li(ot)||function Tr(B){return"number"==typeof B}(ot)||function qt(B){return"boolean"==typeof B}(ot)||function xi(B){return"string"==typeof B}(ot)||Ut(ot))&&(function Be(B){if(!function nt(B){return Un(B)&&!Ut(B)}(B))return!1;const _e=Object.getPrototypeOf(B);return _e===Object.prototype||null===_e}(ot)?js(ot,[..._e,Ge]):{path:[..._e,Ge],value:ot})},!1)}function Ms(B,_e){if(!1===B)return;const de=B.path.join("."),Me=new Error(`Detected unserializable ${_e} at "${de}". ${xr}#strict${_e}serializability`);throw Me.value=B.value,Me.unserializablePath=de,Me}function Pn(B){return(0,l.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...B}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function wr({strictActionSerializability:B,strictStateSerializability:_e}){return de=>B||_e?function y1(B,_e){return function(de,Me){_e.action(Me)&&Ms(js(Me),"action");const Ge=B(de,Me);return _e.state()&&Ms(js(Ge),"state"),Ge}}(de,{action:Me=>B&&!gr(Me),state:()=>_e}):de}function Zn({strictActionImmutability:B,strictStateImmutability:_e}){return de=>B||_e?function Us(B,_e){return function(de,Me){const Ge=_e.action(Me)?Ho(Me):Me,ot=B(de,Ge);return _e.state()?Ho(ot):ot}}(de,{action:Me=>B&&!gr(Me),state:()=>_e}):de}function gr(B){return B.type.startsWith("@ngrx")}function Lr({strictActionWithinNgZone:B}){return _e=>B?function dn(B,_e){return function(de,Me){if(_e.action(Me)&&!l.R0b.isInAngularZone())throw new Error(`Action '${Me.type}' running outside NgZone. ${xr}#strictactionwithinngzone`);return B(de,Me)}}(_e,{action:de=>B&&!gr(de)}):_e}function ft(B){return[{provide:ci,useValue:B},{provide:Dt,useFactory:zn,deps:[ci]},{provide:fr,deps:[Dt],useFactory:Pn},{provide:Gn,multi:!0,deps:[fr],useFactory:Zn},{provide:Gn,multi:!0,deps:[fr],useFactory:wr},{provide:Gn,multi:!0,deps:[fr],useFactory:Lr}]}function Ft(){return[{provide:Wn,multi:!0,deps:[fr],useFactory:Or}]}function zn(B){return B}function Or(B){if(!B.strictActionTypeUniqueness)return;const _e=Object.entries(q).filter(([,de])=>de>1).map(([de])=>de);if(_e.length)throw new Error(`Action types are registered more than once, ${_e.map(de=>`"${de}"`).join(", ")}. ${xr}#strictactiontypeuniqueness`)}function Kn(B={},_e={}){return[{provide:Ee,useFactory:mr},{provide:ke,useValue:_e.initialState},{provide:le,useFactory:co,deps:[ke]},{provide:Ye,useValue:B},{provide:Ct,useExisting:B instanceof l.OlP?B:Ye},{provide:ge,deps:[Ye,[new l.tBr(Ct)]],useFactory:Nr},{provide:an,useValue:_e.metaReducers?_e.metaReducers:[]},{provide:Wt,deps:[Gn,an],useFactory:_1},{provide:Ie,useValue:_e.reducerFactory?_e.reducerFactory:Ui},{provide:ue,deps:[Ie,Wt],useFactory:Hr},fe,br,rr,Rt,ar,ft(_e.runtimeChecks),Ft()]}function Ds(B,_e,de={}){return[{provide:gn,multi:!0,useValue:B instanceof Object?{}:de},{provide:Xe,multi:!0,useValue:{key:B instanceof Object?B.name:B,reducerFactory:de instanceof l.OlP||!de.reducerFactory?Ui:de.reducerFactory,metaReducers:de instanceof l.OlP||!de.metaReducers?[]:de.metaReducers,initialState:de instanceof l.OlP||!de.initialState?void 0:de.initialState}},{provide:Tt,deps:[gn,Xe],useFactory:v1},{provide:on,multi:!0,useValue:B instanceof Object?B.reducer:_e},{provide:jt,multi:!0,useExisting:_e instanceof l.OlP?_e:on},{provide:Et,multi:!0,deps:[on,[new l.tBr(jt)]],useFactory:Bs},Ft()]}let $s=(()=>{class B{constructor(de,Me,Ge,ot,tn,Nn){}}return B.\u0275fac=function(de){return new(de||B)(l.LFG(Je),l.LFG(hn),l.LFG(kn),l.LFG(pn),l.LFG(Ee,8),l.LFG(Wn,8))},B.\u0275mod=l.oAB({type:B}),B.\u0275inj=l.cJS({}),B})(),Bo=(()=>{class B{constructor(de,Me,Ge,ot,tn){this.features=de,this.featureReducers=Me,this.reducerManager=Ge;const Nn=de.map((fn,Yn)=>{const En=Me.shift()[Yn];return{...fn,reducers:En,initialState:co(fn.initialState)}});Ge.addFeatures(Nn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return B.\u0275fac=function(de){return new(de||B)(l.LFG(Tt),l.LFG(Et),l.LFG(Bn),l.LFG($s),l.LFG(Wn,8))},B.\u0275mod=l.oAB({type:B}),B.\u0275inj=l.cJS({}),B})(),ps=(()=>{class B{static forRoot(de,Me){return{ngModule:$s,providers:[...Kn(de,Me)]}}static forFeature(de,Me,Ge={}){return{ngModule:Bo,providers:[...Ds(de,Me,Ge)]}}}return B.\u0275fac=function(de){return new(de||B)},B.\u0275mod=l.oAB({type:B}),B.\u0275inj=l.cJS({}),B})();function cr(...B){return{reducer:B.pop(),types:B.map(Me=>Me.type)}}function lo(B,..._e){const de=new Map;for(const Me of _e)for(const Ge of Me.types){const ot=de.get(Ge);de.set(Ge,ot?(Nn,fn)=>Me.reducer(ot(Nn,fn),fn):Me.reducer)}return function(Me=B,Ge){const ot=de.get(Ge.type);return ot?ot(Me,Ge):Me}}},259:(ce,K,S)=>{S.d(K,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=S(9681);(0,l.registerVersion)("firebase","9.15.0","app")},9260:(ce,K,S)=>{S.d(K,{Z:()=>l.Z});var l=S(3942);l.Z.registerVersion("firebase","9.15.0","app-compat")},9568:(ce,K,S)=>{S.r(K);var l=S(5861),P=S(3942),T=S(552),ee=S(2090),se=(S(9681),S(1877),S(4859));function ne(){return window}function H(){return(H=(0,l.Z)(function*($,k,U){var Ce;const{BuildInfo:$e}=ne();(0,T.ap)(k.sessionId,"AuthEvent did not contain a session ID");const mt=yield De(k.sessionId),at={};return(0,T.aq)()?at.ibi=$e.packageName:(0,T.ar)()?at.apn=$e.packageName:(0,T.as)($,"operation-not-supported-in-this-environment"),$e.displayName&&(at.appDisplayName=$e.displayName),at.sessionId=mt,(0,T.at)($,U,k.type,void 0,null!==(Ce=k.eventId)&&void 0!==Ce?Ce:void 0,at)})).apply(this,arguments)}function be(){return(be=(0,l.Z)(function*($){const{BuildInfo:k}=ne(),U={};(0,T.aq)()?U.iosBundleId=k.packageName:(0,T.ar)()?U.androidPackageName=k.packageName:(0,T.as)($,"operation-not-supported-in-this-environment"),yield(0,T.au)($,U)})).apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*($,k,U){const{cordova:Ce}=ne();let $e=()=>{};try{yield new Promise((mt,at)=>{let Ht=null;function yt(){var zt;mt();const Nr=null===(zt=Ce.plugins.browsertab)||void 0===zt?void 0:zt.close;"function"==typeof Nr&&Nr(),"function"==typeof U?.close&&U.close()}function Tn(){Ht||(Ht=window.setTimeout(()=>{at((0,T.aw)($,"redirect-cancelled-by-user"))},2e3))}function pr(){"visible"===document?.visibilityState&&Tn()}k.addPassiveListener(yt),document.addEventListener("resume",Tn,!1),(0,T.ar)()&&document.addEventListener("visibilitychange",pr,!1),$e=()=>{k.removePassiveListener(yt),document.removeEventListener("resume",Tn,!1),document.removeEventListener("visibilitychange",pr,!1),Ht&&window.clearTimeout(Ht)}})}finally{$e()}})).apply(this,arguments)}function De($){return Se.apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*($){const k=Ne($),U=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(U)).map($e=>$e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ne($){if((0,T.ap)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const k=new ArrayBuffer($.length),U=new Uint8Array(k);for(let Ce=0;Ce<$.length;Ce++)U[Ce]=$.charCodeAt(Ce);return U}class Ve extends T.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(k)),super.onEvent(k)}initialized(){var k=this;return(0,l.Z)(function*(){yield k.initPromise})()}}function fe($){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,l.Z)(function*($){const k=yield ue()._get(Ie($));return k&&(yield ue()._remove(Ie($))),k})).apply(this,arguments)}function le(){const $=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const Ce=Math.floor(Math.random()*k.length);$.push(k.charAt(Ce))}return $.join("")}function ue(){return(0,T.az)(T.b)}function Ie($){return(0,T.aA)("authEvent",$.config.apiKey,$.name)}function Xe($){if(!$?.includes("?"))return{};const[k,...U]=$.split("?");return(0,ee.zd)(U.join("?"))}const gn=class on{constructor(){this._redirectPersistence=T.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=T.aB,this._overrideRedirectResult=T.aC}_initialize(k){var U=this;return(0,l.Z)(function*(){const Ce=k._key();let $e=U.eventManagers.get(Ce);return $e||($e=new Ve(k),U.eventManagers.set(Ce,$e),U.attachCallbackListeners(k,$e)),$e})()}_openPopup(k){(0,T.as)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,U,Ce,$e){var mt=this;return(0,l.Z)(function*(){!function we($){var k,U,Ce,$e,mt,at,Ht,yt,Tn,pr;const zt=ne();(0,T.ax)("function"==typeof(null===(k=zt?.universalLinks)||void 0===k?void 0:k.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,T.ax)(typeof(null===(U=zt?.BuildInfo)||void 0===U?void 0:U.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,T.ax)("function"==typeof(null===(mt=null===($e=null===(Ce=zt?.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===mt?void 0:mt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.ax)("function"==typeof(null===(yt=null===(Ht=null===(at=zt?.cordova)||void 0===at?void 0:at.plugins)||void 0===Ht?void 0:Ht.browsertab)||void 0===yt?void 0:yt.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.ax)("function"==typeof(null===(pr=null===(Tn=zt?.cordova)||void 0===Tn?void 0:Tn.InAppBrowser)||void 0===pr?void 0:pr.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const at=yield mt._initialize(k);yield at.initialized(),at.resetRedirect(),(0,T.aD)(),yield mt._originValidation(k);const Ht=function ze($,k,U=null){return{type:k,eventId:U,urlResponse:null,sessionId:le(),postBody:null,tenantId:$.tenantId,error:(0,T.aw)($,"no-auth-event")}}(k,Ce,$e);yield function Je($,k){return ue()._set(Ie($),k)}(k,Ht);const yt=yield function F($,k,U){return H.apply(this,arguments)}(k,Ht,U),Tn=yield function Ae($){const{cordova:k}=ne();return new Promise(U=>{k.plugins.browsertab.isAvailable(Ce=>{let $e=null;Ce?k.plugins.browsertab.openUrl($):$e=k.InAppBrowser.open($,(0,T.av)()?"_blank":"_system","location=yes"),U($e)})})}(yt);return function Ue($,k,U){return tt.apply(this,arguments)}(k,at,Tn)})()}_isIframeWebStorageSupported(k,U){throw new Error("Method not implemented.")}_originValidation(k){const U=k._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function q($){return be.apply(this,arguments)}(k)),this.originValidationPromises[U]}attachCallbackListeners(k,U){const{universalLinks:Ce,handleOpenURL:$e,BuildInfo:mt}=ne(),at=setTimeout((0,l.Z)(function*(){yield fe(k),U.onEvent(Tt())}),500),Ht=function(){var pr=(0,l.Z)(function*(zt){clearTimeout(at);const Nr=yield fe(k);let v1=null;Nr&&zt?.url&&(v1=function ke($,k){var U,Ce;const $e=function Ye($){const k=Xe($),U=k.link?decodeURIComponent(k.link):void 0,Ce=Xe(U).link,$e=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return Xe($e).link||$e||Ce||U||$}(k);if($e.includes("/__/auth/callback")){const mt=Xe($e),at=mt.firebaseError?function ge($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(mt.firebaseError)):null,Ht=null===(Ce=null===(U=at?.code)||void 0===U?void 0:U.split("auth/"))||void 0===Ce?void 0:Ce[1],yt=Ht?(0,T.aw)(Ht):null;return yt?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:yt,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:$e,postBody:null}}return null}(Nr,zt.url)),U.onEvent(v1||Tt())});return function(Nr){return pr.apply(this,arguments)}}();typeof Ce<"u"&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,Ht);const yt=$e,Tn=`${mt.packageName.toLowerCase()}://`;ne().handleOpenURL=function(){var pr=(0,l.Z)(function*(zt){if(zt.toLowerCase().startsWith(Tn)&&Ht({url:zt}),"function"==typeof yt)try{yt(zt)}catch(Nr){console.error(Nr)}});return function(zt){return pr.apply(this,arguments)}}()}};function Tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,T.aw)("no-auth-event")}}function Wt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function ci($=(0,ee.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()&&"capacitor:"!==Wt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ui(){try{const $=self.localStorage,k=T.aI();if($)return $.setItem(k,"1"),$.removeItem(k),!function Ii($=(0,ee.z$)()){return function Wn(){return(0,ee.w1)()&&11===document?.documentMode}()||function xn($=(0,ee.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,ee.hl)()}catch{return Ai()&&(0,ee.hl)()}return!1}function Ai(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qn(){return(function Dt(){return"http:"===Wt()||"https:"===Wt()}()||(0,ee.ru)()||ci())&&!function fr(){return(0,ee.b$)()||(0,ee.UG)()}()&&Ui()&&!Ai()}function Hr(){return ci()&&typeof document<"u"}function hn(){return(hn=(0,l.Z)(function*(){return!!Hr()&&new Promise($=>{const k=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),$(!0)})})})).apply(this,arguments)}const pt={LOCAL:"local",NONE:"none",SESSION:"session"},Bn=T.ax,br="persistence";function rr($){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*($){yield $._initializationPromise;const k=wt(),U=T.aA(br,$.config.apiKey,$.name);k&&k.setItem(U,$._getPersistence())})).apply(this,arguments)}function wt(){var $;try{return(null===($=function nr(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Rt=T.ax;class pn{constructor(){this.browserResolver=T.az(T.k),this.cordovaResolver=T.az(gn),this.underlyingResolver=null,this._redirectPersistence=T.a,this._completeRedirectFn=T.aB,this._overrideRedirectResult=T.aC}_initialize(k){var U=this;return(0,l.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,U,Ce,$e){var mt=this;return(0,l.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openPopup(k,U,Ce,$e)})()}_openRedirect(k,U,Ce,$e){var mt=this;return(0,l.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openRedirect(k,U,Ce,$e)})()}_isIframeWebStorageSupported(k,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,U)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return Hr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,l.Z)(function*(){if(k.underlyingResolver)return;const U=yield function Si(){return hn.apply(this,arguments)}();k.underlyingResolver=U?k.cordovaResolver:k.browserResolver})()}}function ar($){return $.unwrap()}function xr($){return li($)}function li($){const{_tokenResponse:k}=$ instanceof ee.ZR?$.customData:$;if(!k)return null;if(!($ instanceof ee.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return T.P.credentialFromResult($);const U=k.providerId;if(!U||U===T.o.PASSWORD)return null;let Ce;switch(U){case T.o.GOOGLE:Ce=T.Q;break;case T.o.FACEBOOK:Ce=T.N;break;case T.o.GITHUB:Ce=T.T;break;case T.o.TWITTER:Ce=T.W;break;default:const{oauthIdToken:$e,oauthAccessToken:mt,oauthTokenSecret:at,pendingToken:Ht,nonce:yt}=k;return mt||at||$e||Ht?Ht?U.startsWith("saml.")?T.aL._create(U,Ht):T.J._fromParams({providerId:U,signInMethod:U,pendingToken:Ht,idToken:$e,accessToken:mt}):new T.U(U).credential({idToken:$e,accessToken:mt,rawNonce:yt}):null}return $ instanceof ee.ZR?Ce.credentialFromError($):Ce.credentialFromResult($)}function Ut($,k){return k.catch(U=>{throw U instanceof ee.ZR&&function ir($,k){var U;const Ce=null===(U=k.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new Tr($,T.an($,k));else if(Ce){const $e=li(k),mt=k;$e&&(mt.credential=$e,mt.tenantId=Ce.tenantId||void 0,mt.email=Ce.email||void 0,mt.phoneNumber=Ce.phoneNumber||void 0)}}($,U),U}).then(U=>{const $e=U.user;return{operationType:U.operationType,credential:xr(U),additionalUserInfo:T.al(U),user:Un.getOrCreate($e)}})}function xi($,k){return qt.apply(this,arguments)}function qt(){return(qt=(0,l.Z)(function*($,k){const U=yield k;return{verificationId:U.verificationId,confirm:Ce=>Ut($,U.confirm(Ce))}})).apply(this,arguments)}class Tr{constructor(k,U){this.resolver=U,this.auth=function Fn($){return $.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return Ut(ar(this.auth),this.resolver.resolveSignIn(k))}}class Un{constructor(k){this._delegate=k,this.multiFactor=T.ao(k)}static getOrCreate(k){return Un.USER_MAP.has(k)||Un.USER_MAP.set(k,new Un(k)),Un.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var U=this;return(0,l.Z)(function*(){return Ut(U.auth,T.Z(U._delegate,k))})()}linkWithPhoneNumber(k,U){var Ce=this;return(0,l.Z)(function*(){return xi(Ce.auth,T.l(Ce._delegate,k,U))})()}linkWithPopup(k){var U=this;return(0,l.Z)(function*(){return Ut(U.auth,T.d(U._delegate,k,pn))})()}linkWithRedirect(k){var U=this;return(0,l.Z)(function*(){return yield rr(T.aE(U.auth)),T.g(U._delegate,k,pn)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var U=this;return(0,l.Z)(function*(){return Ut(U.auth,T._(U._delegate,k))})()}reauthenticateWithPhoneNumber(k,U){return xi(this.auth,T.r(this._delegate,k,U))}reauthenticateWithPopup(k){return Ut(this.auth,T.e(this._delegate,k,pn))}reauthenticateWithRedirect(k){var U=this;return(0,l.Z)(function*(){return yield rr(T.aE(U.auth)),T.h(U._delegate,k,pn)})()}sendEmailVerification(k){return T.ab(this._delegate,k)}unlink(k){var U=this;return(0,l.Z)(function*(){return yield T.ak(U._delegate,k),U})()}updateEmail(k){return T.ag(this._delegate,k)}updatePassword(k){return T.ah(this._delegate,k)}updatePhoneNumber(k){return T.u(this._delegate,k)}updateProfile(k){return T.af(this._delegate,k)}verifyBeforeUpdateEmail(k,U){return T.ac(this._delegate,k,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const nt=T.ax;let Be=(()=>{class ${constructor(U,Ce){if(this.app=U,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$e}=U.options;nt($e,"invalid-api-key",{appName:U.name}),nt($e,"invalid-api-key",{appName:U.name});const mt=typeof window<"u"?pn:void 0;this._delegate=Ce.initialize({options:{persistence:xt($e,U.name),popupRedirectResolver:mt}}),this._delegate._updateErrorMap(T.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,Ce){T.G(this._delegate,U,Ce)}applyActionCode(U){return T.a2(this._delegate,U)}checkActionCode(U){return T.a3(this._delegate,U)}confirmPasswordReset(U,Ce){return T.a1(this._delegate,U,Ce)}createUserWithEmailAndPassword(U,Ce){var $e=this;return(0,l.Z)(function*(){return Ut($e._delegate,T.a5($e._delegate,U,Ce))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return T.aa(this._delegate,U)}isSignInWithEmailLink(U){return T.a8(this._delegate,U)}getRedirectResult(){var U=this;return(0,l.Z)(function*(){nt(qn(),U._delegate,"operation-not-supported-in-this-environment");const Ce=yield T.j(U._delegate,pn);return Ce?Ut(U._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function jt($,k){(0,T.aE)($)._logFramework(k)}(this._delegate,U)}onAuthStateChanged(U,Ce,$e){const{next:mt,error:at,complete:Ht}=lt(U,Ce,$e);return this._delegate.onAuthStateChanged(mt,at,Ht)}onIdTokenChanged(U,Ce,$e){const{next:mt,error:at,complete:Ht}=lt(U,Ce,$e);return this._delegate.onIdTokenChanged(mt,at,Ht)}sendSignInLinkToEmail(U,Ce){return T.a7(this._delegate,U,Ce)}sendPasswordResetEmail(U,Ce){return T.a0(this._delegate,U,Ce||void 0)}setPersistence(U){var Ce=this;return(0,l.Z)(function*(){let $e;switch(function kn($,k){Bn(Object.values(pt).includes(k),$,"invalid-persistence-type"),(0,ee.b$)()?Bn(k!==pt.SESSION,$,"unsupported-persistence-type"):(0,ee.UG)()?Bn(k===pt.NONE,$,"unsupported-persistence-type"):Ai()?Bn(k===pt.NONE||k===pt.LOCAL&&(0,ee.hl)(),$,"unsupported-persistence-type"):Bn(k===pt.NONE||Ui(),$,"unsupported-persistence-type")}(Ce._delegate,U),U){case pt.SESSION:$e=T.a;break;case pt.LOCAL:$e=(yield T.az(T.i)._isAvailable())?T.i:T.b;break;case pt.NONE:$e=T.L;break;default:return T.as("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence($e)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return Ut(this._delegate,T.X(this._delegate))}signInWithCredential(U){return Ut(this._delegate,T.Y(this._delegate,U))}signInWithCustomToken(U){return Ut(this._delegate,T.$(this._delegate,U))}signInWithEmailAndPassword(U,Ce){return Ut(this._delegate,T.a6(this._delegate,U,Ce))}signInWithEmailLink(U,Ce){return Ut(this._delegate,T.a9(this._delegate,U,Ce))}signInWithPhoneNumber(U,Ce){return xi(this._delegate,T.s(this._delegate,U,Ce))}signInWithPopup(U){var Ce=this;return(0,l.Z)(function*(){return nt(qn(),Ce._delegate,"operation-not-supported-in-this-environment"),Ut(Ce._delegate,T.c(Ce._delegate,U,pn))})()}signInWithRedirect(U){var Ce=this;return(0,l.Z)(function*(){return nt(qn(),Ce._delegate,"operation-not-supported-in-this-environment"),yield rr(Ce._delegate),T.f(Ce._delegate,U,pn)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return T.a4(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=pt,$})();function lt($,k,U){let Ce=$;"function"!=typeof $&&({next:Ce,error:k,complete:U}=$);const $e=Ce;return{next:at=>$e(at&&Un.getOrCreate(at)),error:k,complete:U}}function xt($,k){const U=function Ot($,k){const U=wt();if(!U)return[];const Ce=T.aA(br,$,k);switch(U.getItem(Ce)){case pt.NONE:return[T.L];case pt.LOCAL:return[T.i,T.a];case pt.SESSION:return[T.a];default:return[]}}($,k);if(typeof self<"u"&&!U.includes(T.i)&&U.push(T.i),typeof window<"u")for(const Ce of[T.b,T.a])U.includes(Ce)||U.push(Ce);return U.includes(T.L)||U.push(T.L),U}class Lt{constructor(){this.providerId="phone",this._delegate=new T.P(ar(P.Z.auth()))}static credential(k,U){return T.P.credential(k,U)}verifyPhoneNumber(k,U){return this._delegate.verifyPhoneNumber(k,U)}unwrap(){return this._delegate}}Lt.PHONE_SIGN_IN_METHOD=T.P.PHONE_SIGN_IN_METHOD,Lt.PROVIDER_ID=T.P.PROVIDER_ID;const Xt=T.ax;class J{constructor(k,U,Ce=P.Z.app()){var $e;Xt(null===($e=Ce.options)||void 0===$e?void 0:$e.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new T.R(k,U,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ae($){$.INTERNAL.registerComponent(new se.wA("auth-compat",k=>{const U=k.getProvider("app-compat").getImmediate(),Ce=k.getProvider("auth");return new Be(U,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:T.A.EMAIL_SIGNIN,PASSWORD_RESET:T.A.PASSWORD_RESET,RECOVER_EMAIL:T.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:T.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:T.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:T.A.VERIFY_EMAIL}},EmailAuthProvider:T.M,FacebookAuthProvider:T.N,GithubAuthProvider:T.T,GoogleAuthProvider:T.Q,OAuthProvider:T.U,SAMLAuthProvider:T.V,PhoneAuthProvider:Lt,PhoneMultiFactorGenerator:T.m,RecaptchaVerifier:J,TwitterAuthProvider:T.W,Auth:Be,AuthCredential:T.H,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.3.0")}(P.Z)},8766:(ce,K,S)=>{S.d(K,{Lj:()=>Pe,X3:()=>Ne});var l=S(5861);let T,ee;const se=new WeakMap,ne=new WeakMap,Q=new WeakMap,F=new WeakMap,H=new WeakMap;let Ae={get(Ee,ke,le){if(Ee instanceof IDBTransaction){if("done"===ke)return ne.get(Ee);if("objectStoreNames"===ke)return Ee.objectStoreNames||Q.get(Ee);if("store"===ke)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return De(Ee[ke])},set:(Ee,ke,le)=>(Ee[ke]=le,!0),has:(Ee,ke)=>Ee instanceof IDBTransaction&&("done"===ke||"store"===ke)||ke in Ee};function we(Ee){return"function"==typeof Ee?function tt(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function X(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...ke){return Ee.apply(Se(this),ke),De(se.get(this))}:function(...ke){return De(Ee.apply(Se(this),ke))}:function(ke,...le){const ue=Ee.call(Se(this),ke,...le);return Q.set(ue,ke.sort?ke.sort():[ke]),De(ue)}}(Ee):(Ee instanceof IDBTransaction&&function be(Ee){if(ne.has(Ee))return;const ke=new Promise((le,ue)=>{const Ie=()=>{Ee.removeEventListener("complete",ge),Ee.removeEventListener("error",Ye),Ee.removeEventListener("abort",Ye)},ge=()=>{le(),Ie()},Ye=()=>{ue(Ee.error||new DOMException("AbortError","AbortError")),Ie()};Ee.addEventListener("complete",ge),Ee.addEventListener("error",Ye),Ee.addEventListener("abort",Ye)});ne.set(Ee,ke)}(Ee),((Ee,ke)=>ke.some(le=>Ee instanceof le))(Ee,function W(){return T||(T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,Ae):Ee)}function De(Ee){if(Ee instanceof IDBRequest)return function q(Ee){const ke=new Promise((le,ue)=>{const Ie=()=>{Ee.removeEventListener("success",ge),Ee.removeEventListener("error",Ye)},ge=()=>{le(De(Ee.result)),Ie()},Ye=()=>{ue(Ee.error),Ie()};Ee.addEventListener("success",ge),Ee.addEventListener("error",Ye)});return ke.then(le=>{le instanceof IDBCursor&&se.set(le,Ee)}).catch(()=>{}),H.set(ke,Ee),ke}(Ee);if(F.has(Ee))return F.get(Ee);const ke=we(Ee);return ke!==Ee&&(F.set(Ee,ke),H.set(ke,Ee)),ke}const Se=Ee=>H.get(Ee);function Ne(Ee,ke,{blocked:le,upgrade:ue,blocking:Ie,terminated:ge}={}){const Ye=indexedDB.open(Ee,ke),Xe=De(Ye);return ue&&Ye.addEventListener("upgradeneeded",Ct=>{ue(De(Ye.result),Ct.oldVersion,Ct.newVersion,De(Ye.transaction))}),le&&Ye.addEventListener("blocked",()=>le()),Xe.then(Ct=>{ge&&Ct.addEventListener("close",()=>ge()),Ie&&Ct.addEventListener("versionchange",()=>Ie())}).catch(()=>{}),Xe}function Pe(Ee,{blocked:ke}={}){const le=indexedDB.deleteDatabase(Ee);return ke&&le.addEventListener("blocked",()=>ke()),De(le).then(()=>{})}const Ve=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],Je=new Map;function fe(Ee,ke){if(!(Ee instanceof IDBDatabase)||ke in Ee||"string"!=typeof ke)return;if(Je.get(ke))return Je.get(ke);const le=ke.replace(/FromIndex$/,""),ue=ke!==le,Ie=ze.includes(le);if(!(le in(ue?IDBIndex:IDBObjectStore).prototype)||!Ie&&!Ve.includes(le))return;const ge=function(){var Ye=(0,l.Z)(function*(Xe,...Ct){const on=this.transaction(Xe,Ie?"readwrite":"readonly");let gn=on.store;return ue&&(gn=gn.index(Ct.shift())),(yield Promise.all([gn[le](...Ct),Ie&&on.done]))[0]});return function(Ct){return Ye.apply(this,arguments)}}();return Je.set(ke,ge),ge}!function Ue(Ee){Ae=Ee(Ae)}(Ee=>({...Ee,get:(ke,le,ue)=>fe(ke,le)||Ee.get(ke,le,ue),has:(ke,le)=>!!fe(ke,le)||Ee.has(ke,le)}))},5861:(ce,K,S)=>{function l(T,ee,W,X,se,ne,Q){try{var F=T[ne](Q),H=F.value}catch(q){return void W(q)}F.done?ee(H):Promise.resolve(H).then(X,se)}function P(T){return function(){var ee=this,W=arguments;return new Promise(function(X,se){var ne=T.apply(ee,W);function Q(H){l(ne,X,se,Q,F,"next",H)}function F(H){l(ne,X,se,Q,F,"throw",H)}Q(void 0)})}}S.d(K,{Z:()=>P})}},ce=>{ce(ce.s=4546)}]);